(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.VerovioApp = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var Verovio = window.Verovio || {};
Verovio.App = require('verovio-app').App;
window.Verovio = Verovio;

},{"verovio-app":2}],2:[function(require,module,exports){
module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),h=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),g=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),v=/Android/.test(e),m=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=g||/Mac/.test(t),y=/\bCrOS\b/.test(e),A=/win/i.test(t),w=h&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(h=!1,l=!0);var C=b&&(u||h&&(null==w||w<12.11)),x=n||a&&s>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var I,M=function(e,t){var n=e.className,r=k(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function S(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function L(e,t){return S(e).appendChild(t)}function T(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function O(e,t,n,r){var i=T(e,t,n,r);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function E(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function P(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function D(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!k(n[r]).test(t)&&(t+=" "+n[r]);return t}I=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var W=function(e){e.select()};function R(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function z(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}g?W=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(W=function(e){try{e.select()}catch(e){}});var H=function(){this.id=null};function B(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}H.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var j=30,G={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},U={origin:"*mouse"},Z={origin:"+move"};function Y(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var Q=[""];function X(e){for(;Q.length<=e;)Q.push(_(Q)+" ");return Q[e]}function _(e){return e[e.length-1]}function K(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(){}function q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&z(t,n),n}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||$.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return e.charCodeAt(0)>=768&&re.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function le(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function ue(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ce(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function he(e){if(null==e.parent)return null;for(var t=e.parent,n=B(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function de(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function fe(e,t){return t>=e.first&&t<e.first+e.size}function pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,n){if(void 0===n&&(n=null),!(this instanceof ge))return new ge(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ve(e,t){return e.line-t.line||e.ch-t.ch}function me(e,t){return e.sticky==t.sticky&&0==ve(e,t)}function be(e){return ge(e.line,e.ch)}function ye(e,t){return ve(e,t)<0?t:e}function Ae(e,t){return ve(e,t)<0?e:t}function we(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ce(e,t){if(t.line<e.first)return ge(e.first,0);var n=e.first+e.size-1;return t.line>n?ge(n,se(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?ge(e.line,t):n<0?ge(e.line,0):e}(t,se(e,t.line).text.length)}function xe(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Ce(e,t[r]);return n}var ke=!1,Ie=!1;function Me(e,t,n){this.marker=e,this.from=t,this.to=n}function Se(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Le(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Te(e,t){if(t.full)return null;var n=fe(e,t.from.line)&&se(e,t.from.line).markedSpans,r=fe(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ve(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Me(a,o.from,l?null:o.to))}}return r}(n,i,a),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Me(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),u=1==t.text.length,c=_(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var f=Se(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=i}}if(l)for(var p=0;p<l.length;++p){var g=l[p];if(null!=g.to&&(g.to+=c),null==g.from){var v=Se(s,g.marker);v||(g.from=c,u&&(s||(s=[])).push(g))}else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=Oe(s)),l&&l!=s&&(l=Oe(l));var m=[s];if(!u){var b,y=t.text.length-2;if(y>0&&s)for(var A=0;A<s.length;++A)null==s[A].to&&(b||(b=[])).push(new Me(s[A].marker,null,null));for(var w=0;w<y;++w)m.push(b);m.push(l)}return m}function Oe(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ee(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Pe(e){return e.inclusiveLeft?-1:0}function De(e){return e.inclusiveRight?1:0}function We(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ve(r.from,i.from)||Pe(e)-Pe(t);if(o)return-o;var a=ve(r.to,i.to)||De(e)-De(t);return a||t.id-e.id}function Re(e,t){var n,r=Ie&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||We(n,i.marker)<0)&&(n=i.marker);return n}function ze(e){return Re(e,!0)}function Fe(e){return Re(e,!1)}function He(e,t){var n,r=Ie&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||We(n,o.marker)<0)&&(n=o.marker)}return n}function Be(e,t,n,r,i){var o=se(e,t),a=Ie&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=ve(u.from,n)||Pe(l.marker)-Pe(i),h=ve(u.to,r)||De(l.marker)-De(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ve(u.to,n)>=0:ve(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ve(u.from,r)<=0:ve(u.from,r)<0)))return!0}}}function je(e){for(var t;t=ze(e);)e=t.find(-1,!0).line;return e}function Ge(e,t){var n=se(e,t),r=je(n);return n==r?t:he(r)}function Ve(e,t){if(t>e.lastLine())return t;var n,r=se(e,t);if(!Ue(e,r))return t;for(;n=Fe(r);)r=n.find(1,!0).line;return he(r)+1}function Ue(e,t){var n=Ie&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ze(e,t,r))return!0}}function Ze(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Ze(e,r.line,Se(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ze(e,t,i))return!0}function Ye(e){for(var t=0,n=(e=je(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Qe(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ze(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Fe(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function Xe(e){var t=e.display,n=e.doc;t.maxLine=se(n,n.first),t.maxLineLength=Qe(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Qe(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var _e=null;function Ke(e,t,n){var r;_e=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:_e=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:_e=i)}return null!=r?r:_e}var Je=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var c=e.length,h=[],d=0;d<c;++d)h.push(n(e.charCodeAt(d)));for(var f=0,p=u;f<c;++f){var g=h[f];"m"==g?h[f]=p:p=g}for(var v=0,m=u;v<c;++v){var b=h[v];"1"==b&&"r"==m?h[v]="n":o.test(b)&&(m=b,"r"==b&&(h[v]="R"))}for(var y=1,A=h[0];y<c-1;++y){var w=h[y];"+"==w&&"1"==A&&"1"==h[y+1]?h[y]="1":","!=w||A!=h[y+1]||"1"!=A&&"n"!=A||(h[y]=A),A=w}for(var C=0;C<c;++C){var x=h[C];if(","==x)h[C]="N";else if("%"==x){var k=void 0;for(k=C+1;k<c&&"%"==h[k];++k);for(var I=C&&"!"==h[C-1]||k<c&&"1"==h[k]?"1":"N",M=C;M<k;++M)h[M]=I;C=k-1}}for(var S=0,L=u;S<c;++S){var T=h[S];"L"==L&&"1"==T?h[S]="L":o.test(T)&&(L=T)}for(var O=0;O<c;++O)if(i.test(h[O])){var N=void 0;for(N=O+1;N<c&&i.test(h[N]);++N);for(var E="L"==(O?h[O-1]:u),P="L"==(N<c?h[N]:u),D=E==P?E?"L":"R":u,W=O;W<N;++W)h[W]=D;O=N-1}for(var R,z=[],F=0;F<c;)if(a.test(h[F])){var H=F;for(++F;F<c&&a.test(h[F]);++F);z.push(new l(0,H,F))}else{var B=F,j=z.length;for(++F;F<c&&"L"!=h[F];++F);for(var G=B;G<F;)if(s.test(h[G])){B<G&&z.splice(j,0,new l(1,B,G));var V=G;for(++G;G<F&&s.test(h[G]);++G);z.splice(j,0,new l(2,V,G)),B=G}else++G;B<F&&z.splice(j,0,new l(1,B,F))}return"ltr"==t&&(1==z[0].level&&(R=e.match(/^\s+/))&&(z[0].from=R[0].length,z.unshift(new l(0,0,R[0].length))),1==_(z).level&&(R=e.match(/\s+$/))&&(_(z).to-=R[0].length,z.push(new l(0,c-R[0].length,c)))),"rtl"==t?z.reverse():z}}();function qe(e,t){var n=e.order;return null==n&&(n=e.order=Je(e.text,t)),n}var $e=[],et=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||$e).concat(n)}};function tt(e,t){return e._handlers&&e._handlers[t]||$e}function nt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=B(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function rt(e,t){var n=tt(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function it(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,n||t.type,e,t),ct(t)||t.codemirrorIgnore}function ot(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==B(n,t[r])&&n.push(t[r])}function at(e,t){return tt(e,t).length>0}function st(e){e.prototype.on=function(e,t){et(this,e,t)},e.prototype.off=function(e,t){nt(this,e,t)}}function lt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ut(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ct(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ht(e){lt(e),ut(e)}function dt(e){return e.target||e.srcElement}function ft(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var pt,gt,vt=function(){if(a&&s<9)return!1;var e=T("div");return"draggable"in e||"dragDrop"in e}();function mt(e){if(null==pt){var t=T("span","​");L(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(pt=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=pt?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function bt(e){if(null!=gt)return gt;var t=L(e,document.createTextNode("AخA")),n=I(t,0,1).getBoundingClientRect(),r=I(t,1,2).getBoundingClientRect();return S(e),!(!n||n.left==n.right)&&(gt=r.right-n.right<3)}var yt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},At=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},wt=function(){var e=T("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ct=null,xt={},kt={};function It(e){if("string"==typeof e&&kt.hasOwnProperty(e))e=kt[e];else if(e&&"string"==typeof e.name&&kt.hasOwnProperty(e.name)){var t=kt[e.name];"string"==typeof t&&(t={name:t}),(e=q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return It("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return It("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Mt(e,t){t=It(t);var n=xt[t.name];if(!n)return Mt(e,"text/plain");var r=n(e,t);if(St.hasOwnProperty(t.name)){var i=St[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var St={};function Lt(e,t){var n=St.hasOwnProperty(e)?St[e]:St[e]={};z(t,n)}function Tt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ot(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Nt(e,t,n){return!e.startState||e.startState(t,n)}var Et=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Et.prototype.eol=function(){return this.pos>=this.string.length},Et.prototype.sol=function(){return this.pos==this.lineStart},Et.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Et.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Et.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Et.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Et.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Et.prototype.skipToEnd=function(){this.pos=this.string.length},Et.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Et.prototype.backUp=function(e){this.pos-=e},Et.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Et.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Et.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return!1!==t&&(this.pos+=e.length),!0},Et.prototype.current=function(){return this.string.slice(this.start,this.pos)},Et.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Et.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Et.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Pt=function(e,t){this.state=e,this.lookAhead=t},Dt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function Wt(e,t,n,r){var i=[e.state.modeGen],o={};Ut(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,Ut(e,t.text,s.mode,n,function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Rt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=zt(e,he(t)),i=t.text.length>e.options.maxHighlightLength&&Tt(e.doc.mode,r.state),o=Wt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function zt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new Dt(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=se(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof Pt?u.lookAhead:0)<=o.modeFrontier))return s;var c=F(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}(e,t,n),a=o>r.first&&se(r,o-1).stateAfter,s=a?Dt.fromSaved(r,a,o):new Dt(r,Nt(r.mode),o);return r.iter(o,t,function(n){Ft(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Ft(e,t,n,r){var i=e.doc.mode,o=new Et(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Ht(i,n.state);!o.eol();)Bt(i,o,n.state),o.start=o.pos}function Ht(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ot(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Bt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ot(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Dt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Dt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Dt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Dt.fromSaved=function(e,t,n){return t instanceof Pt?new Dt(e,Tt(e.mode,t.state),n,t.lookAhead):new Dt(e,Tt(e.mode,t),n)},Dt.prototype.save=function(e){var t=!1!==e?Tt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pt(t,this.maxLookAhead):t};var jt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Gt(e,t,n,r){var i,o=e.doc,a=o.mode;t=Ce(o,t);var s,l=se(o,t.line),u=zt(e,t.line,n),c=new Et(l.text,e.options.tabSize,u);for(r&&(s=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Bt(a,c,u.state),r&&s.push(new jt(c,i,Tt(o.mode,u.state)));return r?s:new jt(c,i,u.state)}function Vt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Ut(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,h=new Et(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&Vt(Ht(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,a&&Ft(e,t,r,h.pos),h.pos=t.length,l=null):l=Vt(Bt(n,h,r.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<h.start;)u=Math.min(h.start,u+5e3),i(u,c);c=l}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);i(p,c),u=p}}var Zt=function(e,t,n){this.text=e,Ee(this,t),this.height=n?n(this):1};function Yt(e){e.parent=null,Ne(e)}Zt.prototype.lineNo=function(){return he(this)},st(Zt);var Qt={},Xt={};function _t(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Xt:Qt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Kt(e,t){var n=O("span",null,null,l?"padding-right: .1px":null),r={pre:O("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=qt,bt(e.display.measure)&&(a=qe(o,e.doc.direction))&&(r.addToken=$t(r.addToken,a)),r.map=[];var s=t!=e.display.externalMeasured&&he(o);tn(o,r,Rt(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=D(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=D(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(mt(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function Jt(e){var t=T("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function qt(e,t,n,r,i,o,l){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,h=e.cm.state.specialChars,d=!1;if(h.test(t)){u=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(t),g=p?p.index-f:t.length-f;if(g){var v=document.createTextNode(c.slice(f,f+g));a&&s<9?u.appendChild(T("span",[v])):u.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!p)break;f+=g+1;var m=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(m=u.appendChild(T("span",X(y),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?((m=u.appendChild(T("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?u.appendChild(T("span",[m])):u.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||d||o){var A=n||"";r&&(A+=r),i&&(A+=i);var w=T("span",[u],A,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,l[C]);return e.content.appendChild(w)}e.content.appendChild(u)}}function $t(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var h=void 0,d=0;d<t.length&&!((h=t[d]).to>u&&h.from<=u);d++);if(h.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,h.to-u),i,o,null,s,l),o=null,r=r.slice(h.to-u),u=h.to}}}function en(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,h,d,f=i.length,p=0,g=1,v="",m=0;;){if(m==p){l=u=c=s="",d=null,h=null,m=1/0;for(var b=[],y=void 0,A=0;A<r.length;++A){var w=r[A],C=w.marker;if("bookmark"==C.type&&w.from==p&&C.widgetNode)b.push(C);else if(w.from<=p&&(null==w.to||w.to>p||C.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,u=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&w.from==p&&(c+=" "+C.startStyle),C.endStyle&&w.to==m&&(y||(y=[])).push(C.endStyle,w.to),C.title&&((d||(d={})).title=C.title),C.attributes)for(var x in C.attributes)(d||(d={}))[x]=C.attributes[x];C.collapsed&&(!h||We(h.marker,C)<0)&&(h=w)}else w.from>p&&m>w.from&&(m=w.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==m&&(u+=" "+y[k]);if(!h||h.from==p)for(var I=0;I<b.length;++I)en(t,0,b[I]);if(h&&(h.from||0)==p){if(en(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var M=Math.min(f,m);;){if(v){var S=p+v.length;if(!h){var L=S>M?v.slice(0,M-p):v;t.addToken(t,L,a?a+l:l,c,p+L.length==m?u:"",s,d)}if(S>=M){v=v.slice(M-p),p=M;break}p=S,c=""}v=i.slice(o,o=n[g++]),a=_t(n[g++],t.cm.options)}}else for(var T=1;T<n.length;T+=2)t.addToken(t,i.slice(o,o=n[T]),_t(n[T+1],t.cm.options))}function nn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Fe(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?he(_(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ue(e,t)}function rn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new nn(e.doc,se(e.doc,o),o);r=o+a.size,i.push(a)}return i}var on=null,an=null;function sn(e,t){var n=tt(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);on?r=on.delayedCallbacks:an?r=an:(r=an=[],setTimeout(ln,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function ln(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?dn(e,t):"gutter"==o?pn(e,t,n,r):"class"==o?fn(e,t):"widget"==o&&gn(e,t,r)}t.changes=null}function cn(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function hn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Kt(e,t)}function dn(e,t){var n=t.text.className,r=hn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,fn(e,t)):n&&(t.text.className=n)}function fn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=cn(t);t.background=r.insertBefore(T("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?cn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function pn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=cn(t);t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=cn(t),s=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(T("div",pe(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var u=e.options.gutters[l],c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(T("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);mn(e,t,n)}function vn(e,t,n,r){var i=hn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),fn(e,t),pn(e,t,n,r),mn(e,t,r),t.node}function mn(e,t,n){if(bn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)bn(e,t.rest[r],t,n,!1)}function bn(e,t,n,r,i){if(t.widgets)for(var o=cn(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=T("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),yn(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),sn(l,"redraw")}}function yn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function An(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),L(t.display.measure,T("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function wn(e,t){for(var n=dt(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Cn(e){return e.lineSpace.offsetTop}function xn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function kn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=L(e.measure,T("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function In(e){return j-e.display.nativeBarWidth}function Mn(e){return e.display.scroller.clientWidth-In(e)-e.display.barWidth}function Sn(e){return e.display.scroller.clientHeight-In(e)-e.display.barHeight}function Ln(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(he(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Tn(e,t,n,r){return En(e,Nn(e,t),n,r)}function On(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[sr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Nn(e,t){var n=he(t),r=On(e,n);r&&!r.text?r=null:r&&r.changes&&(un(e,r,n,nr(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=he(t=je(t)),r=e.display.externalMeasured=new nn(e.doc,t,n);r.lineN=n;var i=r.built=Kt(e,r);return r.text=i.pre,L(e.display.lineMeasure,i.pre),r}(e,t));var i=Ln(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function En(e,t,n,r,i){t.before&&(n=-1);var o,l=n+(r||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&Mn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Wn(t.map,n,r),l=o.node,u=o.start,c=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;u&&ie(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Rn(I(l,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,h="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ct)return Ct;var t=L(e,T("span","x")),n=t.getBoundingClientRect(),r=I(t,0,1).getBoundingClientRect();return Ct=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var f;u>0&&(h=r="right"),i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+tr(e.display),top:p.top,bottom:p.bottom}:Dn}for(var g=i.top-t.rect.top,v=i.bottom-t.rect.top,m=(g+v)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(m<b[y]);y++);var A=y?b[y-1]:0,w=b[y],C={left:("right"==h?i.right:i.left)-t.rect.left,right:("left"==h?i.left:i.right)-t.rect.left,top:A,bottom:w};return i.left||i.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=v),C}(e,t,n,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Pn,Dn={left:0,right:0,top:0,bottom:0};function Wn(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Rn(e,t){var n=Dn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function zn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Fn(e){e.display.externalMeasure=null,S(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)zn(e.display.view[t])}function Hn(e){Fn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Bn(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function jn(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Gn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=An(e.widgets[n]));return t}function Vn(e,t,n,r,i){if(!i){var o=Gn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ye(t);if("local"==r?a+=Cn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:jn());var l=s.left+("window"==r?0:Bn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Un(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Bn(),i-=jn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Zn(e,t,n,r,i){return r||(r=se(e.doc,t.line)),Vn(e,r,Tn(e,r,t.ch,i),n)}function Yn(e,t,n,r,i,o){function a(t,a){var s=En(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Vn(e,r,s,n)}r=r||se(e.doc,t.line),i||(i=Nn(e,r));var s=qe(r,e.doc.direction),l=t.ch,u=t.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,n){var r=s[t],i=1==r.level;return a(n?e-1:e,i!=n)}var h=Ke(s,l,u),d=_e,f=c(l,h,"before"==u);return null!=d&&(f.other=c(l,d,"before"!=u)),f}function Qn(e,t){var n=0;t=Ce(e.doc,t),e.options.lineWrapping||(n=tr(e.display)*t.ch);var r=se(e.doc,t.line),i=Ye(r)+Cn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Xn(e,t,n,r,i){var o=ge(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function _n(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Xn(r.first,0,null,!0,-1);var i=de(r,n),o=r.first+r.size-1;if(i>o)return Xn(r.first+r.size-1,se(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=se(r,i);;){var s=$n(e,a,i,t,n),l=He(a,s.ch+(s.xRel>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=se(r,i=u.line)}}function Kn(e,t,n,r){r-=Gn(t);var i=t.text.length,o=ae(function(t){return En(e,n,t-1).bottom<=r},i,0);return i=ae(function(t){return En(e,n,t).top>r},o,i),{begin:o,end:i}}function Jn(e,t,n,r){n||(n=Nn(e,t));var i=Vn(e,t,En(e,n,r),"line").top;return Kn(e,t,n,i)}function qn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function $n(e,t,n,r,i){i-=Ye(t);var o=Nn(e,t),a=Gn(t),s=0,l=t.text.length,u=!0,c=qe(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?function(e,t,n,r,i,o,a){var s=Kn(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,h=null,d=0;d<i.length;d++){var f=i[d];if(!(f.from>=u||f.to<=l)){var p=1!=f.level,g=En(e,r,p?Math.min(u,f.to)-1:Math.max(l,f.from)).right,v=g<o?o-g+1e9:g-o;(!c||h>v)&&(c=f,h=v)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}:function(e,t,n,r,i,o,a){var s=ae(function(s){var l=i[s],u=1!=l.level;return qn(Yn(e,ge(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=Yn(e,ge(n,u?l.from:l.to,u?"after":"before"),"line",t,r);qn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l})(e,t,n,o,c,r,i);u=1!=h.level,s=u?h.from:h.to-1,l=u?h.to:h.from-1}var d,f,p=null,g=null,v=ae(function(t){var n=En(e,o,t);return n.top+=a,n.bottom+=a,!!qn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,g=n),!0)},s,l),m=!1;if(g){var b=r-g.left<g.right-r,y=b==u;v=p+(y?0:1),f=y?"after":"before",d=b?g.left:g.right}else{u||v!=l&&v!=s||v++,f=0==v?"after":v==t.text.length?"before":En(e,o,v-(u?1:0)).bottom+a<=i==u?"after":"before";var A=Yn(e,ge(n,v,f),"line",t,o);d=A.left,m=i<A.top||i>=A.bottom}return v=oe(t.text,v,1),Xn(n,v,f,m,r-d)}function er(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pn){Pn=T("pre");for(var t=0;t<49;++t)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(T("br"));Pn.appendChild(document.createTextNode("x"))}L(e.measure,Pn);var n=Pn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),S(e.measure),n||1}function tr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=T("span","xxxxxxxxxx"),n=T("pre",[t]);L(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function nr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ir(e){var t=er(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/tr(e.display)-3);return function(i){if(Ue(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function or(e){var t=e.doc,n=ir(e);t.iter(function(e){var t=n(e);t!=e.height&&ce(e,t)})}function ar(e,t,n,r){var i=e.display;if(!n&&"true"==dt(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=_n(e,o,a);if(r&&1==u.xRel&&(l=se(e.doc,u.line).text).length==u.ch){var c=F(l,l.length,e.options.tabSize)-l.length;u=ge(u.line,Math.max(0,Math.round((o-kn(e.display).left)/tr(e.display))-c))}return u}function sr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function lr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ur(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&cr(e,s.head,i),l||dr(e,s,o)}}return r}function cr(e,t,n){var r=Yn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(T("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function hr(e,t){return e.top-t.top||e.left-t.left}function dr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=kn(e.display),s=a.left,l=Math.max(r.sizerWidth,Mn(e)-r.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function h(t,n,r){var o,a,h=se(i,t),d=h.text.length;function f(n,r){return Zn(e,ge(t,n),"div",h,r)}function p(t,n,r){var i=Jn(e,h,null,t),o="ltr"==n==("after"==r)?"left":"right",a="after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1);return f(a,o)[o]}var g=qe(h,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(g,n||0,null==r?d:r,function(e,t,i,h){var v="ltr"==i,m=f(e,v?"left":"right"),b=f(t-1,v?"right":"left"),y=null==n&&0==e,A=null==r&&t==d,w=0==h,C=!g||h==g.length-1;if(b.top-m.top<=3){var x=(u?y:A)&&w,k=(u?A:y)&&C,I=x?s:(v?m:b).left,M=k?l:(v?b:m).right;c(I,m.top,M-I,m.bottom)}else{var S,L,T,O;v?(S=u&&y&&w?s:m.left,L=u?l:p(e,i,"before"),T=u?s:p(t,i,"after"),O=u&&A&&C?l:b.right):(S=u?p(e,i,"before"):s,L=!u&&y&&w?l:m.right,T=!u&&A&&C?s:b.left,O=u?p(t,i,"after"):l),c(S,m.top,L-S,m.bottom),m.bottom<b.top&&c(s,m.bottom,null,b.top),c(T,b.top,O-T,b.bottom)}(!o||hr(m,o)<0)&&(o=m),hr(b,o)<0&&(o=b),(!a||hr(m,a)<0)&&(a=m),hr(b,a)<0&&(a=b)}),{start:o,end:a}}var d=t.from(),f=t.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=se(i,d.line),g=se(i,f.line),v=je(p)==je(g),m=h(d.line,d.ch,v?p.text.length+1:null).end,b=h(f.line,v?0:null,f.ch).start;v&&(m.top<b.top-2?(c(m.right,m.top,null,m.bottom),c(s,b.top,b.left,b.bottom)):c(m.right,m.top,b.left-m.right,m.bottom)),m.bottom<b.top&&c(s,m.bottom,null,b.top)}n.appendChild(o)}function fr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function pr(e){e.state.focused||(e.display.input.focus(),vr(e))}function gr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,mr(e))},100)}function vr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,P(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),fr(e))}function mr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,M(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function br(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-n,n=c}else{var h=i.node.getBoundingClientRect();l=h.bottom-h.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-h.left-1)}var d=i.line.height-l;if(l<2&&(l=er(t)),(d>.005||d<-.005)&&(ce(i.line,l),yr(i.line),i.rest))for(var f=0;f<i.rest.length;f++)yr(i.rest[f]);if(u>e.display.sizerWidth){var p=Math.ceil(u/tr(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function yr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Ar(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Cn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=de(t,r),a=de(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=de(t,Ye(se(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=de(t,Ye(se(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function wr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Cr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=pe(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(T("div",[T("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",li(e),!0}return!1}function xr(e,t){var n=e.display,r=er(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Sn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+xn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=Mn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>d;return f&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>d+h-3&&(a.scrollLeft=t.right+(f?0:10)-d),a}function kr(e,t){null!=t&&(Sr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ir(e){Sr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Mr(e,t,n){null==t&&null==n||Sr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Sr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Qn(e,t.from),r=Qn(e,t.to);Lr(e,n,r,t.margin)}}function Lr(e,t,n,r){var i=xr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Mr(e,i.scrollLeft,i.scrollTop)}function Tr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||si(e,{top:t}),Or(e,t,!0),n&&si(e),ni(e,100))}function Or(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Nr(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,wr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Er(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+xn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+In(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Pr=function(e,t,n){this.cm=n;var r=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),et(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),et(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Pr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Pr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Pr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Pr.prototype.zeroWidthHack=function(){var e=b&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new H,this.disableVert=new H},Pr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,function r(){var i=e.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,r)})},Pr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Dr=function(){};function Wr(e,t){t||(t=Er(e));var n=e.display.barWidth,r=e.display.barHeight;Rr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&br(e),Rr(e,Er(e)),n=e.display.barWidth,r=e.display.barHeight}function Rr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Dr.prototype.update=function(){return{bottom:0,right:0}},Dr.prototype.setScrollLeft=function(){},Dr.prototype.setScrollTop=function(){},Dr.prototype.clear=function(){};var zr={native:Pr,null:Dr};function Fr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new zr[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Nr(e,t):Tr(e,t)},e),e.display.scrollbars.addClass&&P(e.display.wrapper,e.display.scrollbars.addClass)}var Hr=0;function Br(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hr},function(e){on?on.ops.push(e):e.ownsGroup=on={ops:[e],delayedCallbacks:[]}}(e.curOp)}function jr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{on=null,t(n)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Gr(t[n]);for(var r=0;r<t.length;r++)Vr(t[r]);for(var i=0;i<t.length;i++)Ur(t[i]);for(var o=0;o<t.length;o++)Zr(t[o]);for(var a=0;a<t.length;a++)Yr(t[a])}(e)})}function Gr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=In(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=In(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Xe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Vr(e){e.updatedDisplay=e.mustUpdate&&oi(e.cm,e.update)}function Ur(e){var t=e.cm,n=t.display;e.updatedDisplay&&br(t),e.barMeasure=Er(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Tn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+In(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Mn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Zr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==E();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Wr(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&fr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&pr(e.cm)}function Yr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Or(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Nr(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Yn(e,t),l=n&&n!=t?Yn(e,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=xr(e,i),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(Tr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(Nr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(a=!0)),!a)break}return i}(t,Ce(r,e.scrollToPos.from),Ce(r,e.scrollToPos.to),e.scrollToPos.margin);!function(e,t){if(!it(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=T("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Cn(e.display))+"px;\n                         height: "+(t.bottom-t.top+In(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||rt(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&rt(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Qr(e,t){if(e.curOp)return t();Br(e);try{return t()}finally{jr(e)}}function Xr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Br(e);try{return t.apply(e,arguments)}finally{jr(e)}}}function _r(e){return function(){if(this.curOp)return e.apply(this,arguments);Br(this);try{return e.apply(this,arguments)}finally{jr(this)}}}function Kr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Br(t);try{return e.apply(this,arguments)}finally{jr(t)}}}function Jr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ie&&Ge(e.doc,t)<i.viewTo&&$r(e);else if(n<=i.viewFrom)Ie&&Ve(e.doc,n+r)>i.viewFrom?$r(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)$r(e);else if(t<=i.viewFrom){var o=ei(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):$r(e)}else if(n>=i.viewTo){var a=ei(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):$r(e)}else{var s=ei(e,t,t,-1),l=ei(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(rn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):$r(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function qr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[sr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function $r(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ei(e,t,n,r){var i,o=sr(e,t),a=e.display.view;if(!Ie||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Ge(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function ti(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ni(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,R(ri,e))}function ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=zt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Tt(t.mode,r.state):null,l=Wt(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!h&&d<a.length;++d)h=a[d]!=o.styles[d];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ft(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ni(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Qr(e,function(){for(var t=0;t<i.length;t++)qr(e,i[t],"text")})}}var ii=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Ar(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Mn(e),this.force=n,this.dims=nr(e),this.events=[]};function oi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return $r(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ti(e))return!1;Cr(e)&&($r(e),t.dims=nr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Ie&&(o=Ge(e.doc,o),a=Ve(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=rn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=rn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(sr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(rn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,sr(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=Ye(se(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=ti(e);if(!s&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=E();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return u>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,h=0;h<u.length;h++){var d=u[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var f=i&&null!=t&&t<=c&&d.lineNumber;d.changes&&(B(d.changes,"gutter")>-1&&(f=!1),un(e,d,c,n)),f&&(S(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(pe(e.options,c)))),a=d.node.nextSibling}else{var p=vn(e,d,c,n);o.insertBefore(p,a)}c+=d.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=E()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(c),S(n.cursorDiv),S(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ni(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Mn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+xn(e.display)-Sn(e),n.top)}),t.visible=Ar(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&oi(e,t);r=!1){br(e);var i=Er(e);lr(e),Wr(e,i),ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var n=new ii(e,t);if(oi(e,n)){br(e),ai(e,n);var r=Er(e);lr(e),Wr(e,r),ui(e,r),n.finish()}}function li(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+In(e)+"px"}function ci(e){var t=e.display.gutters,n=e.options.gutters;S(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(T("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",li(e)}function hi(e){var t=B(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ii.prototype.signal=function(e,t){at(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var di=0,fi=null;function pi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function gi(e){var t=pi(e);return t.x*=fi,t.y*=fi,t}function vi(e,t){var r=pi(t),i=r.x,o=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&b&&l)e:for(var d=t.target,f=a.view;d!=s;d=d.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==d){e.display.currentWheelTarget=d;break e}if(i&&!n&&!h&&null!=fi)return o&&c&&Tr(e,Math.max(0,s.scrollTop+o*fi)),Nr(e,Math.max(0,s.scrollLeft+i*fi)),(!o||o&&c)&&lt(t),void(a.wheelStartX=null);if(o&&null!=fi){var g=o*fi,v=e.doc.scrollTop,m=v+a.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):m=Math.min(e.doc.height,m+g+50),si(e,{top:v,bottom:m})}di<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(fi=(fi*di+n)/(di+1),++di)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?fi=-.53:n?fi=15:c?fi=-.7:d&&(fi=-1/3);var mi=function(e,t){this.ranges=e,this.primIndex=t};mi.prototype.primary=function(){return this.ranges[this.primIndex]},mi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!me(n.anchor,r.anchor)||!me(n.head,r.head))return!1}return!0},mi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new bi(be(this.ranges[t].anchor),be(this.ranges[t].head));return new mi(e,this.primIndex)},mi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},mi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ve(t,r.from())>=0&&ve(e,r.to())<=0)return n}return-1};var bi=function(e,t){this.anchor=e,this.head=t};function yi(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return ve(e.from(),t.from())}),n=B(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=ve(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=Ae(s.from(),a.from()),c=ye(s.to(),a.to()),h=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new bi(h?c:u,h?u:c))}}return new mi(t,n)}function Ai(e,t){return new mi([new bi(e,t||e)],0)}function wi(e){return e.text?ge(e.from.line+e.text.length-1,_(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ci(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return wi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=wi(t).ch-t.to.ch),ge(n,r)}function xi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new bi(Ci(i.anchor,t),Ci(i.head,t)))}return yi(e.cm,n,e.sel.primIndex)}function ki(e,t,n){return e.line==t.line?ge(n.line,e.ch-t.ch+n.ch):ge(n.line+(e.line-t.line),e.ch)}function Ii(e){e.doc.mode=Mt(e.options,e.doc.modeOption),Mi(e)}function Mi(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ni(e,100),e.state.modeGen++,e.curOp&&Jr(e)}function Si(e,t){return 0==t.from.ch&&0==t.to.ch&&""==_(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Li(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ne(e),Ee(e,n);var i=r?r(e):1;i!=e.height&&ce(e,i)}(e,n,i,r),sn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new Zt(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=se(e,s.line),h=se(e,l.line),d=_(u),f=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Si(e,t)){var g=a(0,u.length-1);o(h,h.text,f),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),f);else{var v=a(1,u.length-1);v.push(new Zt(d+c.text.slice(l.ch),f,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,v)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,d+h.text.slice(l.ch),f);var m=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m)}sn(e,"change",e,t)}function Ti(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,r,l))}}}(e,null,!0)}function Oi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,or(e),Ii(e),Ni(e),e.options.lineWrapping||Xe(e),e.options.mode=t.modeOption,Jr(e)}function Ni(e){("rtl"==e.doc.direction?P:M)(e.display.lineDiv,"CodeMirror-rtl")}function Ei(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Pi(e,t){var n={from:be(t.from),to:wi(t),text:le(e,t.from,t.to)};return Fi(e,n,t.from.line,t.to.line+1),Ti(e,function(e){return Fi(e,n,t.from.line,t.to.line+1)},!0),n}function Di(e){for(;e.length;){var t=_(e);if(!t.ranges)break;e.pop()}}function Wi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Di(e.done),_(e.done)):e.done.length&&!_(e.done).ranges?_(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),_(e.done)):void 0}(i,i.lastOp==r)))a=_(o.changes),0==ve(t.from,t.to)&&0==ve(t.from,a.to)?a.to=wi(t):o.changes.push(Pi(e,t));else{var l=_(i.done);for(l&&l.ranges||zi(e.sel,i.done),o={changes:[Pi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||rt(e,"historyAdded")}function Ri(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,_(i.done),t))?i.done[i.done.length-1]=t:zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Di(i.undone)}function zi(e,t){var n=_(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Fi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Hi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Bi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Hi(n[i]));return r}(e,t),r=Te(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function ji(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?mi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&B(t,Number(c[1]))>-1&&(_(s)[h]=u[h],delete u[h])}}}return r}function Gi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ve(t,i)<0;o!=ve(n,i)<0?(i=t,t=n):o!=ve(t,n)<0&&(t=n)}return new bi(i,t)}return new bi(n||t,t)}function Vi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Xi(e,new mi([Gi(e.sel.primary(),t,n,i)],0),r)}function Ui(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Gi(e.sel.ranges[o],t[o],null,i);var a=yi(e.cm,r,e.sel.primIndex);Xi(e,a,n)}function Zi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Xi(e,yi(e.cm,i,e.sel.primIndex),r)}function Yi(e,t,n,r){Xi(e,Ai(t,n),r)}function Qi(e,t,n){var r=e.history.done,i=_(r);i&&i.ranges?(r[r.length-1]=t,_i(e,t,n)):Xi(e,t,n)}function Xi(e,t,n){_i(e,t,n),Ri(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function _i(e,t,n){(at(e,"beforeSelectionChange")||e.cm&&at(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new bi(Ce(e,t[n].anchor),Ce(e,t[n].head))},origin:n&&n.origin};return rt(e,"beforeSelectionChange",e,r),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?yi(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(ve(t.primary().head,e.sel.primary().head)<0?-1:1);Ki(e,qi(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Ir(e.cm)}function Ki(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,ot(e.cm)),sn(e,"cursorActivity",e))}function Ji(e){Ki(e,qi(e,e.sel,null,!1))}function qi(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=eo(e,a.anchor,s&&s.anchor,n,r),u=eo(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new bi(l,u))}return i?yi(e.cm,i,t.primIndex):t}function $i(e,t,n,r,i){var o=se(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(rt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(u=to(e,u,-r,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=ve(u,n))&&(r<0?c<0:c>0))return $i(e,u,t,r,i)}var h=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(h=to(e,h,r,h.line==t.line?o:null)),h?$i(e,h,t,r,i):null}}return t}function eo(e,t,n,r,i){var o=r||1,a=$i(e,t,n,o,i)||!i&&$i(e,t,n,o,!0)||$i(e,t,n,-o,i)||!i&&$i(e,t,n,-o,!0);return a||(e.cantEdit=!0,ge(e.first,0))}function to(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?Ce(e,ge(t.line-1)):null:n>0&&t.ch==(r||se(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+n)}function no(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),V)}function ro(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=Ce(e,t)),n&&(r.to=Ce(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),rt(e,"beforeChange",e,r),e.cm&&rt(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function io(e,t,n){if(e.cm){if(!e.cm.curOp)return Xr(e.cm,io)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(at(e,"beforeChange")||e.cm&&at(e.cm,"beforeChange"))||(t=ro(e,t,!0))){var r=ke&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(ve(u.to,s.from)<0||ve(u.from,s.to)>0)){var c=[l,1],h=ve(u.from,s.from),d=ve(u.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)oo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else oo(e,t)}}function oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ve(t.from,t.to)){var n=xi(e,t);Wi(e,t,n,e.cm?e.cm.curOp.id:NaN),lo(e,t,n,Te(e,t));var r=[];Ti(e,function(e,n){n||-1!=B(r,e.history)||(fo(e.history,t),r.push(e.history)),lo(e,t,null,Te(e,t))})}}function ao(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(zi(i,l),n&&!i.equals(e.sel))return void Xi(e,i,{clearRedo:!1});a=i}var c=[];zi(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=at(e,"beforeChange")||e.cm&&at(e.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=t,h&&!ro(e,r,!1))return s.length=0,{};c.push(Pi(e,r));var o=n?xi(e,r):_(s);lo(e,r,o,Bi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:wi(r)});var a=[];Ti(e,function(e,t){t||-1!=B(a,e.history)||(fo(e.history,r),a.push(e.history)),lo(e,r,null,Bi(e,r))})},f=i.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function so(e,t){if(0!=t&&(e.first+=t,e.sel=new mi(K(e.sel.ranges,function(e){return new bi(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Jr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)qr(e.cm,r,"gutter")}}function lo(e,t,n,r){if(e.cm&&!e.cm.curOp)return Xr(e.cm,lo)(e,t,n,r);if(t.to.line<e.first)so(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);so(e,i),t={from:ge(e.first,0),to:ge(t.to.line+i,t.to.ch),text:[_(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,se(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=le(e,t.from,t.to),n||(n=xi(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=he(je(se(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&ot(e),Li(r,t,n,ir(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=Qe(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=se(e,r).stateAfter;if(i&&(!(i instanceof Pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),ni(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Jr(e):o.line!=a.line||1!=t.text.length||Si(e.doc,t)?Jr(e,o.line,a.line+1,u):qr(e,o.line,"text");var c=at(e,"changes"),h=at(e,"change");if(h||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&sn(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,r):Li(e,t,r),_i(e,n,V)}}function uo(e,t,n,r,i){var o;r||(r=n),ve(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),io(e,{from:n,to:r,text:t,origin:i})}function co(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ho(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)co(o.ranges[s].anchor,t,n,r),co(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=ge(u.from.line+r,u.from.ch),u.to=ge(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function fo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;ho(e.done,n,r,i),ho(e.undone,n,r,i)}function po(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=se(e,we(e,t)):i=he(t),null==i?null:(r(o,i)&&e.cm&&qr(e.cm,i,n),o)}function go(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function vo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}bi.prototype.from=function(){return Ae(this.anchor,this.head)},bi.prototype.to=function(){return ye(this.anchor,this.head)},bi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},go.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Yt(i),sn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},vo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof go))){var s=[];this.collapse(s),this.children=[new go(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new go(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new vo(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=B(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new vo(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var mo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function bo(e,t,n){Ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&kr(e,n)}mo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=he(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=An(this);ce(n,Math.max(0,n.height-o)),e&&(Qr(e,function(){bo(e,n,-o),qr(e,r,"widget")}),sn(e,"lineWidgetCleared",e,this,r))}},mo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=An(this)-t;i&&(Ue(this.doc,r)||ce(r,r.height+i),n&&Qr(n,function(){n.curOp.forceUpdate=!0,bo(n,r,i),sn(n,"lineWidgetChanged",n,e,he(r))}))},st(mo);var yo=0,Ao=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yo};function wo(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=z(r)).shared=!1;var o=[wo(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Ti(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(wo(e,Ce(e,t),Ce(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=_(o)}),new Co(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Xr(e.cm,wo)(e,t,n,r,i);var o=new Ao(e,i),a=ve(t,n);if(r&&z(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Be(e,t.line,t,n,o)||t.line!=n.line&&Be(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ie=!0}o.addToHistory&&Wi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&je(e)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&ce(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Me(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Ue(e,t)&&ce(t,0)}),o.clearOnEnter&&et(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(ke=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++yo,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Jr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)qr(u,c,"text");o.atomic&&Ji(u.doc),sn(u,"markerAdded",u,o)}return o}Ao.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Br(e),at(this,"clear")){var n=this.find();n&&sn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Se(a.markedSpans,this);e&&!this.collapsed?qr(e,he(a),"text"):e&&(null!=s.to&&(i=he(a)),null!=s.from&&(r=he(a))),a.markedSpans=Le(a.markedSpans,s),null==s.from&&this.collapsed&&!Ue(this.doc,a)&&e&&ce(a,er(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=je(this.lines[l]),c=Qe(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Jr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ji(e.doc)),e&&sn(e,"markerCleared",e,this,r,i),t&&jr(e),this.parent&&this.parent.clear()}},Ao.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Se(o.markedSpans,this);if(null!=a.from&&(n=ge(t?o:he(o),a.from),-1==e))return n;if(null!=a.to&&(r=ge(t?o:he(o),a.to),1==e))return r}return n&&{from:n,to:r}},Ao.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Qr(r,function(){var i=t.line,o=he(t.line),a=On(r,o);if(a&&(zn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ue(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=An(n)-s;l&&ce(i,i.height+l)}sn(r,"markerChanged",r,e)})},Ao.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ao.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},st(Ao);var Co=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function xo(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function ko(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Ti(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==B(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}Co.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sn(this,"clear")}},Co.prototype.find=function(e,t){return this.primary.find(e,t)},st(Co);var Io=0,Mo=function(e,t,n,r,i){if(!(this instanceof Mo))return new Mo(e,t,n,r,i);null==n&&(n=0),vo.call(this,[new go([new Zt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ge(n,0);this.sel=Ai(o),this.history=new Ei(null),this.id=++Io,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Li(this,{from:o,to:o,text:e}),Xi(this,Ai(o),V)};Mo.prototype=q(vo.prototype,{constructor:Mo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ue(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Kr(function(e){var t=ge(this.first,0),n=this.first+this.size-1;io(this,{from:t,to:ge(n,se(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Mr(this.cm,0,0),Xi(this,Ai(t),V)}),replaceRange:function(e,t,n,r){t=Ce(this,t),n=n?Ce(this,n):t,uo(this,e,t,n,r)},getRange:function(e,t,n){var r=le(this,Ce(this,e),Ce(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(fe(this,e))return se(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),je(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ce(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Kr(function(e,t,n){Yi(this,Ce(this,"number"==typeof e?ge(e,t||0):e),null,n)}),setSelection:Kr(function(e,t,n){Yi(this,Ce(this,e),Ce(this,t||e),n)}),extendSelection:Kr(function(e,t,n){Vi(this,Ce(this,e),t&&Ce(this,t),n)}),extendSelections:Kr(function(e,t){Ui(this,xe(this,e),t)}),extendSelectionsBy:Kr(function(e,t){var n=K(this.sel.ranges,e);Ui(this,xe(this,n),t)}),setSelections:Kr(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new bi(Ce(this,e[i].anchor),Ce(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Xi(this,yi(this.cm,r,t),n)}}),addSelection:Kr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new bi(Ce(this,e),Ce(this,t||e))),Xi(this,yi(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=le(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=le(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Kr(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=ge(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=ki(s.from,i,o),u=ki(wi(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],h=ve(c.head,c.anchor)<0;r[a]=new bi(h?u:l,h?l:u)}else r[a]=new bi(l,l)}return new mi(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)io(this,r[l]);s?Qi(this,s):this.cm&&Ir(this.cm)}),undo:Kr(function(){ao(this,"undo")}),redo:Kr(function(){ao(this,"redo")}),undoSelection:Kr(function(){ao(this,"undo",!0)}),redoSelection:Kr(function(){ao(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Ei(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ji(this.history.done),undone:ji(this.history.undone)}},setHistory:function(e){var t=this.history=new Ei(this.history.maxGeneration);t.done=ji(e.done.slice(0),null,!0),t.undone=ji(e.undone.slice(0),null,!0)},setGutterMarker:Kr(function(e,t,n){return po(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ne(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Kr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&po(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!fe(this,e))return null;if(t=e,!(e=se(this,e)))return null}else if(null==(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Kr(function(e,t,n){return po(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(k(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Kr(function(e,t,n){return po(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(k(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Kr(function(e,t,n){return function(e,t,n,r){var i=new mo(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),po(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ue(e,t)){var r=Ye(t)<e.scrollTop;ce(t,t.height+An(i)),r&&kr(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&sn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:he(t)),i}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return wo(this,Ce(this,e),Ce(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return wo(this,e=Ce(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=se(this,(e=Ce(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=Ce(this,e),t=Ce(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),Ce(this,ge(n,t))},indexFromPos:function(e){var t=(e=Ce(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Mo(ue(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Mo(ue(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ve(o,a)){var s=wo(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,xo(this)),r},unlinkDoc:function(e){if(e instanceof xa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ko(xo(this));break}}if(e.history==this.history){var r=[e.id];Ti(e,function(e){return r.push(e.id)},!0),e.history=new Ei(null),e.history.done=ji(this.history.done,r),e.history.undone=ji(this.history.undone,r)}},iterLinkedDocs:function(e){Ti(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):yt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Kr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&function(e){Qr(e,function(){Ni(e),Jr(e)})}(this.cm))})}),Mo.prototype.eachLine=Mo.prototype.iter;var So=0;function Lo(e){var t=this;if(To(t),!it(t,e)&&!wn(t.display,e)){lt(e),a&&(So=+new Date);var n=ar(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(e,r){if(!t.options.allowDropFileTypes||-1!=B(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Xr(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){var l={from:n=Ce(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};io(t.doc,l),Qi(t.doc,Ai(n,wi(l)))}}),a.readAsText(e)}},u=0;u<i;++u)l(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),_i(t.doc,Ai(n,n)),h)for(var d=0;d<h.length;++d)uo(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function To(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Oo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var No=!1;function Eo(){No||(function(){var e;et(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Oo(Po)},100))}),et(window,"blur",function(){return Oo(mr)})}(),No=!0)}function Po(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Do={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Wo=0;Wo<10;Wo++)Do[Wo+48]=Do[Wo+96]=String(Wo);for(var Ro=65;Ro<=90;Ro++)Do[Ro]=String.fromCharCode(Ro);for(var zo=1;zo<=12;zo++)Do[zo+111]=Do[zo+63235]="F"+zo;var Fo={};function Ho(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Bo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=K(n.split(" "),Ho),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function jo(e,t,n,r){var i=(t=Zo(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return jo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=jo(e,t.fallthrough[o],n,r);if(a)return a}}}function Go(e){var t="string"==typeof e?e:Do[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Vo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Uo(e,t){if(h&&34==e.keyCode&&e.char)return!1;var n=Do[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Vo(n,e,t))}function Zo(e){return"string"==typeof e?Fo[e]:e}function Yo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ve(o.from,_(r).to)<=0;){var a=r.pop();if(ve(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Qr(e,function(){for(var t=r.length-1;t>=0;t--)uo(e.doc,"",r[t].from,r[t].to,"+delete");Ir(e)})}function Qo(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Xo(e,t,n){var r=Qo(e,t.ch,n);return null==r?null:new ge(t.line,r,n<0?"after":"before")}function _o(e,t,n,r,i){if(e){var o=qe(n,t.doc.direction);if(o){var a,s=i<0?_(o):o[0],l=i<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Nn(t,n);a=i<0?n.text.length-1:0;var h=En(t,c,a).top;a=ae(function(e){return En(t,c,e).top==h},i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Qo(n,a,1))}else a=i<0?s.to:s.from;return new ge(r,a,u)}}return new ge(r,i<0?n.text.length:0,i<0?"before":"after")}Fo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fo.default=b?Fo.macDefault:Fo.pcDefault;var Ko={selectAll:no,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Yo(e,function(t){if(t.empty()){var n=se(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Yo(e,function(t){return{from:ge(t.from().line,0),to:Ce(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e){return Yo(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Yo(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Yo(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return qo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=se(e.doc,t),r=function(e){for(var t;t=Fe(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=he(r)),_o(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Z)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Z)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?qo(e,t.head):r},Z)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(X(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Qr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=se(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ge(i.line,i.ch-1)),i.ch>0)i=new ge(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ge(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=se(e.doc,i.line-1).text;a&&(i=new ge(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ge(i.line-1,a.length-1),i,"+transpose"))}n.push(new bi(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return Qr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Ir(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Jo(e,t){var n=se(e.doc,t),r=je(n);return r!=n&&(t=he(r)),_o(!0,e,r,t,1)}function qo(e,t){var n=Jo(e,t.line),r=se(e.doc,n.line),i=qe(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ge(n.line,a?0:o,n.sticky)}return n}function $o(e,t,n){if("string"==typeof t&&!(t=Ko[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=G}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var ea=new H;function ta(e,t,n,r){var i=e.state.keySeq;if(i){if(Go(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ea.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),na(e,i+" "+t,n,r))return!0}return na(e,t,n,r)}function na(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=jo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&jo(t,e.options.extraKeys,n,e)||jo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&sn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(lt(n),fr(e)),!!i}function ra(e,t){var n=Uo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ta(e,"Shift-"+n,t,function(t){return $o(e,t,!0)})||ta(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return $o(e,t)}):ta(e,n,t,function(t){return $o(e,t)}))}var ia=null;function oa(e){var t=this;if(t.curOp.focus=E(),!it(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=ra(t,e);h&&(ia=r?n:null,!r&&88==n&&!wt&&(b?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(M(t,"CodeMirror-crosshair"),nt(document,"keyup",n),nt(document,"mouseover",n))}P(t,"CodeMirror-crosshair"),et(document,"keyup",n),et(document,"mouseover",n)}(t)}}function aa(e){16==e.keyCode&&(this.doc.sel.shift=!1),it(this,e)}function sa(e){var t=this;if(!(wn(t.display,e)||it(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(h&&n==ia)return ia=null,void lt(e);if(!h||e.which&&!(e.which<10)||!ra(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return ta(e,"'"+n+"'",t,function(t){return $o(e,t,!0)})}(t,e,i)||t.display.input.onKeyPress(e))}}}var la,ua,ca=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ha(e){var t=this,n=t.display;if(!(it(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,wn(n,e))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!pa(t,e)){var r=ar(t,e),i=ft(e),o=r?function(e,t){var n=+new Date;return ua&&ua.compare(n,e,t)?(la=ua=null,"triple"):la&&la.compare(n,e,t)?(ua=new ca(n,e,t),la=null,"double"):(la=new ca(n,e,t),ua=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ta(e,Vo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Ko[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=G}finally{e.state.suppressEdits=!1}return r})}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){a?setTimeout(R(pr,e),0):e.curOp.focus=E();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey)),i}(e,n,r),u=e.doc.sel;e.options.dragDrop&&vt&&!e.isReadOnly()&&"single"==n&&(i=u.contains(t))>-1&&(ve((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(ve(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,u=Xr(e,function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,nt(i.wrapper.ownerDocument,"mouseup",u),nt(i.wrapper.ownerDocument,"mousemove",c),nt(i.scroller,"dragstart",h),nt(i.scroller,"drop",u),o||(lt(t),r.addNew||Vi(e.doc,n,null,null,r.extend),l||a&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),et(i.wrapper.ownerDocument,"mouseup",u),et(i.wrapper.ownerDocument,"mousemove",c),et(i.scroller,"dragstart",h),et(i.scroller,"drop",u),gr(e),setTimeout(function(){return i.input.focus()},20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;lt(t);var a,s,l=o.sel,u=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?u[s]:new bi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new bi(n,n)),n=ar(e,t,!0,!0),s=-1;else{var c=da(e,n,r.unit);a=r.extend?Gi(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=u.length,Xi(o,yi(e,u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Xi(o,yi(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Zi(o,s,a,U):(s=0,Xi(o,new mi([a],0),U),l=o.sel);var h=n;function d(t){if(0!=ve(h,t))if(h=t,"rectangle"==r.unit){for(var i=[],u=e.options.tabSize,c=F(se(o,n.line).text,n.ch,u),d=F(se(o,t.line).text,t.ch,u),f=Math.min(c,d),p=Math.max(c,d),g=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=v;g++){var m=se(o,g).text,b=Y(m,f,u);f==p?i.push(new bi(ge(g,b),ge(g,b))):m.length>b&&i.push(new bi(ge(g,b),ge(g,Y(m,p,u))))}i.length||i.push(new bi(n,n)),Xi(o,yi(e,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,A=a,w=da(e,t,r.unit),C=A.anchor;ve(w.anchor,C)>0?(y=w.head,C=Ae(A.from(),w.anchor)):(y=w.anchor,C=ye(A.to(),w.head));var x=l.ranges.slice(0);x[s]=function(e,t){var n=t.anchor,r=t.head,i=se(e.doc,n.line);if(0==ve(n,r)&&n.sticky==r.sticky)return t;var o=qe(i);if(!o)return t;var a=Ke(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ke(o,r.ch,r.sticky),h=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?h<0:h>0}var d=o[u+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,g=f?"after":"before";return n.ch==p&&n.sticky==g?t:new bi(new ge(n.line,p,g),r)}(e,new bi(Ce(o,C),y)),Xi(o,yi(e,x,s),U)}}var f=i.wrapper.getBoundingClientRect(),p=0;function g(t){e.state.selectingText=!1,p=1/0,lt(t),i.input.focus(),nt(i.wrapper.ownerDocument,"mousemove",v),nt(i.wrapper.ownerDocument,"mouseup",m),o.history.lastSelOrigin=null}var v=Xr(e,function(t){0!==t.buttons&&ft(t)?function t(n){var a=++p,s=ar(e,n,!0,"rectangle"==r.unit);if(s)if(0!=ve(s,h)){e.curOp.focus=E(),d(s);var l=Ar(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Xr(e,function(){p==a&&t(n)}),150)}else{var u=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;u&&setTimeout(Xr(e,function(){p==a&&(i.scroller.scrollTop+=u,t(n))}),50)}}(t):g(t)}),m=Xr(e,g);e.state.selectingText=m,et(i.wrapper.ownerDocument,"mousemove",v),et(i.wrapper.ownerDocument,"mouseup",m)}(e,r,t,o)}(t,r,o,e):dt(e)==n.scroller&&lt(e):2==i?(r&&Vi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(x?t.display.input.onContextMenu(e):gr(t)))}}function da(e,t,n){if("char"==n)return new bi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new bi(ge(t.line,0),Ce(e.doc,ge(t.line+1,0)));var r=n(e,t);return new bi(r.from,r.to)}function fa(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&lt(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!at(e,n))return ct(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=de(e.doc,o),h=e.options.gutters[l];return rt(e,n,e,c,h,t),ct(t)}}}function pa(e,t){return fa(e,t,"gutterClick",!0)}function ga(e,t){wn(e.display,t)||function(e,t){return!!at(e,"gutterContextMenu")&&fa(e,t,"gutterContextMenu",!1)}(e,t)||it(e,t,"contextmenu")||x||e.display.input.onContextMenu(t)}function va(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Hn(e)}ca.prototype.compare=function(e,t,n){return this.time+400>e&&0==ve(t,this.pos)&&n==this.button};var ma={toString:function(){return"CodeMirror.Init"}},ba={},ya={};function Aa(e){ci(e),Jr(e),wr(e)}function wa(e,t,n){var r=n&&n!=ma;if(!t!=!r){var i=e.display.dragFunctions,o=t?et:nt;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ca(e){e.options.lineWrapping?(P(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(M(e.display.wrapper,"CodeMirror-wrap"),Xe(e)),or(e),Jr(e),Hn(e),setTimeout(function(){return Wr(e)},100)}function xa(e,t){var r=this;if(!(this instanceof xa))return new xa(e,t);this.options=t=t?z(t):{},z(ba,t,!1),hi(t);var i=t.value;"string"==typeof i?i=new Mo(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var o=new xa.inputStyles[t.inputStyle](this),u=this.display=new function(e,t,r){var i=this;this.input=r,i.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=O("div",null,"CodeMirror-code"),i.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=T("div",null,"CodeMirror-cursors"),i.measure=T("div",null,"CodeMirror-measure"),i.lineMeasure=T("div",null,"CodeMirror-measure"),i.lineSpace=O("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=O("div",[i.lineSpace],"CodeMirror-lines");i.mover=T("div",[o],null,"position: relative"),i.sizer=T("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=T("div",null,null,"position: absolute; height: "+j+"px; width: 1px;"),i.gutters=T("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=T("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=T("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||n&&m||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,r.init(i)}(e,i,o);for(var c in u.wrapper.CodeMirror=this,ci(this),va(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Fr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},t.autofocus&&!m&&u.input.focus(),a&&s<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(e){var t=e.display;et(t.scroller,"mousedown",Xr(e,ha)),et(t.scroller,"dblclick",a&&s<11?Xr(e,function(t){if(!it(e,t)){var n=ar(e,t);if(n&&!pa(e,t)&&!wn(e.display,t)){lt(t);var r=e.findWordAt(n);Vi(e.doc,r.anchor,r.head)}}}):function(t){return it(e,t)||lt(t)}),et(t.scroller,"contextmenu",function(t){return ga(e,t)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}et(t.scroller,"touchstart",function(i){if(!it(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!pa(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!wn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new bi(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new bi(ge(s.line,0),Ce(e.doc,ge(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),lt(n)}i()}),et(t.scroller,"touchcancel",i),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Tr(e,t.scroller.scrollTop),Nr(e,t.scroller.scrollLeft,!0),rt(e,"scroll",e))}),et(t.scroller,"mousewheel",function(t){return vi(e,t)}),et(t.scroller,"DOMMouseScroll",function(t){return vi(e,t)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){it(e,t)||ht(t)},over:function(t){it(e,t)||(function(e,t){var n=ar(e,t);if(n){var r=document.createDocumentFragment();cr(e,n,r),e.display.dragCursor||(e.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),L(e.display.dragCursor,r)}}(e,t),ht(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-So<100))ht(t);else if(!it(e,t)&&!wn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=T("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(e,t)},drop:Xr(e,Lo),leave:function(t){it(e,t)||To(e)}};var l=t.input.getField();et(l,"keyup",function(t){return aa.call(e,t)}),et(l,"keydown",Xr(e,oa)),et(l,"keypress",Xr(e,sa)),et(l,"focus",function(t){return vr(e,t)}),et(l,"blur",function(t){return mr(e,t)})}(this),Eo(),Br(this),this.curOp.forceUpdate=!0,Oi(this,i),t.autofocus&&!m||this.hasFocus()?setTimeout(R(vr,this),20):mr(this),ya)ya.hasOwnProperty(c)&&ya[c](r,t[c],ma);Cr(this),t.finishInit&&t.finishInit(this);for(var f=0;f<ka.length;++f)ka[f](r);jr(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(u.lineDiv).textRendering&&(u.lineDiv.style.textRendering="auto")}xa.defaults=ba,xa.optionHandlers=ya;var ka=[];function Ia(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=zt(e,t).state:n="prev");var a=e.options.tabSize,s=se(o,t),l=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==G||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?F(se(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)d+=a,h+="\t";if(d<u&&(h+=X(u-d)),h!=c)return uo(o,h,ge(t,0),ge(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<c.length){var v=ge(t,c.length);Zi(o,p,new bi(v,v));break}}}xa.defineInitHook=function(e){return ka.push(e)};var Ma=null;function Sa(e){Ma=e}function La(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a,s=e.state.pasteIncoming||"paste"==i,l=yt(t),u=null;if(s&&r.ranges.length>1)if(Ma&&Ma.text.join("\n")==t){if(r.ranges.length%Ma.text.length==0){u=[];for(var c=0;c<Ma.text.length;c++)u.push(o.splitLines(Ma.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=K(l,function(e){return[e]}));for(var h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],f=d.from(),p=d.to();d.empty()&&(n&&n>0?f=ge(f.line,f.ch-n):e.state.overwrite&&!s?p=ge(p.line,Math.min(se(o,p.line).text.length,p.ch+_(l).length)):s&&Ma&&Ma.lineWise&&Ma.text.join("\n")==t&&(f=p=ge(f.line,0))),a=e.curOp.updateInput;var g={from:f,to:p,text:u?u[h%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};io(e.doc,g),sn(e,"inputRead",e,g)}t&&!s&&Oa(e,t),Ir(e),e.curOp.updateInput=a,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Ta(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Qr(t,function(){return La(t,n,0,null,"paste")}),!0}function Oa(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Ia(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ia(e,i.head.line,"smart"));a&&sn(e,"electricInput",e,i.head.line)}}}function Na(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ge(i,0),head:ge(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ea(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Pa(){var e=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),Ea(e),t}function Da(e,t,n,r,i){var o=t,a=n,s=se(e,t.line);function l(r){var o;if(null==(o=i?function(e,t,n,r){var i=qe(t,e.doc.direction);if(!i)return Xo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Ke(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Xo(t,n,r);var s,l=function(e,n){return Qo(t,e instanceof ge?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Nn(e,t),Jn(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var h=1==a.level==r<0,d=l(n,h?1:-1);if(null!=d&&(h?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var f=h?"before":"after";return new ge(n.line,d,f)}}var p=function(e,t,r){for(var o=function(e,t){return t?new ge(n.line,l(e,1),"before"):new ge(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},g=p(o+r,r,c);if(g)return g;var v=r>0?c.end:l(c.begin,-1);return null==v||r>0&&v==t.text.length||!(g=p(r>0?0:i.length-1,r,u(v)))?null:g}(e.cm,s,t,n):Xo(s,t,n))){if(r||!function(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new ge(r,t.ch,t.sticky),s=se(e,r))}())return!1;t=_o(i,e.cm,s,t.line,n)}else t=o;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var u=null,c="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var f=s.text.charAt(t.ch)||"\n",p=te(f,h)?"w":c&&"\n"==f?"n":!c||/\s/.test(f)?null:"p";if(!c||d||p||(p="s"),u&&u!=p){n<0&&(n=1,l(),t.sticky="after");break}if(p&&(u=p),n>0&&!l(!d))break}var g=eo(e,t,o,a,!0);return me(o,g)&&(g.hitSide=!0),g}function Wa(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*er(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=_n(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ra=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function za(e,t){var n=On(e,t.line);if(!n||n.hidden)return null;var r=se(e.doc,t.line),i=Ln(n,r,t.line),o=qe(r,e.doc.direction),a="left";if(o){var s=Ke(o,t.ch);a=s%2?"right":"left"}var l=Wn(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Fa(e,t){return t&&(e.bad=!0),e}function Ha(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Fa(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Ba(o,t,n)}}function Ba(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!N(r,t))return Fa(ge(he(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?_(e.rest):e.line;return Fa(ge(he(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=he(i<0?e.line:e.rest[i]),h=o[a]+r;return(r<0||s!=t)&&(h=o[a+(r?1:0)]),ge(c,h)}}}var h=c(a,s,n);if(h)return Fa(h,i);for(var d=s.nextSibling,f=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(h=c(d,d.firstChild,0))return Fa(ge(h.line,h.ch-f),i);f+=d.textContent.length}for(var p=s.previousSibling,g=n;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return Fa(ge(h.line,h.ch+g),i);g+=p.textContent.length}}Ra.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){if(!it(r,e)){if(r.somethingSelected())Sa({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Na(r);Sa({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,V),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Ma.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=Pa(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Ma.text.join("\n");var l=document.activeElement;W(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&n.showPrimarySelection()},50)}}Ea(i,r.options.spellcheck),et(i,"paste",function(e){it(r,e)||Ta(e,r)||s<=11&&setTimeout(Xr(r,function(){return t.updateFromDOM()}),20)}),et(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),et(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),et(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(i,"touchstart",function(){return n.forceCompositionEnd()}),et(i,"input",function(){t.composing||t.readFromDOMSoon()}),et(i,"copy",o),et(i,"cut",o)},Ra.prototype.prepareSelection=function(){var e=ur(this.cm,!1);return e.focus=this.cm.state.focused,e},Ra.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ra.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ra.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Ha(t,e.anchorNode,e.anchorOffset),s=Ha(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=ve(Ae(a,s),i)||0!=ve(ye(a,s),o)){var l=t.display.view,u=i.line>=t.display.viewFrom&&za(t,i)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&za(t,o);if(!c){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(u&&c){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=I(u.node,u.offset,c.offset,c.node)}catch(e){}f&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ra.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ra.prototype.showMultipleSelections=function(e){L(this.cm.display.cursorDiv,e.cursors),L(this.cm.display.selectionDiv,e.selection)},Ra.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ra.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Ra.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ra.prototype.blur=function(){this.div.blur()},Ra.prototype.getField=function(){return this.div},Ra.prototype.supportsTouch=function(){return!0},Ra.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Qr(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Ra.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ra.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&c&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ha(t,e.anchorNode,e.anchorOffset),r=Ha(t,e.focusNode,e.focusOffset);n&&r&&Qr(t,function(){Xi(t.doc,Ai(n,r),V),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ra.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ge(a.line-1,se(r.doc,a.line-1).length)),s.ch==se(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=ge(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=sr(r,a.line))?(t=he(i.view[0].line),n=i.view[0].node):(t=he(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,u,c=sr(r,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=he(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var h=r.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(){a&&(o+=s,l&&(o+=s),a=l=!1)}function c(e){e&&(u(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void c(n);var o,d=t.getAttribute("cm-marker");if(d){var f=e.findMarks(ge(r,0),ge(i+1,0),function(e){return function(t){return t.id==e}}(+d));return void(f.length&&(o=f[0].find(0))&&c(le(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&u();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),p&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=n;)t=t.nextSibling,l=!1;return o}(r,n,u,t,l)),d=le(r.doc,ge(t,0),ge(l,se(r.doc,l).text.length));h.length>1&&d.length>1;)if(_(h)==_(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),t++}for(var f=0,p=0,g=h[0],v=d[0],m=Math.min(g.length,v.length);f<m&&g.charCodeAt(f)==v.charCodeAt(f);)++f;for(var b=_(h),y=_(d),A=Math.min(b.length-(1==h.length?f:0),y.length-(1==d.length?f:0));p<A&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)++p;if(1==h.length&&1==d.length&&t==a.line)for(;f&&f>a.ch&&b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)f--,p++;h[h.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var w=ge(t,f),C=ge(l,d.length?_(d).length-p:0);return h.length>1||h[0]||ve(w,C)?(uo(r.doc,h,w,C,"+input"),!0):void 0},Ra.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ra.prototype.reset=function(){this.forceCompositionEnd()},Ra.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ra.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ra.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Qr(this.cm,function(){return Jr(e.cm)})},Ra.prototype.setUneditable=function(e){e.contentEditable="false"},Ra.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Xr(this.cm,La)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ra.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ra.prototype.onContextMenu=function(){},Ra.prototype.resetPosition=function(){},Ra.prototype.needsContentAttribute=!0;var ja=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.hasSelection=!1,this.composing=null};ja.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!it(r,e)){if(r.somethingSelected())Sa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Na(r);Sa({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,V):(n.prevInput="",i.value=t.text.join("\n"),W(i))}"cut"==e.type&&(r.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),et(i,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),et(i,"paste",function(e){it(r,e)||Ta(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),et(i,"cut",o),et(i,"copy",o),et(e.scroller,"paste",function(t){wn(e,t)||it(r,t)||(r.state.pasteIncoming=!0,n.focus())}),et(e.lineSpace,"selectstart",function(t){wn(e,t)||lt(t)}),et(i,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),et(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ja.prototype.createField=function(e){this.wrapper=Pa(),this.textarea=this.wrapper.firstChild},ja.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=ur(e);if(e.options.moveInputWithCursor){var i=Yn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},ja.prototype.showSelection=function(e){var t=this.cm,n=t.display;L(n.cursorDiv,e.cursors),L(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ja.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&W(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},ja.prototype.getField=function(){return this.textarea},ja.prototype.supportsTouch=function(){return!1},ja.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||E()!=this.textarea))try{this.textarea.focus()}catch(e){}},ja.prototype.blur=function(){this.textarea.blur()},ja.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ja.prototype.receivedFocus=function(){this.slowPoll()},ja.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ja.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){var r=t.poll();r||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},ja.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||At(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(r.length,i.length);l<u&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Qr(t,function(){La(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ja.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ja.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},ja.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea,o=ar(n,e),u=r.scroller.scrollTop;if(o&&!h){var c=n.options.resetSelectionOnContextMenu;c&&-1==n.doc.sel.contains(o)&&Xr(n,Xi)(n.doc,Ai(o),V);var d=i.style.cssText,f=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var p,g=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-g.top-5)+"px; left: "+(e.clientX-g.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(p=window.scrollY),r.input.focus(),l&&window.scrollTo(null,p),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&m(),x){ht(e);var v=function(){nt(window,"mouseup",v),setTimeout(b,20)};et(window,"mouseup",v)}else setTimeout(b,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=d,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart){(!a||a&&s<9)&&m();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?Xr(n,no)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},ja.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ja.prototype.setUneditable=function(){},ja.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=ma&&i(e,t,n)}:i)}e.defineOption=n,e.Init=ma,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Ii(e)},!0),n("indentUnit",2,Ii,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){Mi(e),Hn(e),Jr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(ge(r,o))}r++});for(var i=n.length-1;i>=0;i--)uo(e.doc,t,n[i],ge(n[i].line,n[i].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ma&&e.refresh()}),n("specialCharPlaceholder",Jt,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("rtlMoveVisually",!A),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){va(e),Aa(e)},!0),n("keyMap","default",function(e,t,n){var r=Zo(t),i=n!=ma&&Zo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ca,!0),n("gutters",[],function(e){hi(e.options),Aa(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?rr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Wr(e)},!0),n("scrollbarStyle","native",function(e){Fr(e),Wr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){hi(e.options),Aa(e)},!0),n("firstLineNumber",1,Aa,!0),n("lineNumberFormatter",function(e){return e},Aa,!0),n("showCursorWhenSelecting",!1,lr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(mr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,wa),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,lr,!0),n("singleCursorHeightPerLine",!0,lr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Mi,!0),n("addModeClass",!1,Mi,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,Mi,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}(xa),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Xr(this,t[e])(this,n,i),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Zo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:_r(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Jr(this)}),removeOverlay:_r(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Jr(this)}}),indentLine:_r(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),fe(this.doc,e)&&Ia(this,e,t,n)}),indentSelection:_r(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ia(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Ir(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Ia(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Zi(this.doc,r,new bi(o,u[r].to()),V)}}}),getTokenAt:function(e,t){return Gt(this,e,t)},getLineTokens:function(e,t){return Gt(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ce(this.doc,e);var t,n=Rt(this,se(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==B(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return zt(this,(e=we(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Yn(this,null==e?n.head:"object"==typeof e?Ce(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Zn(this,Ce(this.doc,e),t||"page")},coordsChar:function(e,t){return _n(this,(e=Un(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Un(this,{top:e,left:0},t||"page").top,de(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=se(this.doc,e)}else r=e;return Vn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Ye(r):0)},defaultTextHeight:function(){return er(this.display)},defaultCharWidth:function(){return tr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=Yn(this,Ce(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&function(e,t){var n=xr(e,t);null!=n.scrollTop&&Tr(e,n.scrollTop),null!=n.scrollLeft&&Nr(e,n.scrollLeft)}(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:_r(oa),triggerOnKeyPress:_r(sa),triggerOnKeyUp:aa,triggerOnMouseDown:_r(ha),execCommand:function(e){if(Ko.hasOwnProperty(e))return Ko[e].call(null,this)},triggerElectric:_r(function(e){Oa(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=Ce(this.doc,e),a=0;a<t&&!(o=Da(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:_r(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Da(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},Z)}),deleteH:_r(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Yo(this,function(n){var i=Da(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=Ce(this.doc,e),s=0;s<t;++s){var l=Yn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Wa(this,l,i,n)).hitSide)break}return a},moveV:_r(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=Yn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Wa(n,s,e,t);return"page"==t&&a==r.sel.primary()&&kr(n,Zn(n,l,"div").top-s.top),l},Z),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=se(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=te(a,o)?function(e){return te(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new bi(ge(e.line,r),ge(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:_r(function(e,t){Mr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-In(this)-this.display.barHeight,width:e.scrollWidth-In(this)-this.display.barWidth,clientHeight:Sn(this),clientWidth:Mn(this)}},scrollIntoView:_r(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Sr(e),e.curOp.scrollToPos=t}(this,e):Lr(this,e.from,e.to,e.margin)}),setSize:_r(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Fn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){qr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(e){return Qr(this,e)},startOperation:function(){return Br(this)},endOperation:function(){return jr(this)},refresh:_r(function(){var e=this.display.cachedTextHeight;Jr(this),this.curOp.forceUpdate=!0,Hn(this),Mr(this,this.doc.scrollLeft,this.doc.scrollTop),li(this),(null==e||Math.abs(e-er(this.display))>.5)&&or(this),rt(this,"refresh",this)}),swapDoc:_r(function(e){var t=this.doc;return t.cm=null,Oi(this,e),Hn(this),this.display.input.reset(),Mr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sn(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},st(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(xa);var Ga="iter insert remove copy getEditor constructor".split(" ");for(var Va in Mo.prototype)Mo.prototype.hasOwnProperty(Va)&&B(Ga,Va)<0&&(xa.prototype[Va]=function(e){return function(){return e.apply(this.doc,arguments)}}(Mo.prototype[Va]));return st(Mo),xa.inputStyles={textarea:ja,contenteditable:Ra},xa.defineMode=function(e){xa.defaults.mode||"null"==e||(xa.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),xt[e]=t}.apply(this,arguments)},xa.defineMIME=function(e,t){kt[e]=t},xa.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),xa.defineMIME("text/plain","null"),xa.defineExtension=function(e,t){xa.prototype[e]=t},xa.defineDocExtension=function(e,t){Mo.prototype[e]=t},xa.fromTextArea=function(e,t){if((t=t?z(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=E();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(et(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(nt(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var s=xa(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},function(e){e.off=nt,e.on=et,e.wheelEventPixels=gi,e.Doc=Mo,e.splitLines=yt,e.countColumn=F,e.findColumn=Y,e.isWordChar=ee,e.Pass=G,e.signal=rt,e.Line=Zt,e.changeEnd=wi,e.scrollbarModel=zr,e.Pos=ge,e.cmpPos=ve,e.modes=xt,e.mimeModes=kt,e.resolveMode=It,e.getMode=Mt,e.modeExtensions=St,e.extendMode=Lt,e.copyState=Tt,e.startState=Nt,e.innerMode=Ot,e.commands=Ko,e.keyMap=Fo,e.keyName=Uo,e.isModifierKey=Go,e.lookupKey=jo,e.normalizeKeyMap=Bo,e.StringStream=Et,e.SharedTextMarker=Co,e.TextMarker=Ao,e.LineWidget=mo,e.e_preventDefault=lt,e.e_stopPropagation=ut,e.e_stop=ht,e.addClass=P,e.contains=N,e.rmClass=M,e.keyNames=Do}(xa),xa.version="5.42.0",xa}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.elt=function(e){var t=document.createElement(e),n=Array.prototype.slice.call(arguments,1);for(;n.length;){var r=n.shift();a(t,r)}return t};t.Events=function(){function e(){o(this,e),this.cache={}}return i(e,[{key:"publish",value:function(e,t,n){if(this.cache[e])for(var r=this.cache[e],i=r.length;i--;)r[i].apply(n||this,t||[])}},{key:"subscribe",value:function(e,t){return this.cache[e]||(this.cache[e]=[]),this.cache[e].push(t),[e,t]}},{key:"unsubscribe",value:function(e,t){var n=e[0];if(this.cache[n])for(var r=this.cache[n].length;r--;)if(this.cache[n][r]===e[1])return this.cache[n].splice(r,1),t&&delete this.cache[n],!0;return!1}},{key:"unsubscribeAll",value:function(){this.cache={}}}]),e}(),t.EventManager=function(){function e(t){if(o(this,e),!t)return!1;this.parent=t.parent,this.cache={},this.appIDAttr="data-app-el-id"}return i(e,[{key:"bind",value:function(e,t,n){var r=e.getAttribute(this.appIDAttr)||e.getAttribute("id");r||(r=function(e){return Math.floor((1+Math.random())*Math.pow(16,e)).toString(16).substring(1)}(16),e.setAttribute(this.appIDAttr,r)),r in this.cache||(this.cache[r]={});var i=this.cache[r];t in i||(i[t]=[]);var o=i[t],a=n.bind(this.parent);o.push(a),e.addEventListener(t,a)}},{key:"unbind",value:function(e,t){var n=e.getAttribute(this.appIDAttr)||e.getAttribute("id");if(n&&n in this.cache&&t in this.cache[n]){var r=!0,i=!1,o=void 0;try{for(var a,s=this.cache[n][t][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;e.removeEventListener(t,l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}},{key:"unbindAll",value:function(){for(var e in this.cache){var t=document.getElementById(e);if(t||(t=document.querySelector("*["+this.appIDAttr+"='"+e+"']")),t)for(var n in this.cache[e]){var r=!0,i=!1,o=void 0;try{for(var a,s=this.cache[e][n][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t.removeEventListener(n,l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}}}]),e}();function a(e,t){if(null!=t)if("object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array)for(var n=t.length,i=0;i<n;i++)a(e,t[i]);else!function(e,t){for(var n in t)t.hasOwnProperty(n)&&("style"===n?s(e,t.style):e.setAttribute(n,t[n]))}(e,t)}function s(e,t){if(t)if("object"===(void 0===t?"undefined":r(t)))for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),o=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,s=0,l=[],u=n(21);function c(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(v(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(v(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function d(e,t){var n=o(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,n);n.insertBefore(t,i)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function p(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return g(t,e.attrs),d(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function v(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var l=s++;n=a||(a=p(t)),r=b.bind(null,n,l,!1),i=b.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=u(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return c(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}e&&c(h(e,t),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var m=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),o=n(14),a=n(15),s=n(1),l=(n(6),n(9)),u=n(10),c=n(18);n(38);t.App=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({documentViewMargin:100,documentViewPageBorder:1,documentViewSVG:!1,enableDocument:!0,enableEditor:!0,enableResponsive:!0,defaultView:"responsive"},n),!(t&&t instanceof HTMLDivElement))throw"All App objects must be initialized with a 'element' parameter that is a HTMLDivElement element.";for(this.element=t,this.zoomLevels=[5,10,20,35,75,100,150,200];this.element.firstChild;)this.element.firstChild.remove();this.eventManager=new s.EventManager({parent:this}),this.events=new s.Events,this.ui={},this.ui.wrapper=(0,s.elt)("div",{class:"vrv-ui-wrapper"}),this.element.appendChild(this.ui.wrapper),this.createToolbar(),this.ui.views=(0,s.elt)("div",{class:"vrv-ui-views"}),this.ui.wrapper.appendChild(this.ui.views),this.ui.xml=(0,s.elt)("div",{class:"vrv-ui-xml"}),this.ui.wrapper.appendChild(this.ui.xml),this.updateDimensions(!1),this.ui.loader=(0,s.elt)("div",{class:"vrv-ui-loading"}),this.ui.views.appendChild(this.ui.loader),this.ui.loader.text=(0,s.elt)("div",{class:"vrv-ui-loading-text"}),this.ui.loader.appendChild(this.ui.loader.text),this.controller=null,this.validator=null,this.resizeTimer,window.onresize=this.onResize.bind(this),this.createController()}return r(e,[{key:"destroy",value:function(){this.eventManager.unbindAll(),this.events.unsubscribeAll()}},{key:"controllerLoadCallback",value:function(e){this.createValidator()}},{key:"validatorLoadCallback",value:function(e){this.loadSchema()}},{key:"validatorSetSchemaCallback",value:function(e){this.createViews()}},{key:"loadDataCallback",value:function(e){this.view.loadDataCallback(e),this.xmlEditor&&this.xmlEditor.setData(this.mei)}},{key:"createController",value:function(){this.startLoading("Loading Verovio ..."),this.controller=new i.Controller(this,this.controllerLoadCallback,this.options)}},{key:"createValidator",value:function(){this.startLoading("Loading the XML validator ..."),this.validator=new u.Validator(this,this.validatorLoadCallback,this.options)}},{key:"createViews",value:function(){if(this.startLoading("Loading the views ..."),this.view=null,this.options.enableDocument&&(this.ui.view1=(0,s.elt)("div",{class:"vrv-ui-view"}),this.ui.views.appendChild(this.ui.view1),this.viewDocument=new o.DocumentView(this.ui.view1,this.controller,this.options),"document"===this.options.defaultView&&(this.view=this.viewDocument)),this.options.enableEditor&&(this.ui.view2=(0,s.elt)("div",{class:"vrv-ui-view"}),this.ui.views.appendChild(this.ui.view2),this.viewEditor=new a.EditorView(this.ui.view2,this.controller,this.options),"editor"===this.options.defaultView&&(this.view=this.viewEditor)),this.options.enableResponsive&&(this.ui.view3=(0,s.elt)("div",{class:"vrv-ui-view"}),this.ui.views.appendChild(this.ui.view3),this.viewResponsive=new l.ResponsiveView(this.ui.view3,this.controller,this.options),"responsive"===this.options.defaultView&&(this.view=this.viewResponsive)),!this.view)throw"No view enabled or unknown default view '"+this.options.defaultView+"' selected.";this.xmlEditor=new c.XMLEditor(this.ui.xml,this.validator,this.options),this.xmlEditor.CMeditor.options.hintOptions.schemaInfo=this.validator.rng.tags,this.updateDimensions(!1),this.endLoading(),this.view.activate(),this.view==this.viewEditor&&this.xmlEditor.activate(),this.updateDimensions(),this.updateToolbar(),this.mei&&this.loadMEI()}},{key:"createToolbar",value:function(){this.ui.toolbar=(0,s.elt)("div",{class:"vrv-ui-toolbar"}),this.ui.wrapper.appendChild(this.ui.toolbar);var e=(0,s.elt)("div",{class:"vrv-ui-submenu"});this.ui.toolbar.appendChild(e),this.ui.viewSelector=(0,s.elt)("div",{class:"vrv-ui-btn-view-selector"}),e.appendChild(this.ui.viewSelector);var t=(0,s.elt)("div",{class:"vrv-ui-submenu-content"});e.appendChild(t),this.ui.viewDocument=(0,s.elt)("div",{class:"vrv-ui-btn-view-document"}),this.ui.viewDocument.dataset.view="document",t.appendChild(this.ui.viewDocument),this.ui.viewResponsive=(0,s.elt)("div",{class:"vrv-ui-btn-view-responsive"}),this.ui.viewResponsive.dataset.view="responsive",t.appendChild(this.ui.viewResponsive),this.ui.viewEditor=(0,s.elt)("div",{class:"vrv-ui-btn-view-editor"}),this.ui.viewEditor.dataset.view="editor",t.appendChild(this.ui.viewEditor),this.ui.pageControls=(0,s.elt)("div",{class:"vrv-ui-btn-group"}),this.ui.toolbar.appendChild(this.ui.pageControls),this.ui.pageControls.appendChild((0,s.elt)("div",{class:"vrv-ui-separator"})),this.ui.prevPage=(0,s.elt)("div",{class:"vrv-ui-btn-previous"}),this.ui.pageControls.appendChild(this.ui.prevPage),this.ui.nextPage=(0,s.elt)("div",{class:"vrv-ui-btn-next"}),this.ui.pageControls.appendChild(this.ui.nextPage),this.ui.zoomControls=(0,s.elt)("div",{class:"vrv-ui-btn-group"}),this.ui.toolbar.appendChild(this.ui.zoomControls),this.ui.zoomControls.appendChild((0,s.elt)("div",{class:"vrv-ui-separator"})),this.ui.zoomOut=(0,s.elt)("div",{class:"vrv-ui-btn-zoom-out"}),this.ui.zoomControls.appendChild(this.ui.zoomOut),this.ui.zoomIn=(0,s.elt)("div",{class:"vrv-ui-btn-zoom-in"}),this.ui.zoomControls.appendChild(this.ui.zoomIn),this.eventManager.bind(this.ui.prevPage,"click",this.prevPage),this.eventManager.bind(this.ui.nextPage,"click",this.nextPage),this.eventManager.bind(this.ui.zoomOut,"click",this.zoomOut),this.eventManager.bind(this.ui.zoomIn,"click",this.zoomIn),this.eventManager.bind(this.ui.viewDocument,"click",this.setView),this.eventManager.bind(this.ui.viewResponsive,"click",this.setView),this.eventManager.bind(this.ui.viewEditor,"click",this.setView)}},{key:"updateDimensions",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=window.innerHeight-this.ui.views.offsetTop;this.view&&this.view===this.viewEditor?(this.ui.views.style.height=t/2+"px",this.ui.xml.style.height=t/2+"px",this.ui.xml.style.top=this.ui.views.offsetTop+t/2-2+"px",this.ui.xml.style.width=this.element.clientWidth+"px"):this.ui.views.style.height=t+"px",this.ui.views.style.width=this.element.clientWidth+"px",e&&(this.view&&this.view.onResize(),this.xmlEditor&&this.xmlEditor.onResize())}},{key:"updateToolbar",value:function(){this.updateToolbarBtn(this.ui.prevPage,this.view.currentPage>1),this.updateToolbarBtn(this.ui.nextPage,this.view.currentPage<this.controller.pageCount),this.updateToolbarBtn(this.ui.zoomOut,this.controller.pageCount>0&&this.view.currentZoomIndex>0),this.updateToolbarBtn(this.ui.zoomIn,this.controller.pageCount>0&&this.view.currentZoomIndex<this.zoomLevels.length-1),this.ui.pageControls.style.display=this.view instanceof o.DocumentView?"none":"block",this.updateToolbarSubmenuBtn(this.ui.viewDocument,this.view instanceof o.DocumentView),this.updateToolbarSubmenuBtn(this.ui.viewEditor,this.view instanceof a.EditorView),this.updateToolbarSubmenuBtn(this.ui.viewResponsive,this.view instanceof l.ResponsiveView&&!(this.view instanceof a.EditorView))}},{key:"updateToolbarBtn",value:function(e,t){t?e.classList.remove("vrv-ui-btn-disabled"):e.classList.add("vrv-ui-btn-disabled")}},{key:"updateToolbarSubmenuBtn",value:function(e,t){t?e.classList.add("vrv-ui-btn-checked"):e.classList.remove("vrv-ui-btn-checked")}},{key:"onResize",value:function(){clearTimeout(this.resizeTimer);var e=this;this.resizeTimer=setTimeout(function(){e.updateDimensions()},200)}},{key:"loadSchema",value:function(){this.startLoading("Loading the MEI Schema ..."),this.validator.setRelaxNGSchemaURI("https://music-encoding.org/schema/4.0.0/mei-all.rng",this.validatorSetSchemaCallback)}},{key:"loadMEI",value:function(){this.startLoading("Loading the MEI data ..."),this.controller.send("loadData",{mei:this.mei+"\n"},-1,this.loadDataCallback)}},{key:"loadData",value:function(e){this.mei=e}},{key:"updateData",value:function(e,t){this.mei=e,t==this.controller?(this.xmlEditor.setData(this.mei),this.xmlEditor.setCurrent(this.view.currentId)):t==this.xmlEditor&&this.controller.send("loadData",{mei:this.mei+"\n"},this.view.viewIndex,this.view.loadDataCallback)}},{key:"updateCurrent",value:function(e,t){t==this.controller?this.xmlEditor.setCurrent(e):t==this.xmlEditor&&this.view.setCurrent(e)}},{key:"startLoading",value:function(e){this.ui.views.style.overflow="hidden",this.ui.loader.style.display="flex",this.ui.loader.text.innerHTML=e}},{key:"endLoading",value:function(){this.ui.views.style.overflow="scroll",this.ui.loader.style.display="none"}},{key:"prevPage",value:function(){this.view.currentPage>1&&(this.view.currentPage-=1,this.updateToolbar(),this.view.updatePage())}},{key:"nextPage",value:function(){this.view.currentPage<this.controller.pageCount&&(this.view.currentPage+=1,this.updateToolbar(),this.view.updatePage())}},{key:"zoomOut",value:function(){this.view.currentZoomIndex>0&&(this.view.currentZoomIndex-=1,this.updateToolbar(),this.view.updateZoom())}},{key:"zoomIn",value:function(){this.view.currentZoomIndex<this.zoomLevels.length-1&&(this.view.currentZoomIndex+=1,this.updateToolbar(),this.view.updateZoom())}},{key:"setView",value:function(e){this.view.deactivate(),this.xmlEditor.deactivate(),"document"==e.target.dataset.view?this.view=this.viewDocument:"editor"==e.target.dataset.view?this.view=this.viewEditor:"responsive"==e.target.dataset.view&&(this.view=this.viewResponsive),this.updateToolbar(),this.view.activate(),this.view==this.viewEditor&&this.xmlEditor.activate(),this.startLoading("Switching view ..."),this.updateDimensions(),this.controller.send("redoLayout",{},this.view.viewIndex,this.view.redoLayoutCallback)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(4),n(7)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(13));t.Controller=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Messenger),r(t,[{key:"initWorker",value:function(){this.settings={pageHeight:2970,pageWidth:2100,pageMarginLeft:50,pageMarginRight:50,pageMarginTop:50,pageMarginBottom:50,scale:100},this.pageCount=0,this.worker=new o.default,this.worker.onmessage=this.onmessage}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericView=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(5),o=n(1);t.GenericView=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t&&t instanceof HTMLDivElement))throw"All GenericView objects must be initialized with 'div' parameter that is a HTMLDivElement element.";if(this.element=t,!(n&&n instanceof i.Controller))throw"All GenericView objects must be initialized with a 'controller' parameter that is an instance of the Controller class.";this.controller=n,this.options=r,this.viewIndex=this.controller.register(this),this.updateDimensions(),this.ui={},this.eventManager=new o.EventManager({parent:this}),this.bindListeners(),this.events=new o.Events,this.currentPage=1,this.currentZoomIndex=4,this.currentScale=this.controller.app.zoomLevels[this.currentZoomIndex],this.currentId=null}return r(e,[{key:"destroy",value:function(){this.eventManager.unbindAll(),this.events.unsubscribeAll(),document.removeEventListener("mousemove",this.boundMouseMove),document.removeEventListener("mouseup",this.boundMouseUp),document.removeEventListener("touchmove",this.boundMouseMove),document.removeEventListener("touchend",this.boundMouseUp)}},{key:"updateDimensions",value:function(){this.element.style.height=this.element.parentElement.style.height,this.element.style.width=this.element.parentElement.style.width}},{key:"parseAndScaleSVG",value:function(e,t,n){var r=(new DOMParser).parseFromString(e,"text/xml");return r.firstChild.setAttribute("height",t+"px"),r.firstChild.setAttribute("width",n+"px"),r.firstChild}},{key:"bindListeners",value:function(){var e=this;this.boundMouseMove=function(t){return e.mouseMoveListener(t)},this.boundMouseUp=function(t){return e.mouseUpListener(t)},this.boundResize=function(t){return e.resizeComponents(t)}}},{key:"activate",value:function(){this.element.style.display="block"}},{key:"deactivate",value:function(){this.element.style.display="none"}},{key:"updateView",value:function(){}},{key:"updateZoom",value:function(){this.currentScale=this.controller.app.zoomLevels[this.currentZoomIndex]}},{key:"updatePage",value:function(){}},{key:"onResize",value:function(){this.updateDimensions()}},{key:"setCurrent",value:function(e){this.currentId=e,this.controller.send("getPageWithElement",{id:e},this.viewIndex,this.getPageWithElementCallback)}},{key:"loadDataCallback",value:function(e){this.controller.pageCount=e.pageCount,this.currentPage>this.controller.pageCount&&(this.currentPage=this.controller.pageCount),this.controller.app.updateToolbar(),this.updateView()}},{key:"redoLayoutCallback",value:function(e){this.controller.app.endLoading(),this.controller.pageCount=e.pageCount,this.currentPage=1,this.controller.app.updateToolbar(),this.updateView()}},{key:"getPageWithElementCallback",value:function(e){}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messenger=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4);t.Messenger=function(){function e(t,n,r){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t&&t instanceof i.App))throw"All Messenger objects must be initialized with a 'app' parameter that is an instance of the App class.";this.app=t,this.options=r,this.ticketId=0,this.calllist={},this.noCallback="no-callback",this.views=[],this.loadCallback=n,this.initWorker(),this.worker.onmessage=function(e){var t=e.data[0],n=e.data[1],r=e.data[2];if("error"===t)console.log("Error message from worker:",r);else if("loaded"===t)o.loadCallback.call(o.app);else if(o.calllist[n].callback===o.noCallback);else if(o.calllist[n].callback){var i=o.calllist[n].callback;if(-1===o.calllist[n].viewIndex)i.call(o.app,r);else{var a=o.views[o.calllist[n].viewIndex];i.call(a,r)}}else console.log("Unexpected worker case:",e);n&&delete o.calllist[n]}}return r(e,[{key:"initWorker",value:function(){}},{key:"updateUI",value:function(){app.update}},{key:"register",value:function(e){return this.views.push(e)-1}},{key:"send",value:function(e,t,n,r){if(-1!==n&&!(n in this.views))return console.error("That view has not been registered yet!");this.calllist[this.ticketId]={callback:r||this.noCallback,viewIndex:n},this.worker.postMessage([e,this.ticketId,t]),this.ticketId++}}]),e}()},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponsiveView=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=(n(5),n(1)),a=n(6);t.ResponsiveView=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.ui.svgWrapper=(0,o.elt)("div",{class:"vrv-ui-svg-wrapper",style:"position: absolute"}),i.element.appendChild(i.ui.svgWrapper),i.updateDimensions(),i.deactivate(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.GenericView),r(t,[{key:"activate",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"activate",this).call(this),this.controller.settings.breaks="auto",this.controller.settings.noFooter=!0,this.controller.settings.adjustPageHeight=!0,this.controller.settings.scale=this.currentScale,this.controller.settings.pageHeight=this.element.clientHeight*(100/this.controller.settings.scale),this.controller.settings.pageWidth=this.element.clientWidth*(100/this.controller.settings.scale),this.controller.send("setOptions",{options:this.controller.settings},this.viewIndex)}},{key:"updateDimensions",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDimensions",this).call(this),this.ui&&this.element&&(this.controller.settings.scale=this.currentScale,this.controller.settings.pageHeight=this.element.clientHeight*(100/this.controller.settings.scale),this.controller.settings.pageWidth=this.element.clientWidth*(100/this.controller.settings.scale))}},{key:"updateView",value:function(){this.controller.app.endLoading(),this.controller.send("renderToSVG",{pageIndex:this.currentPage},this.viewIndex,this.renderToSVGCallback)}},{key:"updateZoom",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateZoom",this).call(this),this.updateDimensions(),this.controller.send("setOptions",{options:this.controller.settings},this.viewIndex),this.controller.pageCount>0&&this.controller.send("redoLayout",{options:this.controller.settings},this.viewIndex,this.redoLayoutCallback)}},{key:"updatePage",value:function(){this.controller.send("renderToSVG",{pageIndex:this.currentPage},this.viewIndex,this.renderToSVGCallback)}},{key:"onResize",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onResize",this).call(this),this.controller.send("setOptions",{options:this.controller.settings},this.viewIndex),this.controller.pageCount>0&&this.controller.send("redoLayout",{options:this.controller.settings},this.viewIndex,this.redoLayoutCallback)}},{key:"renderToSVGCallback",value:function(e){this.controller.app.endLoading(),this.ui.svgWrapper.innerHTML=e.svg}},{key:"redoLayoutCallback",value:function(e){this.controller.pageCount=e.pageCount,this.currentPage>this.controller.pageCount&&(this.currentPage=this.controller.pageCount),this.controller.app.updateToolbar(),this.controller.send("renderToSVG",{pageIndex:this.currentPage},this.viewIndex,this.renderToSVGCallback)}},{key:"syncScroll",value:function(e){this.ui.svgWrapper.scrollTop=e.target.scrollTop,this.ui.svgWrapper.scrollLeft=e.target.scrollLeft}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(4),n(7)),o=n(16),a=function(e){return e&&e.__esModule?e:{default:e}}(n(17));t.Validator=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.rng=new o.RNGLoader(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Messenger),r(t,[{key:"initWorker",value:function(){this.worker=new a.default,this.worker.onmessage=this.onmessage}},{key:"setRelaxNGSchemaURI",value:function(e,t){var n=this;fetch("https://music-encoding.org/schema/4.0.0/mei-all.rng").then(function(e){return e.text()}).then(function(e){return n.send("setRelaxNGSchema",{schema:e},-1),e}).then(function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}).then(function(e){n.rng.setRelaxNGSchema(e),t.call(n.app)}).catch(function(e){console.log("Request failed",e)})}}]),t}()},function(e,t,n){!function(e){"use strict";var t=e.Pos;function n(e,t){return e.line-t.line||e.ch-t.ch}var r="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=new RegExp("<(/?)(["+r+"]["+r+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function o(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function a(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function s(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function l(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function u(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(s(e))continue;return}if(a(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(a(e,t+1)){i.lastIndex=t,e.ch=t;var n=i.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function h(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(s(e))continue;return}if(a(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function d(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(a(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}function f(e,n){for(var r=[];;){var i,o=h(e),a=e.line,s=e.ch-(o?o[0].length:0);if(!o||!(i=u(e)))return;if("selfClose"!=i)if(o[1]){for(var l=r.length-1;l>=0;--l)if(r[l]==o[2]){r.length=l;break}if(l<0&&(!n||n==o[2]))return{tag:o[2],from:t(a,s),to:t(e.line,e.ch)}}else r.push(o[2])}}function p(e,n){for(var r=[];;){var i=d(e);if(!i)return;if("selfClose"!=i){var o=e.line,a=e.ch,s=c(e);if(!s)return;if(s[1])r.push(s[2]);else{for(var l=r.length-1;l>=0;--l)if(r[l]==s[2]){r.length=l;break}if(l<0&&(!n||n==s[2]))return{tag:s[2],from:t(e.line,e.ch),to:t(o,a)}}}else c(e)}}e.registerHelper("fold","xml",function(e,r){for(var i=new o(e,r.line,0);;){var a=h(i);if(!a||i.line!=r.line)return;var s=u(i);if(!s)return;if(!a[1]&&"selfClose"!=s){var l=t(i.line,i.ch),c=f(i,a[2]);return c&&n(c.from,l)>0?{from:l,to:c.from}:null}}}),e.findMatchingTag=function(e,r,i){var a=new o(e,r.line,r.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var s=u(a),l=s&&t(a.line,a.ch),h=s&&c(a);if(s&&h&&!(n(a,r)>0)){var d={from:t(a.line,a.ch),to:l,tag:h[2]};return"selfClose"==s?{open:d,close:null,at:"open"}:h[1]?{open:p(a,h[2]),close:d,at:"close"}:(a=new o(e,l.line,l.ch,i),{open:d,close:f(a,h[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new o(e,t.line,t.ch,n);;){var a=p(i,r);if(!a)break;var s=new o(e,t.line,t.ch,n),l=f(s,a.tag);if(l)return{open:a,close:l}}},e.scanForClosingTag=function(e,t,n,r){var i=new o(e,t.line,t.ch,r?{from:0,to:r}:null);return f(i,n)}}(n(0))},function(e,t,n){!function(e){"use strict";function t(t,n,i,o){if(i&&i.call){var a=i;i=null}else var a=r(t,i,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var s=r(t,i,"minFoldSize");function l(e){var r=a(t,n);if(!r||r.to.line-r.from.line<s)return null;for(var i=t.findMarksAt(r.from),l=0;l<i.length;++l)if(i[l].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0,i[l].clear()}return r}var u=l(!0);if(r(t,i,"scanUp"))for(;!u&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),u=l(!1);if(u&&!u.cleared&&"unfold"!==o){var c=function(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);(n=document.createElement("span")).appendChild(i),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}(t,i);e.on(c,"mousedown",function(t){h.clear(),e.e_preventDefault(t)});var h=t.markText(u.from,u.to,{replacedWith:c,clearOnEnter:r(t,i,"clearOnEnter"),__isFold:!0});h.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,u.from,u.to)}}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var n={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function r(e,t,r){if(t&&void 0!==t[r])return t[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:n[r]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}(n(0))},function(e,t,n){"use strict";e.exports=function(){return n(8)('!function(e){var o={};function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)t.d(r,n,function(o){return e[o]}.bind(null,n));return r},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=0)}([function(e,o){const t="https://www.verovio.org/javascript/develop";function r(e,o,t){postMessage([e,o,t])}self.Module={locateFile:function(e){return console.log(e),`${t}/${e}`},onRuntimeInitialized:function(){onLoad()}},self.importScripts(`${t}/verovio-toolkit-wasm.js`),self.onLoad=function(){self.vrvToolkit=new verovio.toolkit,console.log(`Verovio (WASM) ${self.vrvToolkit.getVersion()}`),r("loaded",!1,{})},self.vrvToolkit=null,self.addEventListener("message",function(e){var o=e.data[0],t=e.data[1],n=e.data[2];if(vrvToolkit)switch(o){case"edit":try{vrvToolkit.edit(n.action);vrvToolkit.redoPagePitchPosLayout();var a=vrvToolkit.renderToSVG(n.pageIndex);r("edit",t,{pageIndex:n.pageIndex,svg:a,createOverlay:!1})}catch(e){r("error",t,{error:"Edit failed:"+e})}break;case"getElementAttr":r(o+"-ok",t,{elementAttr:vrvToolkit.getElementAttr(n.id)});break;case"getMEI":r(o+"-ok",t,{mei:vrvToolkit.getMEI(-1,!0)});break;case"getOptions":r(o+"-ok",t,{options:vrvToolkit.getOptions(n.default)});break;case"getPageCount":r(o+"-ok",t,{pageCount:vrvToolkit.getPageCount()});break;case"getPageWithElement":r(o+"-ok",t,{pageWithElement:vrvToolkit.getPageWithElement(n.id),id:n.id});break;case"loadData":vrvToolkit.loadData(n.mei),r(o+"-ok",t,{pageCount:vrvToolkit.getPageCount()});break;case"redoLayout":vrvToolkit.redoLayout(),r(o+"-ok",t,{pageCount:vrvToolkit.getPageCount()});break;case"redoPagePitchPosLayout":vrvToolkit.redoPagePitchPosLayout();break;case"renderToSVG":try{a=vrvToolkit.renderToSVG(n.pageIndex);r(o+"-ok",t,{pageIndex:n.pageIndex,svg:a,createOverlay:void 0===n.forceOverlay||n.forceOverlay})}catch(e){r("error",t,{error:"Render of page "+n.pageIndex+" failed:"+e})}break;case"setOptions":vrvToolkit.setOptions(n.options);break;default:r("error",t,{error:"Did not recognize input"+e.data})}else r("error",t,{error:"The verovio-toolkit has not finished loading yet!"})},!1)}]);',n.p+"verovio-worker.js")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentView=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=(n(5),n(1)),a=n(6);t.DocumentView=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i.ui.docWrapper=(0,o.elt)("div",{class:"vrv-ui-doc-wrapper",style:"position: absolute"}),i.element.appendChild(i.ui.docWrapper),i.updateDimensions(),i.observer;try{i.observer=new IntersectionObserver(i.handleObserver),i.observer.view=i,i.pruning=0,i.observer.pruningMargin=10}catch(e){console.info("IntersectionObserver support is missing - loading all pages")}return i.deactivate(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.GenericView),r(t,[{key:"activate",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"activate",this).call(this),this.controller.settings.breaks="encoded",this.controller.settings.noFooter=!1,this.controller.settings.adjustPageHeight=!1,this.controller.settings.scale=100,this.controller.settings.pageHeight=2970,this.controller.settings.pageWidth=2100,this.controller.send("setOptions",{options:this.controller.settings},this.viewIndex)}},{key:"updateDimensions",value:function(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDimensions",this).call(this),this.ui&&this.ui.docWrapper){this.ui.currentDocMargin=this.options.documentViewMargin*this.currentScale/100,this.ui.currentPageWidth=this.controller.settings.pageWidth*this.currentScale/100;var e=this.ui.currentPageWidth+2*this.ui.currentDocMargin+2*this.options.documentViewPageBorder,n=parseInt(this.element.parentElement.style.width,10);this.ui.currentDocWidth=Math.max(n,e),this.ui.docWrapper.style.width=this.ui.currentDocWidth+"px",this.ui.currentPageHeight=this.controller.settings.pageHeight*this.currentScale/100;var r=(this.ui.currentPageHeight+this.ui.currentDocMargin+2*this.options.documentViewPageBorder)*this.controller.pageCount+this.ui.currentDocMargin,o=parseInt(this.element.parentElement.style.height,10);this.ui.currentDocHeight=Math.max(o,r),this.ui.docWrapper.style.height=this.ui.currentDocHeight+"px"}}},{key:"updateView",value:function(){for(;this.ui.docWrapper.firstChild;)this.ui.docWrapper.firstChild.remove();this.updateDimensions(),this.controller.app.endLoading(),this.observer&&(this.observer.lastPageIn=0);for(var e=0;e<this.controller.pageCount;e++){var t=(0,o.elt)("div",{class:"vrv-ui-page-wrapper"});if(this.ui.docWrapper.appendChild(t),!this.options.documentViewSVG){var n=(0,o.elt)("canvas",{class:""});t.appendChild(n)}t.style.height=this.ui.currentPageHeight+"px",t.style.width=this.ui.currentPageWidth+"px",t.style.marginTop=this.ui.currentDocMargin+"px",t.style.marginBottom=this.ui.currentDocMargin+"px",t.style.border="solid "+this.options.documentViewPageBorder+"px lightgray",t.dataset.page=e+1,this.observer?this.observer.observe(t):this.controller.send("renderToSVG",{pageIndex:e+1},this.viewIndex,this.renderToSVGCallback)}}},{key:"updateZoom",value:function(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateZoom",this).call(this),this.options.documentViewSVG){this.updateDimensions();for(var e=0;e<this.controller.pageCount;e++){var n=this.ui.docWrapper.children[e];n.style.height=this.ui.currentPageHeight+"px",n.style.width=this.ui.currentPageWidth+"px",n.style.marginTop=this.ui.currentDocMargin+"px",n.style.marginBottom=this.ui.currentDocMargin+"px",n.firstChild&&n.firstChild&&(n.firstChild.setAttribute("height",this.ui.currentPageHeight+"px"),n.firstChild.setAttribute("width",this.ui.currentPageWidth+"px"))}}else this.updateView()}},{key:"renderToSVGCallback",value:function(e){var t=this.ui.docWrapper.children[e.pageIndex-1];if(this.options.documentViewSVG){var n=this.parseAndScaleSVG(e.svg,this.ui.currentPageHeight,this.ui.currentPageWidth);this.ui.docWrapper.children[e.pageIndex-1].appendChild(n),clearTimeout(this.pruning);var r=this;this.pruning=setTimeout(function(){r.pruneDocument()},200)}else{var i=t.firstElementChild,o=i.getContext("2d"),a=self.URL||self.webkitURL,s=new Image,l=new Blob([""+e.svg],{type:"image/svg+xml"}),u=a.createObjectURL(l),c=this.controller.settings.pageHeight,h=this.controller.settings.pageWidth;i.height=this.ui.currentPageHeight,i.width=this.ui.currentPageWidth,s.onload=function(){o.drawImage(s,0,0,h,c,0,0,i.width,i.height)},s.src=u}}},{key:"handleObserver",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.isIntersecting&&(this.view.loadPage(s.target),this.view.loadPage(s.target.nextSibling),this.lastPageIn=parseInt(s.target.dataset.page))}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:"loadPage",value:function(e){null!==e&&(e.dataset.loaded||(e.dataset.loaded=!0,this.controller.send("renderToSVG",{pageIndex:e.dataset.page},this.viewIndex,this.renderToSVGCallback)))}},{key:"updateSettings",value:function(e){this.controller.send("setOptions",{options:this.controller.settings},this.viewIndex),e&&this.renderCurrentPage()}},{key:"pruneDocument",value:function(){for(var e=0;e<this.controller.pageCount;e++){var t=this.ui.docWrapper.children[e];e<this.observer.lastPageIn-this.observer.pruningMargin&&(delete t.dataset.loaded,t.innerHTML=""),e>this.observer.lastPageIn+this.observer.pruningMargin&&(delete t.dataset.loaded,t.innerHTML="")}}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorView=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(9),o=n(1);t.EditorView=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.ui.svgOverlay=(0,o.elt)("div",{class:"vrv-ui-svg-overlay",style:"position: absolute"}),i.element.appendChild(i.ui.svgOverlay),i.eventManager.bind(i.ui.svgOverlay,"scroll",i.syncScroll),i.eventManager.bind(i.ui.svgOverlay,"click",i.objectClickListener),i.mouseMoveTimer=!1,i.draggingActive=!1,i.highlightedCache=[],i.dragInfo={},i.deactivate(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.ResponsiveView),r(t,[{key:"activate",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"activate",this).call(this)}},{key:"renderToSVGCallback",value:function(e){this.controller.app.endLoading(),this.ui.svgWrapper.innerHTML=e.svg,e.createOverlay&&this.createOverlay(),this.reapplyHighlights()}},{key:"getMEICallback",value:function(e){this.controller.app.updateData(e.mei,this.controller)}},{key:"getPageWithElementCallback",value:function(e){e.pageWithElement>0&&e.pageWithElement!=this.currentPage&&(this.currentPage=e.pageWithElement,this.updatePage()),this.resetHighlights(),this.activateHighlight(e.id)}},{key:"createOverlay",value:function(){this.ui.svgOverlay.innerHTML=this.ui.svgWrapper.innerHTML;var e=!0,t=!1,n=void 0;try{for(var r,i=this.ui.svgOverlay.querySelectorAll("g")[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.style.strokeOpacity=0,o.style.fillOpacity=0}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.ui.svgOverlay.querySelectorAll("path")[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;h.style.strokeOpacity=0,h.style.fillOpacity=0}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}this.ui.svgOverlay.querySelectorAll("text");for(var d=this.ui.svgOverlay.querySelectorAll(".note"),f=0;f<d.length;f++){var p=d[f];this.eventManager.bind(p,"mousedown",this.mouseDownListener),this.eventManager.bind(p,"touchstart",this.mouseDownListener)}this.reapplyHighlights()}},{key:"commitChanges",value:function(e){for(var t=0;t<this.highlightedCache.length;t++){var n=this.highlightedCache[t],r=this.ui.svgOverlay.querySelector("#"+n),i=this.dragInfo.svgY+(e-this.dragInfo.initY)*this.dragInfo.pixPerPix;r.style.transform="translate("+[0,i]+")";var o={action:"drag",param:{elementId:n,x:parseInt(this.dragInfo.x),y:parseInt(i)}};this.controller.send("edit",{action:o,pageIndex:this.currentPage},this.viewIndex,this.renderToSVGCallback)}}},{key:"activateHighlight",value:function(e){-1===this.highlightedCache.indexOf(e)&&this.highlightedCache.push(e),this.reapplyHighlights()}},{key:"reapplyHighlights",value:function(){for(var e=0;e<this.highlightedCache.length;e++){var t=this.highlightedCache[e];this.highlightWithColor(this.ui.svgWrapper.querySelector("#"+t),"#f00")}}},{key:"removeHighlight",value:function(e){var t=this.highlightedCache.indexOf(e);-1!==t&&(this.highlightWithColor(this.ui.svgWrapper.querySelector("#"+e),""),this.highlightedCache.splice(t,1))}},{key:"resetHighlights",value:function(){for(;this.highlightedCache[0];)this.removeHighlight(this.highlightedCache[0])}},{key:"highlightWithColor",value:function(e,t){if(e){e.style.fill=t,e.style.stroke=t;for(var n=0;n<e.children.length;n++)this.highlightWithColor(e.children[n],t)}}},{key:"objectClickListener",value:function(e){var t=e.target.closest(".measure");t&&this.events.publish("ObjectClicked",[e.target,t]),e.stopPropagation()}},{key:"mouseDownListener",value:function(e){var t=e.target;if(t.closest(".note")){var n=t.closest(".note").attributes.id.value;this.controller.app.updateCurrent(n,this.controller),this.resetHighlights(),this.activateHighlight(n);var r=t.closest("svg"),i=r.parentNode.closest("svg"),o=r.getAttribute("viewBox").split(" "),a=parseInt(o[3])/parseInt(i.getAttribute("height"));this.dragInfo.x=parseInt(t.getAttribute("x")),this.dragInfo.svgY=parseInt(t.getAttribute("y")),this.dragInfo.initY=e.pageY,this.dragInfo.pixPerPix=a,document.addEventListener("mousemove",this.boundMouseMove),document.addEventListener("mouseup",this.boundMouseUp),document.addEventListener("touchmove",this.boundMouseMove),document.addEventListener("touchend",this.boundMouseUp)}else console.log(".note not found")}},{key:"mouseMoveListener",value:function(e){if(!this.mouseMoveTimer){var t=this,n=e;this.mouseMoveTimer=!0,setTimeout(function(){t.mouseMoveTimer=!1;for(var r=(n.pageY-t.dragInfo.initY)*t.dragInfo.pixPerPix,i=0;i<t.highlightedCache.length;i++)t.ui.svgOverlay.querySelector("#"+t.highlightedCache[i]).setAttribute("transform","translate(0, "+r+")");t.draggingActive=!0,t.commitChanges(e.pageY)},50)}e.preventDefault()}},{key:"mouseUpListener",value:function(e){document.removeEventListener("mousemove",this.boundMouseMove),document.removeEventListener("mouseup",this.boundMouseUp),document.removeEventListener("touchmove",this.boundMouseMove),document.removeEventListener("touchend",this.boundMouseUp),!0===this.draggingActive&&(this.draggingActive=!1,this.resetHighlights(),this.controller.send("setOptions",{options:this.controller.settings},this.viewIndex),this.controller.send("redoLayout",{options:this.controller.settings},this.viewIndex,this.redoLayoutCallback),this.controller.send("getMEI",{options:this.controller.settings},this.viewIndex,this.getMEICallback))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.RNGLoader=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rngns="http://relaxng.org/ns/structure/1.0",this.tags={}}return r(e,[{key:"setRelaxNGSchema",value:function(e){var t=this,n=this.collectDefinitions(e),r={};Object.keys(n).map(function(e){n[e].map(function(e){t.findElements(n,e,r)})}),r["!top"]=this.findAllTopLevelElements(n,[],e),this.tags=this.sortObject(r)}},{key:"collectDefinitions",value:function(e){var t,n,r,i={},o=e.getElementsByTagNameNS(this.rngns,"define");for(t=0;t<o.length;t+=1)(i[n=(r=o.item(t)).getAttribute("name")]=i[n]||[]).push(r);return i}},{key:"followReference",value:function(e,t,n,r){var i=n.getAttribute("name").trim();-1===t.indexOf(i)&&(t.push(i),e[i].map(r),t.pop())}},{key:"recurseRng",value:function(e,t,n,r){var i;if(this.isRng(n,"ref"))this.followReference(e,t,n,function(e){r(e)});else for(i=n.firstElementChild;i;)r(i),i=i.nextElementSibling}},{key:"getAttributeValues",value:function(e,t,n,r){var i;if(this.isRng(n,"value"))i=n.textContent.trim(),-1===r.indexOf(i)&&r.push(i);else{var o=this;this.recurseRng(e,t,n,function(n){o.getAttributeValues(e,t,n,r)})}}},{key:"getNamesRecurse",value:function(e,t){var n;if(this.isRng(e,"name"))t.push(e.textContent);else if(this.isRng(e,"choice"))for(n=e.firstElementChild;n;)this.getNamesRecurse(n,t),n=n.nextElementSibling}},{key:"getNames",value:function(e){if(e.hasAttribute("name"))return[e.getAttribute("name")];for(var t=[],n=e.firstElementChild;n;)this.getNamesRecurse(n,t),n=n.nextElementSibling;return t}},{key:"defineElement",value:function(e,t,n,r){var i,o=[];if(this.isRng(n,"element"))(i=this.getNames(n)).map(function(e){-1===r.children.indexOf(e)&&r.children.push(e)});else if(this.isRng(n,"attribute"))this.getAttributeValues(e,t,n,o),i=this.getNames(n),0===o.length&&(o=null),i.map(function(e){r.attrs[e]?r.attrs[e]=r.attrs[e].concat(o):r.attrs[e]=o});else if(this.isRng(n,"text"))r.text=!0;else{var a=this;this.recurseRng(e,t,n,function(n){a.defineElement(e,t,n,r)})}}},{key:"sortObject",value:function(e){var t={},n=Object.keys(e);return n.sort(),n.map(function(n){t[n]=e[n]}),t}},{key:"sortAttributeValues",value:function(e){Object.keys(e).map(function(t){var n=e[t];n&&n.sort()})}},{key:"findElements",value:function(e,t,n){var r,i;if(this.isRng(t,"element")){for(i={attrs:{},children:[]},r=t.firstElementChild;r;)this.defineElement(e,[],r,i),r=r.nextElementSibling;i.children.sort(),i.attrs=this.sortObject(i.attrs),this.sortAttributeValues(i.attrs),this.getNames(t).map(function(e){n[e]=i})}else for(r=t.firstElementChild;r;)this.findElements(e,r,n),r=r.nextElementSibling}},{key:"findTopLevelElements",value:function(e,t,n,r){if("element"===n.localName)n.hasAttribute("name")&&r.push(n.getAttribute("name"));else{var i=this;this.recurseRng(e,t,n,function(n){i.findTopLevelElements(e,t,n,r)})}}},{key:"findAllTopLevelElements",value:function(e,t,n){var r,i,o=[],a=n.getElementsByTagNameNS(this.rngns,"start");for(i=0;i<a.length;i+=1)r=a.item(i),this.findTopLevelElements(e,t,r,o);return o}},{key:"isRng",value:function(e,t){return e.namespaceURI===this.rngns&&e.localName===t}}]),e}()},function(e,t,n){"use strict";e.exports=function(){return n(8)('!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){var o,r;function n(e,t,o){postMessage([e,t,o])}self.Module={locateFile:function(e){return console.log(e),`https://www.verovio.org/javascript/validator/${e}`},onRuntimeInitialized:function(){onLoad()}},self.importScripts("https://www.verovio.org/javascript/validator/xml-validator.js"),self.onLoad=function(){Module.cwrap("set_schema","bool",["string"]);Module.cwrap("validate","string",["string"]),o=Module.cwrap("set_relaxNG_schema","bool",["string"]),r=Module.cwrap("validate_NG","string",["string"]),self.initialized=!0,console.log("XML Validator (WASM) loaded"),n("loaded",!1,{})},self.initialized=!1,self.addEventListener("message",function(e){var t=e.data[0],a=e.data[1],i=e.data[2];if(initialized)switch(t){case"setRelaxNGSchema":o(i.schema),console.log("Schema loaded");break;case"validateNG":n(t+"-ok",a,{validation:r(i.xml),text:i.xml});break;default:n("error",a,{error:"Did not recognize input "+e.data})}else n("error",a,{error:"The validator has not finished loading yet!"})},!1)}]);',n.p+"verovio-worker.js")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XMLEditor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(10),o=n(1);n(19),n(22),n(24),n(26),n(28),n(30),n(31),n(12),n(32),n(11),n(33),n(34),n(35),n(36),n(37);var a=n(0);t.XMLEditor=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t&&t instanceof HTMLDivElement))throw"All XMLEditor objects must be initialized with 'div' parameter that is a HTMLDivElement element.";if(this.element=t,!(n&&n instanceof i.Validator))throw"All XMLEditor objects must be initialized with a 'validator' parameter that is an instance of the Valitor class.";this.validator=n,this.options=r,this.viewIndex=this.validator.register(this),this.ui={},this.ui.xmlvalid=(0,o.elt)("div",{class:"vrv-ui-xmlvalid"}),this.element.appendChild(this.ui.xmlvalid),this.ui.xmleditor=(0,o.elt)("textarea",{class:"",style:""}),this.element.appendChild(this.ui.xmleditor),this.updateLinting=null,this.currentId="",this.loaded=!1;var c=this;this.CMeditor=a.fromTextArea(this.ui.xmleditor,{lineNumbers:!0,readOnly:!1,autoCloseTags:!0,indentUnit:4,mode:"xml",foldGutter:!0,styleActiveLine:!0,hintOptions:{schemaInfo:this.validator.tags},extraKeys:{"'<'":s,"'/'":l,"' '":u,"'='":u},gutters:["CodeMirror-lint-markers","CodeMirror-foldgutter"],lint:{caller:c,getAnnotations:this.validate,async:!0}}),this.CMeditor.on("cursorActivity",function(e){c.onCursorActivity(e)}),this.deactivate()}return r(e,[{key:"updateDimensions",value:function(){this.CMeditor.setSize(this.element.style.width,this.element.style.height)}},{key:"activate",value:function(){this.element.style.display="block"}},{key:"deactivate",value:function(){this.element.style.display="none"}},{key:"updateView",value:function(){}},{key:"onResize",value:function(){this.updateDimensions()}},{key:"validate",value:function(e,t,n){if(n&&n.caller&&e){var r=n.caller;r.ui.xmlvalid&&(r.ui.xmlvalid.style.display="none"),r.updateLinting=t,r.validator.send("validateNG",{xml:e},r.viewIndex,r.validateCallback)}}},{key:"setData",value:function(e){this.loaded=!1,this.CMeditor.setValue(e)}},{key:"setCurrent",value:function(e){var t=this.CMeditor.getSearchCursor('xml:id="'+e+'"');t.findNext(),t.atOccurrence&&(this.CMeditor.scrollIntoView({line:t.pos.from.line,char:0},60),this.CMeditor.setCursor(t.from()))}},{key:"onCursorActivity",value:function(e){var t=e.getCursor(),n=e.getLine(t.line).match(/.*xml:id=\"([^"]*)\".*/);n&&(this.currentId!==n[1]&&this.validator.app.updateCurrent(n[1],this),this.currentId=n[1])}},{key:"validateCallback",value:function(e){var t,n,r=[],i=0;try{t=e.text.split("\n"),n=JSON.parse(e.validation)}catch(e){return void console.log("could not parse json:",e)}for(;i<n.length;){var o=Math.max(n[i].line-1,0);r.push({from:new a.Pos(o,0),to:new a.Pos(o,t[o].length),severity:"error",message:n[i].message}),i+=1}this.updateLinting(this.CMeditor,r),0==r.length&&(this.loaded&&this.validator.app.updateData(e.text,this),this.ui.xmlvalid.style.display="block"),this.loaded=!0}}]),e}();function s(e,t){e.getCursor();return t&&!t()||setTimeout(function(){e.state.completionActive||a.showHint(e,a.hint.xml,{schemaInfo:a.schemaInfo,completeSingle:!1})},100),a.Pass}function l(e){return s(e,function(){var t=e.getCursor();return"<"==e.getRange(a.Pos(t.line,t.ch-1),t)})}function u(e){return s(e,function(){var t=e.getTokenAt(e.getCursor());return!!("string"!=t.type||/['"]/.test(t.string.charAt(t.string.length-1))&&1!=t.string.length)&&a.innerMode(e.getMode(),t.state).state.tagName})}},function(e,t,n){var r=n(20);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"/* BASICS */\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr; }\n\n/* PADDING */\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */ }\n\n.CodeMirror pre {\n  padding: 0 4px;\n  /* Horizontal padding of content */ }\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */ }\n\n/* GUTTER */\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap; }\n\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap; }\n\n.CodeMirror-guttermarker {\n  color: black; }\n\n.CodeMirror-guttermarker-subtle {\n  color: #999; }\n\n/* CURSOR */\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0; }\n\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver; }\n\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7; }\n\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1; }\n\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite; }\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7; }\n\n@-webkit-keyframes blink {\n  0% { }\n  50% {\n    background-color: transparent; }\n  100% { } }\n\n@keyframes blink {\n  0% { }\n  50% {\n    background-color: transparent; }\n  100% { } }\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: -20px;\n  overflow: hidden; }\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute; }\n\n/* DEFAULT THEME */\n.cm-s-default .cm-header {\n  color: blue; }\n\n.cm-s-default .cm-quote {\n  color: #090; }\n\n.cm-negative {\n  color: #d44; }\n\n.cm-positive {\n  color: #292; }\n\n.cm-header, .cm-strong {\n  font-weight: bold; }\n\n.cm-em {\n  font-style: italic; }\n\n.cm-link {\n  text-decoration: underline; }\n\n.cm-strikethrough {\n  text-decoration: line-through; }\n\n.cm-s-default .cm-keyword {\n  color: #708; }\n\n.cm-s-default .cm-atom {\n  color: #219; }\n\n.cm-s-default .cm-number {\n  color: #164; }\n\n.cm-s-default .cm-def {\n  color: #00f; }\n\n.cm-s-default .cm-variable-2 {\n  color: #05a; }\n\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {\n  color: #085; }\n\n.cm-s-default .cm-comment {\n  color: #a50; }\n\n.cm-s-default .cm-string {\n  color: #a11; }\n\n.cm-s-default .cm-string-2 {\n  color: #f50; }\n\n.cm-s-default .cm-meta {\n  color: #555; }\n\n.cm-s-default .cm-qualifier {\n  color: #555; }\n\n.cm-s-default .cm-builtin {\n  color: #30a; }\n\n.cm-s-default .cm-bracket {\n  color: #997; }\n\n.cm-s-default .cm-tag {\n  color: #170; }\n\n.cm-s-default .cm-attribute {\n  color: #00c; }\n\n.cm-s-default .cm-hr {\n  color: #999; }\n\n.cm-s-default .cm-link {\n  color: #00c; }\n\n.cm-s-default .cm-error {\n  color: #f00; }\n\n.cm-invalidchar {\n  color: #f00; }\n\n.CodeMirror-composing {\n  border-bottom: 2px solid; }\n\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0; }\n\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22; }\n\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3); }\n\n.CodeMirror-activeline-background {\n  background: #e8f2ff; }\n\n/* STOP */\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white; }\n\n.CodeMirror-scroll {\n  overflow: scroll !important;\n  /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px;\n  margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative; }\n\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent; }\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none; }\n\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll; }\n\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll; }\n\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0; }\n\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0; }\n\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3; }\n\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px; }\n\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important; }\n\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4; }\n\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4; }\n\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent; }\n\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent; }\n\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent; }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */ }\n\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  -moz-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual; }\n\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal; }\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0; }\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px;\n  /* Force widget margins to stay inside of the container */ }\n\n.CodeMirror-rtl pre {\n  direction: rtl; }\n\n.CodeMirror-code {\n  outline: none; }\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  box-sizing: content-box; }\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden; }\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none; }\n\n.CodeMirror-measure pre {\n  position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3; }\n\ndiv.CodeMirror-dragcursors {\n  visibility: visible; }\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible; }\n\n.CodeMirror-selected {\n  background: #d9d9d9; }\n\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0; }\n\n.CodeMirror-crosshair {\n  cursor: crosshair; }\n\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0; }\n\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection {\n  background: #d7d4f0; }\n\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, 0.4); }\n\n/* Used to force a border model for a node */\n.cm-force-border {\n  padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden; } }\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after {\n  content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext {\n  background: none; }\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var r=n(23);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'.CodeMirror-foldmarker {\n  color: blue;\n  text-shadow: #b9f 1px 1px 2px, #b9f -1px -1px 2px, #b9f 1px -1px 2px, #b9f -1px 1px 2px;\n  font-family: arial;\n  line-height: .3;\n  cursor: pointer; }\n\n.CodeMirror-foldgutter {\n  width: .7em; }\n\n.CodeMirror-foldgutter-open,\n.CodeMirror-foldgutter-folded {\n  cursor: pointer; }\n\n.CodeMirror-foldgutter-open:after {\n  content: "\\25BE"; }\n\n.CodeMirror-foldgutter-folded:after {\n  content: "\\25B8"; }\n',""])},function(e,t,n){var r=n(25);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'/* The lint marker gutter */\n.CodeMirror-lint-markers {\n  width: 16px; }\n\n.CodeMirror-lint-tooltip {\n  background-color: #ffd;\n  border: 1px solid black;\n  border-radius: 4px 4px 4px 4px;\n  color: black;\n  font-family: monospace;\n  font-size: 10pt;\n  overflow: hidden;\n  padding: 2px 5px;\n  position: fixed;\n  white-space: pre;\n  white-space: pre-wrap;\n  z-index: 100;\n  max-width: 600px;\n  opacity: 0;\n  transition: opacity .4s;\n  -moz-transition: opacity .4s;\n  -webkit-transition: opacity .4s;\n  -o-transition: opacity .4s;\n  -ms-transition: opacity .4s; }\n\n.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning {\n  background-position: left bottom;\n  background-repeat: repeat-x; }\n\n.CodeMirror-lint-mark-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg=="); }\n\n.CodeMirror-lint-mark-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII="); }\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning {\n  background-position: center center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: middle;\n  position: relative; }\n\n.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning {\n  padding-left: 18px;\n  background-position: top left;\n  background-repeat: no-repeat; }\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII="); }\n\n.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII="); }\n\n.CodeMirror-lint-marker-multiple {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");\n  background-repeat: no-repeat;\n  background-position: right bottom;\n  width: 100%;\n  height: 100%; }\n',""])},function(e,t,n){var r=n(27);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n  margin: 0;\n  padding: 2px;\n  box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n  max-height: 20em;\n  overflow-y: auto; }\n\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: black;\n  cursor: pointer; }\n\nli.CodeMirror-hint-active {\n  background: #08f;\n  color: white; }\n",""])},function(e,t,n){var r=n(29);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"/* Based on Sublime Text's Monokai theme */\n.cm-s-monokai.CodeMirror {\n  background: #272822;\n  color: #f8f8f2; }\n\n.cm-s-monokai div.CodeMirror-selected {\n  background: #49483E; }\n\n.cm-s-monokai .CodeMirror-line::-moz-selection, .cm-s-monokai .CodeMirror-line > span::-moz-selection, .cm-s-monokai .CodeMirror-line > span > span::-moz-selection {\n  background: rgba(73, 72, 62, 0.99); }\n\n.cm-s-monokai .CodeMirror-line::selection, .cm-s-monokai .CodeMirror-line > span::selection, .cm-s-monokai .CodeMirror-line > span > span::selection {\n  background: rgba(73, 72, 62, 0.99); }\n\n.cm-s-monokai .CodeMirror-line::-moz-selection, .cm-s-monokai .CodeMirror-line > span::-moz-selection, .cm-s-monokai .CodeMirror-line > span > span::-moz-selection {\n  background: rgba(73, 72, 62, 0.99); }\n\n.cm-s-monokai .CodeMirror-gutters {\n  background: #272822;\n  border-right: 0px; }\n\n.cm-s-monokai .CodeMirror-guttermarker {\n  color: white; }\n\n.cm-s-monokai .CodeMirror-guttermarker-subtle {\n  color: #d0d0d0; }\n\n.cm-s-monokai .CodeMirror-linenumber {\n  color: #d0d0d0; }\n\n.cm-s-monokai .CodeMirror-cursor {\n  border-left: 1px solid #f8f8f0; }\n\n.cm-s-monokai span.cm-comment {\n  color: #75715e; }\n\n.cm-s-monokai span.cm-atom {\n  color: #ae81ff; }\n\n.cm-s-monokai span.cm-number {\n  color: #ae81ff; }\n\n.cm-s-monokai span.cm-comment.cm-attribute {\n  color: #97b757; }\n\n.cm-s-monokai span.cm-comment.cm-def {\n  color: #bc9262; }\n\n.cm-s-monokai span.cm-comment.cm-tag {\n  color: #bc6283; }\n\n.cm-s-monokai span.cm-comment.cm-type {\n  color: #5998a6; }\n\n.cm-s-monokai span.cm-property, .cm-s-monokai span.cm-attribute {\n  color: #a6e22e; }\n\n.cm-s-monokai span.cm-keyword {\n  color: #f92672; }\n\n.cm-s-monokai span.cm-builtin {\n  color: #66d9ef; }\n\n.cm-s-monokai span.cm-string {\n  color: #e6db74; }\n\n.cm-s-monokai span.cm-variable {\n  color: #f8f8f2; }\n\n.cm-s-monokai span.cm-variable-2 {\n  color: #9effff; }\n\n.cm-s-monokai span.cm-variable-3, .cm-s-monokai span.cm-type {\n  color: #66d9ef; }\n\n.cm-s-monokai span.cm-def {\n  color: #fd971f; }\n\n.cm-s-monokai span.cm-bracket {\n  color: #f8f8f2; }\n\n.cm-s-monokai span.cm-tag {\n  color: #f92672; }\n\n.cm-s-monokai span.cm-header {\n  color: #ae81ff; }\n\n.cm-s-monokai span.cm-link {\n  color: #ae81ff; }\n\n.cm-s-monokai span.cm-error {\n  background: #f92672;\n  color: #f8f8f0; }\n\n.cm-s-monokai .CodeMirror-activeline-background {\n  background: #373831; }\n\n.cm-s-monokai .CodeMirror-matchingbracket {\n  text-decoration: underline;\n  color: white !important; }\n",""])},function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,i){var o,a,s=r.indentUnit,l={},u=i.htmlMode?t:n;for(var c in u)l[c]=u[c];for(var c in i)l[c]=i[c];function h(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(f("atom","]]>")):null:e.match("--")?n(f("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=h;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=f("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function d(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=h,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){t.tokenize=h,t.state=v,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=d;break}return"string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=h;break}n.next()}return e}}function p(e){e.context&&(e.context=e.context.prev)}function g(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;p(e)}}function v(e,t,n){return"openTag"==e?(n.tagStart=t.column(),m):"closeTag"==e?b:v}function m(e,t,n){return"word"==e?(n.tagName=t.current(),a="tag",w):l.allowMissingTagName&&"endTag"==e?(a="tag bracket",w(e,0,n)):(a="error",m)}function b(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&p(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",y):(a="tag error",A)}return l.allowMissingTagName&&"endTag"==e?(a="tag bracket",y(e,0,n)):(a="error",A)}function y(e,t,n){return"endTag"!=e?(a="error",y):(p(n),v)}function A(e,t,n){return a="error",y(e,0,n)}function w(e,t,n){if("word"==e)return a="attribute",C;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,r,i==n.indented)),v}return a="error",w}function C(e,t,n){return"equals"==e?x:(l.allowMissing||(a="error"),w(e,0,n))}function x(e,t,n){return"string"==e?k:"word"==e&&l.allowUnquoted?(a="string",w):(a="error",w(e,0,n))}function k(e,t,n){return"string"==e?k:w(e,0,n)}return h.isInText=!0,{startState:function(e){var t={tokenize:h,state:v,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(a=null,t.state=t.state(o||n,e,t),a&&(n="error"==a?n+" error":a)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=h)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=w)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(0))},function(e,t,n){!function(e){e.defineOption("autoCloseTags",!1,function(a,s,l){if(l!=e.Init&&l&&a.removeKeyMap("autoCloseTags"),s){var u={name:"autoCloseTags"};("object"!=typeof s||s.whenClosing)&&(u["'/'"]=function(t){return function(t){return t.getOption("disableInput")?e.Pass:r(t,!0)}(t)}),("object"!=typeof s||s.whenOpening)&&(u["'>'"]=function(r){return function(r){if(r.getOption("disableInput"))return e.Pass;for(var a=r.listSelections(),s=[],l=r.getOption("autoCloseTags"),u=0;u<a.length;u++){if(!a[u].empty())return e.Pass;var c=a[u].head,h=r.getTokenAt(c),d=e.innerMode(r.getMode(),h.state),f=d.state;if("xml"!=d.mode.name||!f.tagName)return e.Pass;var p="html"==d.mode.configuration,g="object"==typeof l&&l.dontCloseTags||p&&t,v="object"==typeof l&&l.indentTags||p&&n,m=f.tagName;h.end>c.ch&&(m=m.slice(0,m.length-h.end+c.ch));var b=m.toLowerCase();if(!m||"string"==h.type&&(h.end!=c.ch||!/[\"\']/.test(h.string.charAt(h.string.length-1))||1==h.string.length)||"tag"==h.type&&"closeTag"==f.type||h.string.indexOf("/")==h.string.length-1||g&&i(g,b)>-1||o(r,m,c,f,!0))return e.Pass;var y=v&&i(v,b)>-1;s[u]={indent:y,text:">"+(y?"\n\n":"")+"</"+m+">",newPos:y?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}for(var A="object"==typeof l&&l.dontIndentOnAutoClose,u=a.length-1;u>=0;u--){var w=s[u];r.replaceRange(w.text,a[u].head,a[u].anchor,"+insert");var C=r.listSelections().slice(0);C[u]={head:w.newPos,anchor:w.newPos},r.setSelections(C),!A&&w.indent&&(r.indentLine(w.newPos.line,null,!0),r.indentLine(w.newPos.line+1,null,!0))}}(r)}),a.addKeyMap(u)}});var t=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function r(t,n){for(var r=t.listSelections(),i=[],a=n?"/":"</",s=t.getOption("autoCloseTags"),l="object"==typeof s&&s.dontIndentOnSlash,u=0;u<r.length;u++){if(!r[u].empty())return e.Pass;var c,h=r[u].head,d=t.getTokenAt(h),f=e.innerMode(t.getMode(),d.state),p=f.state;if(n&&("string"==d.type||"<"!=d.string.charAt(0)||d.start!=h.ch-1))return e.Pass;if("xml"!=f.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==f.mode.name)c=a+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=f.mode.name)return e.Pass;c=a+"style"}else{if(!p.context||!p.context.tagName||o(t,p.context.tagName,h,p))return e.Pass;c=a+p.context.tagName}">"!=t.getLine(h.line).charAt(d.end)&&(c+=">"),i[u]=c}if(t.replaceSelections(i),r=t.listSelections(),!l)for(var u=0;u<r.length;u++)(u==r.length-1||r[u].head.line<r[u+1].head.line)&&t.indentLine(r[u].head.line)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var a=Math.min(t.lastLine()+1,r.line+500),s=e.scanForClosingTag(t,r,null,a);if(!s||s.tag!=n)return!1;for(var l=i.context,u=o?1:0;l&&l.tagName==n;l=l.prev)++u;r=s.to;for(var c=1;c<u;c++){var h=e.scanForClosingTag(t,r,null,a);if(!h||h.tag!=n)return!1;r=h.to}return!0}e.commands.closeTag=function(e){return r(e)}}(n(0),n(11))},function(e,t,n){!function(e){"use strict";e.defineOption("foldGutter",!1,function(t,n,r){r&&r!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",a),t.off("change",s),t.off("viewportChange",l),t.off("fold",u),t.off("unfold",u),t.off("swapDoc",s)),n&&(t.state.foldGutter=new function(e){this.options=e,this.from=this.to=0}(function(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}(n)),o(t),t.on("gutterClick",a),t.on("change",s),t.on("viewportChange",l),t.on("fold",u),t.on("unfold",u),t.on("swapDoc",s))});var t=e.Pos;function n(e,n){for(var r=e.findMarks(t(n,0),t(n+1,0)),i=0;i<r.length;++i)if(r[i].__isFold&&r[i].find().from.line==n)return r[i]}function r(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function i(e,i,o){var a=e.state.foldGutter.options,s=i,l=e.foldOption(a,"minFoldSize"),u=e.foldOption(a,"rangeFinder");e.eachLine(i,o,function(i){var o=null;if(n(e,s))o=r(a.indicatorFolded);else{var c=t(s,0),h=u&&u(e,c);h&&h.to.line-h.from.line>=l&&(o=r(a.indicatorOpen))}e.setGutterMarker(i,a.gutter,o),++s})}function o(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){i(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,r,i){var o=e.state.foldGutter;if(o){var a=o.options;if(i==a.gutter){var s=n(e,r);s?s.clear():e.foldCode(t(r,0),a.rangeFinder)}}}function s(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){o(e)},n.foldOnChangeTimeSpan||600)}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?o(e):e.operation(function(){n.from<t.from&&(i(e,n.from,t.from),t.from=n.from),n.to>t.to&&(i(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function u(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&i(e,r,r+1)}}}(n(0),n(12))},function(e,t,n){!function(e){"use strict";var t="CodeMirror-hint",n="CodeMirror-hint-active";function r(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",function(t){t=function(e,t,n){var r=e.options.hintOptions,i={};for(var o in c)i[o]=c[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var i=0;i<n.length;i++)if(n[i].head.line!=n[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new r(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}});var i=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(e){return"string"==typeof e?e:e.text}function s(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function l(r,i){this.completion=r,this.data=i,this.picked=!1;var o=this,l=r.cm,u=l.getInputField().ownerDocument,c=u.defaultView||u.parentWindow,h=this.hints=u.createElement("ul"),d=r.cm.options.theme;h.className="CodeMirror-hints "+d,this.selectedHint=i.selectedHint||0;for(var f=i.list,p=0;p<f.length;++p){var g=h.appendChild(u.createElement("li")),v=f[p],m=t+(p!=this.selectedHint?"":" "+n);null!=v.className&&(m=v.className+" "+m),g.className=m,v.render?v.render(g,i,v):g.appendChild(u.createTextNode(v.displayText||a(v))),g.hintId=p}var b=l.cursorCoords(r.options.alignWithWord?i.from:null),y=b.left,A=b.bottom,w=!0;h.style.left=y+"px",h.style.top=A+"px";var C=c.innerWidth||Math.max(u.body.offsetWidth,u.documentElement.offsetWidth),x=c.innerHeight||Math.max(u.body.offsetHeight,u.documentElement.offsetHeight);(r.options.container||u.body).appendChild(h);var k=h.getBoundingClientRect(),I=k.bottom-x,M=h.scrollHeight>h.clientHeight+1,S=l.getScrollInfo();if(I>0){var L=k.bottom-k.top,T=b.top-(b.bottom-k.top);if(T-L>0)h.style.top=(A=b.top-L)+"px",w=!1;else if(L>x){h.style.height=x-5+"px",h.style.top=(A=b.bottom-k.top)+"px";var O=l.getCursor();i.from.ch!=O.ch&&(b=l.cursorCoords(O),h.style.left=(y=b.left)+"px",k=h.getBoundingClientRect())}}var N,E=k.right-C;if(E>0&&(k.right-k.left>C&&(h.style.width=C-5+"px",E-=k.right-k.left-C),h.style.left=(y=b.left-E)+"px"),M)for(var P=h.firstChild;P;P=P.nextSibling)P.style.paddingRight=l.display.nativeBarWidth+"px";return l.addKeyMap(this.keyMap=function(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}(r,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:f.length,close:function(){r.close()},pick:function(){o.pick()},data:i})),r.options.closeOnUnfocus&&(l.on("blur",this.onBlur=function(){N=setTimeout(function(){r.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(N)})),l.on("scroll",this.onScroll=function(){var e=l.getScrollInfo(),t=l.getWrapperElement().getBoundingClientRect(),n=A+S.top-e.top,i=n-(c.pageYOffset||(u.documentElement||u.body).scrollTop);if(w||(i+=h.offsetHeight),i<=t.top||i>=t.bottom)return r.close();h.style.top=n+"px",h.style.left=y+S.left-e.left+"px"}),e.on(h,"dblclick",function(e){var t=s(h,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())}),e.on(h,"click",function(e){var t=s(h,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),r.options.completeOnSingleClick&&o.pick())}),e.on(h,"mousedown",function(){setTimeout(function(){l.focus()},20)}),e.signal(i,"select",f[this.selectedHint],h.childNodes[this.selectedHint]),!0}function u(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(a(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=i(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;u(this.options.hint,this.cm,this.options,function(r){t.tick==n&&t.finishUpdate(r,e)})}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new l(this,t),e.signal(t,"shown")))}},l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+n,"")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" "+n,i.offsetTop<this.hints.scrollTop?this.hints.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=i.offsetTop+i.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:function(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=function(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}(e,i);!function i(o){if(o==r.length)return t(null);u(r[o],e,n,function(e){e&&e.list.length>0?t(e):i(o+1)})}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper("hint","fromList",function(t,n){var r,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",a=i);for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,r.length)==r&&l.push(c)}if(l.length)return{list:l,from:a,to:s}}),e.commands.autocomplete=e.showHint;var c={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}(n(0))},function(e,t,n){!function(e){"use strict";var t=e.Pos;e.registerHelper("hint","xml",function(n,r){var i=r&&r.schemaInfo,o=r&&r.quoteChar||'"';if(i){var a=n.getCursor(),s=n.getTokenAt(a);s.end>a.ch&&(s.end=a.ch,s.string=s.string.slice(0,a.ch-s.start));var l=e.innerMode(n.getMode(),s.state);if("xml"==l.mode.name){var u,c,h=[],d=!1,f=/\btag\b/.test(s.type)&&!/>$/.test(s.string),p=f&&/^\w/.test(s.string);if(p){var g=n.getLine(a.line).slice(Math.max(0,s.start-2),s.start),v=/<\/$/.test(g)?"close":/<$/.test(g)?"open":null;v&&(c=s.start-("close"==v?2:1))}else f&&"<"==s.string?v="open":f&&"</"==s.string&&(v="close");if(!f&&!l.state.tagName||v){p&&(u=s.string),d=v;var m=l.state.context,b=m&&i[m.tagName],y=m?b&&b.children:i["!top"];if(y&&"close"!=v)for(var A=0;A<y.length;++A)u&&0!=y[A].lastIndexOf(u,0)||h.push("<"+y[A]);else if("close"!=v)for(var w in i)!i.hasOwnProperty(w)||"!top"==w||"!attrs"==w||u&&0!=w.lastIndexOf(u,0)||h.push("<"+w);m&&(!u||"close"==v&&0==m.tagName.lastIndexOf(u,0))&&h.push("</"+m.tagName+">")}else{var b=i[l.state.tagName],C=b&&b.attrs,x=i["!attrs"];if(!C&&!x)return;if(C){if(x){var k={};for(var I in x)x.hasOwnProperty(I)&&(k[I]=x[I]);for(var I in C)C.hasOwnProperty(I)&&(k[I]=C[I]);C=k}}else C=x;if("string"==s.type||"="==s.string){var M,g=n.getRange(t(a.line,Math.max(0,a.ch-60)),t(a.line,"string"==s.type?s.start:s.end)),S=g.match(/([^\s\u00a0=<>\"\']+)=$/);if(!S||!C.hasOwnProperty(S[1])||!(M=C[S[1]]))return;if("function"==typeof M&&(M=M.call(this,n)),"string"==s.type){u=s.string;var L=0;/['"]/.test(s.string.charAt(0))&&(o=s.string.charAt(0),u=s.string.slice(1),L++);var T=s.string.length;/['"]/.test(s.string.charAt(T-1))&&(o=s.string.charAt(T-1),u=s.string.substr(L,T-2)),d=!0}for(var A=0;A<M.length;++A)u&&0!=M[A].lastIndexOf(u,0)||h.push(o+M[A]+o)}else for(var O in"attribute"==s.type&&(u=s.string,d=!0),C)!C.hasOwnProperty(O)||u&&0!=O.lastIndexOf(u,0)||h.push(O)}return{list:h,from:d?t(a.line,null==c?s.start:c):a,to:d?t(a.line,s.end):a}}}})}(n(0))},function(e,t,n){!function(e){"use strict";var t="CodeMirror-lint-markers";function n(e){e.parentNode&&e.parentNode.removeChild(e)}function r(t,r,i){var o=function(t,n){var r=document.createElement("div");function i(t){if(!r.parentNode)return e.off(document,"mousemove",i);r.style.top=Math.max(0,t.clientY-r.offsetHeight-5)+"px",r.style.left=t.clientX+5+"px"}return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),e.on(document,"mousemove",i),i(t),null!=r.style.opacity&&(r.style.opacity=1),r}(t,r);function a(){e.off(i,"mouseout",a),o&&(function(e){e.parentNode&&(null==e.style.opacity&&n(e),e.style.opacity=0,setTimeout(function(){n(e)},600))}(o),o=null)}var s=setInterval(function(){if(o)for(var e=i;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){a();break}}if(!o)return clearInterval(s)},400);e.on(i,"mouseout",a)}function i(e,t,n){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(t){!function(e,t){var n=t.target||t.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var i=n.getBoundingClientRect(),o=(i.left+i.right)/2,a=(i.top+i.bottom)/2,s=e.findMarksAt(e.coordsChar({left:o,top:a},"client")),u=[],c=0;c<s.length;++c){var h=s[c].__annotation;h&&u.push(h)}u.length&&function(e,t){for(var n=t.target||t.srcElement,i=document.createDocumentFragment(),o=0;o<e.length;o++){var a=e[o];i.appendChild(l(a))}r(t,i,n)}(u,t)}}(e,t)},this.waitingFor=0}function o(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(t);for(var r=0;r<n.marked.length;++r)n.marked[r].clear();n.marked.length=0}function a(t,n,i,o){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+n,i&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=o&&e.on(s,"mouseover",function(e){r(e,t,s)}),a}function s(e,t){return"error"==e?e:t}function l(e){var t=e.severity;t||(t="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+t,void 0!==e.messageHTML?n.innerHTML=e.messageHTML:n.appendChild(document.createTextNode(e.message)),n}function u(t){var n=t.state.lint,r=n.options,i=r.options||r,o=r.getAnnotations||t.getHelper(e.Pos(0,0),"lint");if(o)if(r.async||o.async)!function(t,n,r){var i=t.state.lint,o=++i.waitingFor;function a(){o=-1,t.off("change",a)}t.on("change",a),n(t.getValue(),function(n,r){t.off("change",a),i.waitingFor==o&&(r&&n instanceof e&&(n=r),t.operation(function(){c(t,n)}))},r,t)}(t,o,i);else{var a=o(t.getValue(),i,t);if(!a)return;a.then?a.then(function(e){t.operation(function(){c(t,e)})}):t.operation(function(){c(t,a)})}}function c(e,n){o(e);for(var r=e.state.lint,i=r.options,u=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=r.from.line;(t[i]||(t[i]=[])).push(r)}return t}(n),c=0;c<u.length;++c){var h=u[c];if(h){for(var d=null,f=r.hasGutter&&document.createDocumentFragment(),p=0;p<h.length;++p){var g=h[p],v=g.severity;v||(v="error"),d=s(d,v),i.formatAnnotation&&(g=i.formatAnnotation(g)),r.hasGutter&&f.appendChild(l(g)),g.to&&r.marked.push(e.markText(g.from,g.to,{className:"CodeMirror-lint-mark-"+v,__annotation:g}))}r.hasGutter&&e.setGutterMarker(c,t,a(f,d,h.length>1,r.options.tooltips))}}i.onUpdateLinting&&i.onUpdateLinting(n,u,e)}function h(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){u(e)},t.options.delay||500))}e.defineOption("lint",!1,function(n,r,a){if(a&&a!=e.Init&&(o(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",h),e.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),r){for(var s=n.getOption("gutters"),l=!1,c=0;c<s.length;++c)s[c]==t&&(l=!0);var d=n.state.lint=new i(n,function(e,t){return t instanceof Function?{getAnnotations:t}:(t&&!0!==t||(t={}),t)}(0,r),l);!1!==d.options.lintOnChange&&n.on("change",h),0!=d.options.tooltips&&"gutter"!=d.options.tooltips&&e.on(n.getWrapperElement(),"mouseover",d.onMouseOver),u(n)}}),e.defineExtension("performLint",function(){this.state.lint&&u(this)})}(n(0))},function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function i(e,t){for(var n=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),r=n,i=0;i<t.length;i++)-1==r.indexOf(t.charAt(i))&&(r+=t.charAt(i));return n==r?e:new RegExp(e.source,r)}function o(e,t,n){t=i(t,"g");for(var o=n.line,a=n.ch,s=e.lastLine();o<=s;o++,a=0){t.lastIndex=a;var l=e.getLine(o),u=t.exec(l);if(u)return{from:r(o,u.index),to:r(o,u.index+u[0].length),match:u}}}function a(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if((r=(n=i).index+(n[0].length||1))==e.length)return n}}function s(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;s>n?o=a:i=a+1}}function l(e,l,u,c){var h;this.atOccurrence=!1,this.doc=e,u=u?e.clipPos(u):r(0,0),this.pos={from:u,to:u},"object"==typeof c?h=c.caseFold:(h=c,c=null),"string"==typeof l?(null==h&&(h=!1),this.matches=function(i,o){return(i?function(e,i,o,a){if(!i.length)return null;var l=a?t:n,u=l(i).split(/\r|\n\r?/);e:for(var c=o.line,h=o.ch,d=e.firstLine()-1+u.length;c>=d;c--,h=-1){var f=e.getLine(c);h>-1&&(f=f.slice(0,h));var p=l(f);if(1==u.length){var g=p.lastIndexOf(u[0]);if(-1==g)continue e;return{from:r(c,s(f,p,g,l)),to:r(c,s(f,p,g+u[0].length,l))}}var v=u[u.length-1];if(p.slice(0,v.length)==v){for(var m=1,o=c-u.length+1;m<u.length-1;m++)if(l(e.getLine(o+m))!=u[m])continue e;var b=e.getLine(c+1-u.length),y=l(b);if(y.slice(y.length-u[0].length)==u[0])return{from:r(c+1-u.length,s(b,y,b.length-u[0].length,l)),to:r(c,s(f,p,v.length,l))}}}}:function(e,i,o,a){if(!i.length)return null;var l=a?t:n,u=l(i).split(/\r|\n\r?/);e:for(var c=o.line,h=o.ch,d=e.lastLine()+1-u.length;c<=d;c++,h=0){var f=e.getLine(c).slice(h),p=l(f);if(1==u.length){var g=p.indexOf(u[0]);if(-1==g)continue e;var o=s(f,p,g,l)+h;return{from:r(c,s(f,p,g,l)+h),to:r(c,s(f,p,g+u[0].length,l)+h)}}var v=p.length-u[0].length;if(p.slice(v)==u[0]){for(var m=1;m<u.length-1;m++)if(l(e.getLine(c+m))!=u[m])continue e;var b=e.getLine(c+u.length-1),y=l(b),A=u[u.length-1];if(y.slice(0,A.length)==A)return{from:r(c,s(f,p,v,l)+h),to:r(c+u.length-1,s(b,y,A.length,l))}}}})(e,l,o,h)}):(l=i(l,"gm"),c&&!1===c.multiline?this.matches=function(t,n){return(t?function(e,t,n){t=i(t,"g");for(var o=n.line,s=n.ch,l=e.firstLine();o>=l;o--,s=-1){var u=e.getLine(o);s>-1&&(u=u.slice(0,s));var c=a(u,t);if(c)return{from:r(o,c.index),to:r(o,c.index+c[0].length),match:c}}}:o)(e,l,n)}:this.matches=function(t,n){return(t?function(e,t,n){t=i(t,"gm");for(var o,s=1,l=n.line,u=e.firstLine();l>=u;){for(var c=0;c<s;c++){var h=e.getLine(l--);o=null==o?h.slice(0,n.ch):h+"\n"+o}s*=2;var d=a(o,t);if(d){var f=o.slice(0,d.index).split("\n"),p=d[0].split("\n"),g=l+f.length,v=f[f.length-1].length;return{from:r(g,v),to:r(g+p.length-1,1==p.length?v+p[0].length:p[p.length-1].length),match:d}}}}:function(e,t,n){if(!function(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}(t))return o(e,t,n);t=i(t,"gm");for(var a,s=1,l=n.line,u=e.lastLine();l<=u;){for(var c=0;c<s&&!(l>u);c++){var h=e.getLine(l++);a=null==a?h:a+"\n"+h}s*=2,t.lastIndex=n.ch;var d=t.exec(a);if(d){var f=a.slice(0,d.index).split("\n"),p=d[0].split("\n"),g=n.line+f.length-1,v=f[f.length-1].length;return{from:r(g,v),to:r(g+p.length-1,1==p.length?v+p[0].length:p[p.length-1].length),match:d}}}})(e,l,n)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new l(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new l(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}(n(0))},function(e,t,n){!function(e){"use strict";var t="CodeMirror-activeline",n="CodeMirror-activeline-background",r="CodeMirror-activeline-gutter";function i(e){for(var i=0;i<e.state.activeLines.length;i++)e.removeLineClass(e.state.activeLines[i],"wrap",t),e.removeLineClass(e.state.activeLines[i],"background",n),e.removeLineClass(e.state.activeLines[i],"gutter",r)}function o(e,o){for(var a=[],s=0;s<o.length;s++){var l=o[s],u=e.getOption("styleActiveLine");if("object"==typeof u&&u.nonEmpty?l.anchor.line==l.head.line:l.empty()){var c=e.getLineHandleVisualStart(l.head.line);a[a.length-1]!=c&&a.push(c)}}(function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0})(e.state.activeLines,a)||e.operation(function(){i(e);for(var o=0;o<a.length;o++)e.addLineClass(a[o],"wrap",t),e.addLineClass(a[o],"background",n),e.addLineClass(a[o],"gutter",r);e.state.activeLines=a})}function a(e,t){o(e,t.ranges)}e.defineOption("styleActiveLine",!1,function(t,n,r){var s=r!=e.Init&&r;n!=s&&(s&&(t.off("beforeSelectionChange",a),i(t),delete t.state.activeLines),n&&(t.state.activeLines=[],o(t,t.listSelections()),t.on("beforeSelectionChange",a)))})}(n(0))},function(e,t,n){"use strict";var r=n(39);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(40);(e.exports=n(2)(!1)).push([e.i,".vrv-ui-wrapper {\n  overflow: hidden;\n  margin: 0; }\n  .vrv-ui-wrapper .vrv-ui-views {\n    min-height: 100px;\n    min-width: 200px;\n    position: absolute;\n    overflow: scroll; }\n    .vrv-ui-wrapper .vrv-ui-views .vrv-ui-loading {\n      display: -webkit-flex;\n      display: flex;\n      -webkit-align-items: center;\n      align-items: center;\n      -webkit-justify-content: center;\n      justify-content: center;\n      height: 100%;\n      width: 100%; }\n      .vrv-ui-wrapper .vrv-ui-views .vrv-ui-loading .vrv-ui-loading-text {\n        text-align: center;\n        height: 100px; }\n        .vrv-ui-wrapper .vrv-ui-views .vrv-ui-loading .vrv-ui-loading-text:after {\n          margin-top: 20px;\n          display: block;\n          clear: both;\n          content: url("+r(n(41))+"); }\n    .vrv-ui-wrapper .vrv-ui-views .vrv-ui-view .vrv-ui-doc-wrapper {\n      background: whitesmoke;\n      margin: 0; }\n      .vrv-ui-wrapper .vrv-ui-views .vrv-ui-view .vrv-ui-doc-wrapper .vrv-ui-page-wrapper {\n        margin: auto auto;\n        background: white; }\n  .vrv-ui-wrapper .vrv-ui-xml {\n    position: absolute;\n    border-top: 2px solid lightgray;\n    background: lightgray; }\n    .vrv-ui-wrapper .vrv-ui-xml .vrv-ui-xmlvalid {\n      display: none;\n      z-index: 5;\n      position: absolute;\n      min-height: 15px;\n      min-width: 15px;\n      background: green; }\n  .vrv-ui-wrapper svg {\n    display: block;\n    margin: 0 auto; }\n  .vrv-ui-wrapper .vrv-ui-toolbar {\n    width: 100%;\n    overflow: auto;\n    background: lightgray;\n    min-height: 36px; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-separator {\n      float: left;\n      min-width: 1px;\n      height: 36px;\n      background-color: #bababa; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon-left, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu .vrv-ui-btn-view-selector:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-previous:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-next:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-out:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-in:before {\n      float: left;\n      padding: 9px 10px 0px 10px;\n      text-decoration: none;\n      height: 27px;\n      font-size: 16px; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn:hover, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon-left:hover, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu .vrv-ui-btn-view-selector:hover:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-previous:hover:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document:hover, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive:hover, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor:hover, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon:hover, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-next:hover:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-out:hover:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-in:hover:before {\n      background-color: #bababa;\n      cursor: pointer; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn:active, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon-left:active, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu .vrv-ui-btn-view-selector:active:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-previous:active:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document:active, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive:active, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor:active, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon:active, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-next:active:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-out:active:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-in:active:before {\n      background-color: #a0a0a0;\n      cursor: pointer; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-disabled {\n      opacity: 0.2;\n      pointer-events: none; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon-left, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu .vrv-ui-btn-view-selector:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-previous:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor {\n      padding-left: 30px;\n      background-repeat: no-repeat;\n      background-position: 8px center !important; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-next:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-out:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-in:before {\n      padding-right: 30px;\n      background-repeat: no-repeat;\n      background-position: right 8px center !important; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu .vrv-ui-btn-view-selector:before {\n      background: url("+r(n(42))+") no-repeat;\n      content: 'View'; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-previous:before {\n      background: url("+r(n(43))+") no-repeat;\n      content: 'Previous'; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-next:before {\n      background: url("+r(n(44))+") no-repeat;\n      content: 'Next'; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-out:before {\n      background: url("+r(n(45))+") no-repeat;\n      content: 'Zoom out'; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-in:before {\n      background: url("+r(n(46))+") no-repeat;\n      content: 'Zoom in'; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content {\n      display: none;\n      position: absolute;\n      margin-top: 36px;\n      background-color: #ededed;\n      z-index: 1;\n      -webkit-flex-direction: column;\n      flex-direction: column; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-checked:after {\n        content: url("+r(n(47))+");\n        margin-left: 8px; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document {\n        background: url("+r(n(48))+") no-repeat; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document:before {\n        content: 'Document'; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive {\n        background: url("+r(n(49))+") no-repeat; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive:before {\n        content: 'Responsive'; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor {\n        background: url("+r(n(50))+") no-repeat; }\n      .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor:before {\n        content: 'Editor'; }\n    .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu:hover .vrv-ui-submenu-content {\n      display: -webkit-flex;\n      display: flex; }\n\n@media screen and (max-width: 600px) {\n  .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon-left, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu .vrv-ui-btn-view-selector:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-previous:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-document, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-responsive, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-submenu-content .vrv-ui-btn-view-editor, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-icon, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-next:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-out:before, .vrv-ui-wrapper .vrv-ui-toolbar .vrv-ui-btn-zoom-in:before {\n    content: ''; } }\n",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){"use strict";e.exports="data:image/svg+xml;base64,PCEtLSBCeSBTYW0gSGVyYmVydCAoQHNoZXJiKSwgZm9yIGV2ZXJ5b25lLiBNb3JlIEAgaHR0cDovL2dvby5nbC83QUp6YkwgLS0+Cjxzdmcgd2lkdGg9IjU4IiBoZWlnaHQ9IjU4IiB2aWV3Qm94PSIwIDAgNTggNTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMSkiIHN0cm9rZT0iIzQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjUiPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI0Mi42MDEiIGN5PSIxMS40NjIiIHI9IjUiIGZpbGwtb3BhY2l0eT0iMSIgZmlsbD0iIzQ0NCI+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiCiAgICAgICAgICAgICAgICAgICAgIGJlZ2luPSIwcyIgZHVyPSIxLjNzIgogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjE7MDswOzA7MDswOzA7MCIgY2FsY01vZGU9ImxpbmVhciIKICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgICAgICAgICAgIDwvY2lyY2xlPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI0OS4wNjMiIGN5PSIyNy4wNjMiIHI9IjUiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iIzQ0NCI+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiCiAgICAgICAgICAgICAgICAgICAgIGJlZ2luPSIwcyIgZHVyPSIxLjNzIgogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjA7MTswOzA7MDswOzA7MCIgY2FsY01vZGU9ImxpbmVhciIKICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgICAgICAgICAgIDwvY2lyY2xlPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI0Mi42MDEiIGN5PSI0Mi42NjMiIHI9IjUiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbD0iIzQ0NCI+CiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJmaWxsLW9wYWNpdHkiCiAgICAgICAgICAgICAgICAgICAgIGJlZ2luPSIwcyIgZHVyPSIxLjNzIgogICAgICAgICAgICAgICAgICAgICB2YWx1ZXM9IjA7MDsxOzA7MDswOzA7MCIgY2FsY01vZGU9ImxpbmVhciIKICAgICAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgICAgICAgICAgIDwvY2lyY2xlPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSIyNyIgY3k9IjQ5LjEyNSIgcj0iNSIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjNDQ0Ij4KICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIKICAgICAgICAgICAgICAgICAgICAgYmVnaW49IjBzIiBkdXI9IjEuM3MiCiAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz0iMDswOzA7MTswOzA7MDswIiBjYWxjTW9kZT0ibGluZWFyIgogICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICAgICAgICAgICAgPC9jaXJjbGU+CiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjExLjM5OSIgY3k9IjQyLjY2MyIgcj0iNSIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjNDQ0Ij4KICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImZpbGwtb3BhY2l0eSIKICAgICAgICAgICAgICAgICAgICAgYmVnaW49IjBzIiBkdXI9IjEuM3MiCiAgICAgICAgICAgICAgICAgICAgIHZhbHVlcz0iMDswOzA7MDsxOzA7MDswIiBjYWxjTW9kZT0ibGluZWFyIgogICAgICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICAgICAgICAgICAgPC9jaXJjbGU+CiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjQuOTM4IiBjeT0iMjcuMDYzIiByPSI1IiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiM0NDQiPgogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbC1vcGFjaXR5IgogICAgICAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMS4zcyIKICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPSIwOzA7MDswOzA7MTswOzAiIGNhbGNNb2RlPSJsaW5lYXIiCiAgICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogICAgICAgICAgICA8L2NpcmNsZT4KICAgICAgICAgICAgPGNpcmNsZSBjeD0iMTEuMzk5IiBjeT0iMTEuNDYyIiByPSI1IiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiM0NDQiPgogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbC1vcGFjaXR5IgogICAgICAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMS4zcyIKICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPSIwOzA7MDswOzA7MDsxOzAiIGNhbGNNb2RlPSJsaW5lYXIiCiAgICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogICAgICAgICAgICA8L2NpcmNsZT4KICAgICAgICAgICAgPGNpcmNsZSBjeD0iMjciIGN5PSI1IiByPSI1IiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiM0NDQiPgogICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZmlsbC1vcGFjaXR5IgogICAgICAgICAgICAgICAgICAgICBiZWdpbj0iMHMiIGR1cj0iMS4zcyIKICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPSIwOzA7MDswOzA7MDswOzEiIGNhbGNNb2RlPSJsaW5lYXIiCiAgICAgICAgICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogICAgICAgICAgICA8L2NpcmNsZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxANHSx1/eULAAAASElEQVQoz2NgIAAYGQoYLPDIn2Bk+I/fBCaGk3jl8csSBRgZdBh08MhfYWT4yMCHR8EnJoqtoNwXDAwnGP7jgYSDmmBkEXQBACUPGkcARE4FAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTE2VDEzOjI5OjQ0KzAxOjAw6Y0ySQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0xNlQxMzoyOTo0NCswMTowMJjQivUAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8SIyFViSFPAAAAMUlEQVQoz2NgwAYKGPoZ8IAChv8M/xl68Ev/ZggZQtJMDEQDAlYMTiU9DAz4lMCjGwCHoTEUp7zHkwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMS0xNVQxODozNTozMyswMTowMDNcMcEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTEtMTVUMTg6MzU6MzMrMDE6MDBCAYl9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8SJAEhppdAAAAAS0lEQVQoz2NmgIF+Bk2GEww4QQ/Df4b/DAW4FYQw/B7CSpgwFDAz4AXRDH/wWZHA8BefdArDP3zSmfil8xj+4/deBSHfMzC0Y5cGADxeMd4Zzt8wAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTE1VDE4OjM2OjAxKzAxOjAwwXucCAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0xNVQxODozNjowMSswMTowMLAmJLQAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8SIg7nQy1XAAAA1ElEQVQoz63Qr05CARTH8Q93EAjOgc0XoLjJrAQykc3CI/BKTJ6AwSiMQiFBcDCDjWSSQNFN5595DKL3XtxMnvY953vObztAomti685Ix686NRfCzoMQxirZcWIuTNVQULcUBlmhK0wzXLIW2mljItRykU2h/w0FW0UnzlzuO1d2Ht06/8KiF2UFz+73wquixFt6cCTUcxEtoZdiR1gq/fCxjdDIboyFtaayIy0bYZh/VMVACO8+hDD0ZKGal9r6blzraWAhrA6VbFWt/k2Z8Zcyc/EJCG9IgmOKZ2IAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMTVUMTg6MzQ6MTQrMDE6MDBbHGMMAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTE1VDE4OjM0OjE0KzAxOjAwKkHbsAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8SHzKixBluAAAA3UlEQVQoz63QvUqCARQG4EfRoSFCg4Zoa3ARklYHWx2FFu8g76LriLwCUVzExcVJB1Ea2pyadHCopOiHTpP4WdDUWd8H3nMOkNbQs/Sgo+7XHBsKYeVJCF25ZJw2FPoKSCkZC60kaAh9UHSKrJlQ24KeUADXrkBFaG7ilKWMQ0WXLqxN3Fp5du9ss8GbrJRXC2uPFt5lpH1sKzpCaaeiKtxsQV0Yy+LEEQ7MhXLyjq4wU7FnX9VcaO8+KqclhE9fQmh7MZLfRTVNdyZulDESpj9JcvKm/0YG/EUGzr8BPXNPmo0EP88AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMTVUMTg6MzE6NTArMDE6MDDNMIKhAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTE1VDE4OjMxOjUwKzAxOjAwvG06HQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA3XAAAN1wFCKJt4AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAxUlEQVQoFY2QsQ5BQRBFFxG/oNb7BZVERSLRKWn8ik6r8z0qiQ9Qi1aBgnveuyNvN5GY5L47c+fO7L5N6b9ohe2bhFAw/be1pfhW9LMSc9vKRszgmRoRNE8jj3qlHPNdGAtZhLFjlWtgfgkTa2mn5CD0LHTNCzFmMLVWLTpa3IvjGjNrmBkk4tTUV3ESaG6FufB0zZUIzLGsEgb6XgSGHua1mIj/qit946ih8qvAEM9IlK9Xq25QjITYTJ1dA6EZbIv4afwAUGQfW+i038kAAAAASUVORK5CYII="},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8TAiymZSImAAAA1UlEQVQoz4XRr0uDQRgA4Ef5wlgzKOJgWMRFMdjEtmBaMhhEw5YEk/+DwWC0GP0LBDGJGI1bGcxwzKJDZMiUtRnm58cdiu+F97h7eN/7QV3HxNgwGT27QFtN06U0FjwqkXmx6V0FzH/nvjcDI4tCpuXYhhHYcghO3OSFZsCaMzvWoxYPbjWE7Gehaj8C/WkqwKu7CAxTULYcgdI0zfonigqfQrQzTkFwDvZsg/sUFNcbgOe/QFf39zNw5CCiq67zhwqWzFlx5SIiNaf5tOnJxEfy5W31L56aPLv4cL4tAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTE1VDE5OjAyOjQ0KzAxOjAwWpaiqwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0xNVQxOTowMjo0NCswMTowMCvLGhcAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8TAxsHw7ZoAAAAfUlEQVQoz6XQvQ3CQAzF8d9FqYGSKnukoo2Y4CZggYxBgdjiJgEGYAHYgAmg4ENCGF2RvxvLfnryM1NJSFaW4fbiCKP7nypPXXk3EW04ndmag1MTCtY2oLOLHSAj6xsVpgtaRc9X0P0rPB2C92TDp78l+cf14GqwAOfaCXUeKG0ovNqfGMIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMTVUMTk6MDM6MjcrMDE6MDBC09qPAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTE1VDE5OjAzOjI3KzAxOjAwM45iMwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},function(e,t,n){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCw8TBBY2M1wSAAAAeUlEQVQoz5XQOxJAMBhF4WPMaLwqSruwNbVVZDFGh0ittJlf5ZEIxm2/U13wL6dHUzwoMQZBWPxJRIBCEAQd3jiho6KhpAZWl1NGBKElQGHI/bwnscvTwcJA9MYjic0Z2uLU5fnC0282F9YuY/FMdj/2g8/A+Jkv3gBdEVMf5F84UQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMS0xNVQxOTowNDoyMiswMTowMPI37lEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTEtMTVUMTk6MDQ6MjIrMDE6MDCDalbtAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="}]);
},{}]},{},[1])(1)
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJ3cmFwcGVyLmpzIiwiLi4vLi4vLi4vcHJvamVjdHMvdmVyb3Zpby1hcHAvYnVpbGQvdmVyb3Zpby1hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFQLElBQWtCLEVBQWhDO0FBQ0EsT0FBTyxDQUFDLEdBQVIsR0FBYyxPQUFPLENBQUMsYUFBRCxDQUFQLENBQXVCLEdBQXJDO0FBQ0EsTUFBTSxDQUFDLE9BQVAsR0FBaUIsT0FBakI7OztBQ0ZBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwidmFyIFZlcm92aW8gPSB3aW5kb3cuVmVyb3ZpbyB8fCB7fTtcblZlcm92aW8uQXBwID0gcmVxdWlyZSgndmVyb3Zpby1hcHAnKS5BcHA7XG53aW5kb3cuVmVyb3ZpbyA9IFZlcm92aW87IiwibW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihyKXtpZih0W3JdKXJldHVybiB0W3JdLmV4cG9ydHM7dmFyIGk9dFtyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsbiksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxyKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgaSBpbiBlKW4uZChyLGksZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxpKSk7cmV0dXJuIHJ9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz00KX0oW2Z1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50LHQ9bmF2aWdhdG9yLnBsYXRmb3JtLG49L2dlY2tvXFwvXFxkL2kudGVzdChlKSxyPS9NU0lFIFxcZC8udGVzdChlKSxpPS9UcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhlKSxvPS9FZGdlXFwvKFxcZCspLy5leGVjKGUpLGE9cnx8aXx8byxzPWEmJihyP2RvY3VtZW50LmRvY3VtZW50TW9kZXx8NjorKG98fGkpWzFdKSxsPSFvJiYvV2ViS2l0XFwvLy50ZXN0KGUpLHU9bCYmL1F0XFwvXFxkK1xcLlxcZCsvLnRlc3QoZSksYz0hbyYmL0Nocm9tZVxcLy8udGVzdChlKSxoPS9PcGVyYVxcLy8udGVzdChlKSxkPS9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxmPS9NYWMgT1MgWCAxXFxkXFxEKFs4LTldfFxcZFxcZClcXEQvLnRlc3QoZSkscD0vUGhhbnRvbUpTLy50ZXN0KGUpLGc9IW8mJi9BcHBsZVdlYktpdC8udGVzdChlKSYmL01vYmlsZVxcL1xcdysvLnRlc3QoZSksdj0vQW5kcm9pZC8udGVzdChlKSxtPWd8fHZ8fC93ZWJPU3xCbGFja0JlcnJ5fE9wZXJhIE1pbml8T3BlcmEgTW9iaXxJRU1vYmlsZS9pLnRlc3QoZSksYj1nfHwvTWFjLy50ZXN0KHQpLHk9L1xcYkNyT1NcXGIvLnRlc3QoZSksQT0vd2luL2kudGVzdCh0KSx3PWgmJmUubWF0Y2goL1ZlcnNpb25cXC8oXFxkKlxcLlxcZCopLyk7dyYmKHc9TnVtYmVyKHdbMV0pKSx3JiZ3Pj0xNSYmKGg9ITEsbD0hMCk7dmFyIEM9YiYmKHV8fGgmJihudWxsPT13fHx3PDEyLjExKSkseD1ufHxhJiZzPj05O2Z1bmN0aW9uIGsoZSl7cmV0dXJuIG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIitlK1wiKD86JHxcXFxccylcXFxccypcIil9dmFyIEksTT1mdW5jdGlvbihlLHQpe3ZhciBuPWUuY2xhc3NOYW1lLHI9ayh0KS5leGVjKG4pO2lmKHIpe3ZhciBpPW4uc2xpY2Uoci5pbmRleCtyWzBdLmxlbmd0aCk7ZS5jbGFzc05hbWU9bi5zbGljZSgwLHIuaW5kZXgpKyhpP3JbMV0raTpcIlwiKX19O2Z1bmN0aW9uIFMoZSl7Zm9yKHZhciB0PWUuY2hpbGROb2Rlcy5sZW5ndGg7dD4wOy0tdCllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7cmV0dXJuIGV9ZnVuY3Rpb24gTChlLHQpe3JldHVybiBTKGUpLmFwcGVuZENoaWxkKHQpfWZ1bmN0aW9uIFQoZSx0LG4scil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtpZihuJiYoaS5jbGFzc05hbWU9biksciYmKGkuc3R5bGUuY3NzVGV4dD1yKSxcInN0cmluZ1wiPT10eXBlb2YgdClpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKTtlbHNlIGlmKHQpZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDsrK28paS5hcHBlbmRDaGlsZCh0W29dKTtyZXR1cm4gaX1mdW5jdGlvbiBPKGUsdCxuLHIpe3ZhciBpPVQoZSx0LG4scik7cmV0dXJuIGkuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicHJlc2VudGF0aW9uXCIpLGl9ZnVuY3Rpb24gTihlLHQpe2lmKDM9PXQubm9kZVR5cGUmJih0PXQucGFyZW50Tm9kZSksZS5jb250YWlucylyZXR1cm4gZS5jb250YWlucyh0KTtkb3tpZigxMT09dC5ub2RlVHlwZSYmKHQ9dC5ob3N0KSx0PT1lKXJldHVybiEwfXdoaWxlKHQ9dC5wYXJlbnROb2RlKX1mdW5jdGlvbiBFKCl7dmFyIGU7dHJ5e2U9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaCh0KXtlPWRvY3VtZW50LmJvZHl8fG51bGx9Zm9yKDtlJiZlLnNoYWRvd1Jvb3QmJmUuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50OyllPWUuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O3JldHVybiBlfWZ1bmN0aW9uIFAoZSx0KXt2YXIgbj1lLmNsYXNzTmFtZTtrKHQpLnRlc3Qobil8fChlLmNsYXNzTmFtZSs9KG4/XCIgXCI6XCJcIikrdCl9ZnVuY3Rpb24gRChlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KFwiIFwiKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXSYmIWsobltyXSkudGVzdCh0KSYmKHQrPVwiIFwiK25bcl0pO3JldHVybiB0fUk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2U/ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gaS5zZXRFbmQocnx8ZSxuKSxpLnNldFN0YXJ0KGUsdCksaX06ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e3IubW92ZVRvRWxlbWVudFRleHQoZS5wYXJlbnROb2RlKX1jYXRjaChlKXtyZXR1cm4gcn1yZXR1cm4gci5jb2xsYXBzZSghMCksci5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsbiksci5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIix0KSxyfTt2YXIgVz1mdW5jdGlvbihlKXtlLnNlbGVjdCgpfTtmdW5jdGlvbiBSKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX1mdW5jdGlvbiB6KGUsdCxuKXtmb3IodmFyIHIgaW4gdHx8KHQ9e30pLGUpIWUuaGFzT3duUHJvcGVydHkocil8fCExPT09biYmdC5oYXNPd25Qcm9wZXJ0eShyKXx8KHRbcl09ZVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gRihlLHQsbixyLGkpe251bGw9PXQmJi0xPT0odD1lLnNlYXJjaCgvW15cXHNcXHUwMGEwXS8pKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbz1yfHwwLGE9aXx8MDs7KXt2YXIgcz1lLmluZGV4T2YoXCJcXHRcIixvKTtpZihzPDB8fHM+PXQpcmV0dXJuIGErKHQtbyk7YSs9cy1vLGErPW4tYSVuLG89cysxfX1nP1c9ZnVuY3Rpb24oZSl7ZS5zZWxlY3Rpb25TdGFydD0wLGUuc2VsZWN0aW9uRW5kPWUudmFsdWUubGVuZ3RofTphJiYoVz1mdW5jdGlvbihlKXt0cnl7ZS5zZWxlY3QoKX1jYXRjaChlKXt9fSk7dmFyIEg9ZnVuY3Rpb24oKXt0aGlzLmlkPW51bGx9O2Z1bmN0aW9uIEIoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbilpZihlW25dPT10KXJldHVybiBuO3JldHVybi0xfUgucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dCh0aGlzLmlkKSx0aGlzLmlkPXNldFRpbWVvdXQodCxlKX07dmFyIGo9MzAsRz17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIkNvZGVNaXJyb3IuUGFzc1wifX0sVj17c2Nyb2xsOiExfSxVPXtvcmlnaW46XCIqbW91c2VcIn0sWj17b3JpZ2luOlwiK21vdmVcIn07ZnVuY3Rpb24gWShlLHQsbil7Zm9yKHZhciByPTAsaT0wOzspe3ZhciBvPWUuaW5kZXhPZihcIlxcdFwiLHIpOy0xPT1vJiYobz1lLmxlbmd0aCk7dmFyIGE9by1yO2lmKG89PWUubGVuZ3RofHxpK2E+PXQpcmV0dXJuIHIrTWF0aC5taW4oYSx0LWkpO2lmKGkrPW8tcixyPW8rMSwoaSs9bi1pJW4pPj10KXJldHVybiByfX12YXIgUT1bXCJcIl07ZnVuY3Rpb24gWChlKXtmb3IoO1EubGVuZ3RoPD1lOylRLnB1c2goXyhRKStcIiBcIik7cmV0dXJuIFFbZV19ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX1mdW5jdGlvbiBLKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKyluW3JdPXQoZVtyXSxyKTtyZXR1cm4gbn1mdW5jdGlvbiBKKCl7fWZ1bmN0aW9uIHEoZSx0KXt2YXIgbjtyZXR1cm4gT2JqZWN0LmNyZWF0ZT9uPU9iamVjdC5jcmVhdGUoZSk6KEoucHJvdG90eXBlPWUsbj1uZXcgSiksdCYmeih0LG4pLG59dmFyICQ9L1tcXHUwMGRmXFx1MDU4N1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTMwNDAtXFx1MzA5ZlxcdTMwYTAtXFx1MzBmZlxcdTM0MDAtXFx1NGRiNVxcdTRlMDAtXFx1OWZjY1xcdWFjMDAtXFx1ZDdhZl0vO2Z1bmN0aW9uIGVlKGUpe3JldHVybi9cXHcvLnRlc3QoZSl8fGU+XCLCgFwiJiYoZS50b1VwcGVyQ2FzZSgpIT1lLnRvTG93ZXJDYXNlKCl8fCQudGVzdChlKSl9ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gdD8hISh0LnNvdXJjZS5pbmRleE9mKFwiXFxcXHdcIik+LTEmJmVlKGUpKXx8dC50ZXN0KGUpOmVlKGUpfWZ1bmN0aW9uIG5lKGUpe2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkmJmVbdF0pcmV0dXJuITE7cmV0dXJuITB9dmFyIHJlPS9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdLztmdW5jdGlvbiBpZShlKXtyZXR1cm4gZS5jaGFyQ29kZUF0KDApPj03NjgmJnJlLnRlc3QoZSl9ZnVuY3Rpb24gb2UoZSx0LG4pe2Zvcig7KG48MD90PjA6dDxlLmxlbmd0aCkmJmllKGUuY2hhckF0KHQpKTspdCs9bjtyZXR1cm4gdH1mdW5jdGlvbiBhZShlLHQsbil7Zm9yKHZhciByPXQ+bj8tMToxOzspe2lmKHQ9PW4pcmV0dXJuIHQ7dmFyIGk9KHQrbikvMixvPXI8MD9NYXRoLmNlaWwoaSk6TWF0aC5mbG9vcihpKTtpZihvPT10KXJldHVybiBlKG8pP3Q6bjtlKG8pP249bzp0PW8rcn19ZnVuY3Rpb24gc2UoZSx0KXtpZigodC09ZS5maXJzdCk8MHx8dD49ZS5zaXplKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIGxpbmUgXCIrKHQrZS5maXJzdCkrXCIgaW4gdGhlIGRvY3VtZW50LlwiKTtmb3IodmFyIG49ZTshbi5saW5lczspZm9yKHZhciByPTA7Oysrcil7dmFyIGk9bi5jaGlsZHJlbltyXSxvPWkuY2h1bmtTaXplKCk7aWYodDxvKXtuPWk7YnJlYWt9dC09b31yZXR1cm4gbi5saW5lc1t0XX1mdW5jdGlvbiBsZShlLHQsbil7dmFyIHI9W10saT10LmxpbmU7cmV0dXJuIGUuaXRlcih0LmxpbmUsbi5saW5lKzEsZnVuY3Rpb24oZSl7dmFyIG89ZS50ZXh0O2k9PW4ubGluZSYmKG89by5zbGljZSgwLG4uY2gpKSxpPT10LmxpbmUmJihvPW8uc2xpY2UodC5jaCkpLHIucHVzaChvKSwrK2l9KSxyfWZ1bmN0aW9uIHVlKGUsdCxuKXt2YXIgcj1bXTtyZXR1cm4gZS5pdGVyKHQsbixmdW5jdGlvbihlKXtyLnB1c2goZS50ZXh0KX0pLHJ9ZnVuY3Rpb24gY2UoZSx0KXt2YXIgbj10LWUuaGVpZ2h0O2lmKG4pZm9yKHZhciByPWU7cjtyPXIucGFyZW50KXIuaGVpZ2h0Kz1ufWZ1bmN0aW9uIGhlKGUpe2lmKG51bGw9PWUucGFyZW50KXJldHVybiBudWxsO2Zvcih2YXIgdD1lLnBhcmVudCxuPUIodC5saW5lcyxlKSxyPXQucGFyZW50O3I7dD1yLHI9ci5wYXJlbnQpZm9yKHZhciBpPTA7ci5jaGlsZHJlbltpXSE9dDsrK2kpbis9ci5jaGlsZHJlbltpXS5jaHVua1NpemUoKTtyZXR1cm4gbit0LmZpcnN0fWZ1bmN0aW9uIGRlKGUsdCl7dmFyIG49ZS5maXJzdDtlOmRve2Zvcih2YXIgcj0wO3I8ZS5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgaT1lLmNoaWxkcmVuW3JdLG89aS5oZWlnaHQ7aWYodDxvKXtlPWk7Y29udGludWUgZX10LT1vLG4rPWkuY2h1bmtTaXplKCl9cmV0dXJuIG59d2hpbGUoIWUubGluZXMpO2Zvcih2YXIgYT0wO2E8ZS5saW5lcy5sZW5ndGg7KythKXt2YXIgcz1lLmxpbmVzW2FdLGw9cy5oZWlnaHQ7aWYodDxsKWJyZWFrO3QtPWx9cmV0dXJuIG4rYX1mdW5jdGlvbiBmZShlLHQpe3JldHVybiB0Pj1lLmZpcnN0JiZ0PGUuZmlyc3QrZS5zaXplfWZ1bmN0aW9uIHBlKGUsdCl7cmV0dXJuIFN0cmluZyhlLmxpbmVOdW1iZXJGb3JtYXR0ZXIodCtlLmZpcnN0TGluZU51bWJlcikpfWZ1bmN0aW9uIGdlKGUsdCxuKXtpZih2b2lkIDA9PT1uJiYobj1udWxsKSwhKHRoaXMgaW5zdGFuY2VvZiBnZSkpcmV0dXJuIG5ldyBnZShlLHQsbik7dGhpcy5saW5lPWUsdGhpcy5jaD10LHRoaXMuc3RpY2t5PW59ZnVuY3Rpb24gdmUoZSx0KXtyZXR1cm4gZS5saW5lLXQubGluZXx8ZS5jaC10LmNofWZ1bmN0aW9uIG1lKGUsdCl7cmV0dXJuIGUuc3RpY2t5PT10LnN0aWNreSYmMD09dmUoZSx0KX1mdW5jdGlvbiBiZShlKXtyZXR1cm4gZ2UoZS5saW5lLGUuY2gpfWZ1bmN0aW9uIHllKGUsdCl7cmV0dXJuIHZlKGUsdCk8MD90OmV9ZnVuY3Rpb24gQWUoZSx0KXtyZXR1cm4gdmUoZSx0KTwwP2U6dH1mdW5jdGlvbiB3ZShlLHQpe3JldHVybiBNYXRoLm1heChlLmZpcnN0LE1hdGgubWluKHQsZS5maXJzdCtlLnNpemUtMSkpfWZ1bmN0aW9uIENlKGUsdCl7aWYodC5saW5lPGUuZmlyc3QpcmV0dXJuIGdlKGUuZmlyc3QsMCk7dmFyIG49ZS5maXJzdCtlLnNpemUtMTtyZXR1cm4gdC5saW5lPm4/Z2UobixzZShlLG4pLnRleHQubGVuZ3RoKTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuY2g7cmV0dXJuIG51bGw9PW58fG4+dD9nZShlLmxpbmUsdCk6bjwwP2dlKGUubGluZSwwKTplfSh0LHNlKGUsdC5saW5lKS50ZXh0Lmxlbmd0aCl9ZnVuY3Rpb24geGUoZSx0KXtmb3IodmFyIG49W10scj0wO3I8dC5sZW5ndGg7cisrKW5bcl09Q2UoZSx0W3JdKTtyZXR1cm4gbn12YXIga2U9ITEsSWU9ITE7ZnVuY3Rpb24gTWUoZSx0LG4pe3RoaXMubWFya2VyPWUsdGhpcy5mcm9tPXQsdGhpcy50bz1ufWZ1bmN0aW9uIFNlKGUsdCl7aWYoZSlmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbil7dmFyIHI9ZVtuXTtpZihyLm1hcmtlcj09dClyZXR1cm4gcn19ZnVuY3Rpb24gTGUoZSx0KXtmb3IodmFyIG4scj0wO3I8ZS5sZW5ndGg7KytyKWVbcl0hPXQmJihufHwobj1bXSkpLnB1c2goZVtyXSk7cmV0dXJuIG59ZnVuY3Rpb24gVGUoZSx0KXtpZih0LmZ1bGwpcmV0dXJuIG51bGw7dmFyIG49ZmUoZSx0LmZyb20ubGluZSkmJnNlKGUsdC5mcm9tLmxpbmUpLm1hcmtlZFNwYW5zLHI9ZmUoZSx0LnRvLmxpbmUpJiZzZShlLHQudG8ubGluZSkubWFya2VkU3BhbnM7aWYoIW4mJiFyKXJldHVybiBudWxsO3ZhciBpPXQuZnJvbS5jaCxvPXQudG8uY2gsYT0wPT12ZSh0LmZyb20sdC50bykscz1mdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoZSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIG89ZVtpXSxhPW8ubWFya2VyLHM9bnVsbD09by5mcm9tfHwoYS5pbmNsdXNpdmVMZWZ0P28uZnJvbTw9dDpvLmZyb208dCk7aWYoc3x8by5mcm9tPT10JiZcImJvb2ttYXJrXCI9PWEudHlwZSYmKCFufHwhby5tYXJrZXIuaW5zZXJ0TGVmdCkpe3ZhciBsPW51bGw9PW8udG98fChhLmluY2x1c2l2ZVJpZ2h0P28udG8+PXQ6by50bz50KTsocnx8KHI9W10pKS5wdXNoKG5ldyBNZShhLG8uZnJvbSxsP251bGw6by50bykpfX1yZXR1cm4gcn0obixpLGEpLGw9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpZm9yKHZhciBpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciBvPWVbaV0sYT1vLm1hcmtlcixzPW51bGw9PW8udG98fChhLmluY2x1c2l2ZVJpZ2h0P28udG8+PXQ6by50bz50KTtpZihzfHxvLmZyb209PXQmJlwiYm9va21hcmtcIj09YS50eXBlJiYoIW58fG8ubWFya2VyLmluc2VydExlZnQpKXt2YXIgbD1udWxsPT1vLmZyb218fChhLmluY2x1c2l2ZUxlZnQ/by5mcm9tPD10Om8uZnJvbTx0KTsocnx8KHI9W10pKS5wdXNoKG5ldyBNZShhLGw/bnVsbDpvLmZyb20tdCxudWxsPT1vLnRvP251bGw6by50by10KSl9fXJldHVybiByfShyLG8sYSksdT0xPT10LnRleHQubGVuZ3RoLGM9Xyh0LnRleHQpLmxlbmd0aCsodT9pOjApO2lmKHMpZm9yKHZhciBoPTA7aDxzLmxlbmd0aDsrK2gpe3ZhciBkPXNbaF07aWYobnVsbD09ZC50byl7dmFyIGY9U2UobCxkLm1hcmtlcik7Zj91JiYoZC50bz1udWxsPT1mLnRvP251bGw6Zi50bytjKTpkLnRvPWl9fWlmKGwpZm9yKHZhciBwPTA7cDxsLmxlbmd0aDsrK3Ape3ZhciBnPWxbcF07aWYobnVsbCE9Zy50byYmKGcudG8rPWMpLG51bGw9PWcuZnJvbSl7dmFyIHY9U2UocyxnLm1hcmtlcik7dnx8KGcuZnJvbT1jLHUmJihzfHwocz1bXSkpLnB1c2goZykpfWVsc2UgZy5mcm9tKz1jLHUmJihzfHwocz1bXSkpLnB1c2goZyl9cyYmKHM9T2UocykpLGwmJmwhPXMmJihsPU9lKGwpKTt2YXIgbT1bc107aWYoIXUpe3ZhciBiLHk9dC50ZXh0Lmxlbmd0aC0yO2lmKHk+MCYmcylmb3IodmFyIEE9MDtBPHMubGVuZ3RoOysrQSludWxsPT1zW0FdLnRvJiYoYnx8KGI9W10pKS5wdXNoKG5ldyBNZShzW0FdLm1hcmtlcixudWxsLG51bGwpKTtmb3IodmFyIHc9MDt3PHk7Kyt3KW0ucHVzaChiKTttLnB1c2gobCl9cmV0dXJuIG19ZnVuY3Rpb24gT2UoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3Qpe3ZhciBuPWVbdF07bnVsbCE9bi5mcm9tJiZuLmZyb209PW4udG8mJiExIT09bi5tYXJrZXIuY2xlYXJXaGVuRW1wdHkmJmUuc3BsaWNlKHQtLSwxKX1yZXR1cm4gZS5sZW5ndGg/ZTpudWxsfWZ1bmN0aW9uIE5lKGUpe3ZhciB0PWUubWFya2VkU3BhbnM7aWYodCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXS5tYXJrZXIuZGV0YWNoTGluZShlKTtlLm1hcmtlZFNwYW5zPW51bGx9fWZ1bmN0aW9uIEVlKGUsdCl7aWYodCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXS5tYXJrZXIuYXR0YWNoTGluZShlKTtlLm1hcmtlZFNwYW5zPXR9fWZ1bmN0aW9uIFBlKGUpe3JldHVybiBlLmluY2x1c2l2ZUxlZnQ/LTE6MH1mdW5jdGlvbiBEZShlKXtyZXR1cm4gZS5pbmNsdXNpdmVSaWdodD8xOjB9ZnVuY3Rpb24gV2UoZSx0KXt2YXIgbj1lLmxpbmVzLmxlbmd0aC10LmxpbmVzLmxlbmd0aDtpZigwIT1uKXJldHVybiBuO3ZhciByPWUuZmluZCgpLGk9dC5maW5kKCksbz12ZShyLmZyb20saS5mcm9tKXx8UGUoZSktUGUodCk7aWYobylyZXR1cm4tbzt2YXIgYT12ZShyLnRvLGkudG8pfHxEZShlKS1EZSh0KTtyZXR1cm4gYXx8dC5pZC1lLmlkfWZ1bmN0aW9uIFJlKGUsdCl7dmFyIG4scj1JZSYmZS5tYXJrZWRTcGFucztpZihyKWZvcih2YXIgaT12b2lkIDAsbz0wO288ci5sZW5ndGg7KytvKShpPXJbb10pLm1hcmtlci5jb2xsYXBzZWQmJm51bGw9PSh0P2kuZnJvbTppLnRvKSYmKCFufHxXZShuLGkubWFya2VyKTwwKSYmKG49aS5tYXJrZXIpO3JldHVybiBufWZ1bmN0aW9uIHplKGUpe3JldHVybiBSZShlLCEwKX1mdW5jdGlvbiBGZShlKXtyZXR1cm4gUmUoZSwhMSl9ZnVuY3Rpb24gSGUoZSx0KXt2YXIgbixyPUllJiZlLm1hcmtlZFNwYW5zO2lmKHIpZm9yKHZhciBpPTA7aTxyLmxlbmd0aDsrK2kpe3ZhciBvPXJbaV07by5tYXJrZXIuY29sbGFwc2VkJiYobnVsbD09by5mcm9tfHxvLmZyb208dCkmJihudWxsPT1vLnRvfHxvLnRvPnQpJiYoIW58fFdlKG4sby5tYXJrZXIpPDApJiYobj1vLm1hcmtlcil9cmV0dXJuIG59ZnVuY3Rpb24gQmUoZSx0LG4scixpKXt2YXIgbz1zZShlLHQpLGE9SWUmJm8ubWFya2VkU3BhbnM7aWYoYSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoOysrcyl7dmFyIGw9YVtzXTtpZihsLm1hcmtlci5jb2xsYXBzZWQpe3ZhciB1PWwubWFya2VyLmZpbmQoMCksYz12ZSh1LmZyb20sbil8fFBlKGwubWFya2VyKS1QZShpKSxoPXZlKHUudG8scil8fERlKGwubWFya2VyKS1EZShpKTtpZighKGM+PTAmJmg8PTB8fGM8PTAmJmg+PTApJiYoYzw9MCYmKGwubWFya2VyLmluY2x1c2l2ZVJpZ2h0JiZpLmluY2x1c2l2ZUxlZnQ/dmUodS50byxuKT49MDp2ZSh1LnRvLG4pPjApfHxjPj0wJiYobC5tYXJrZXIuaW5jbHVzaXZlUmlnaHQmJmkuaW5jbHVzaXZlTGVmdD92ZSh1LmZyb20scik8PTA6dmUodS5mcm9tLHIpPDApKSlyZXR1cm4hMH19fWZ1bmN0aW9uIGplKGUpe2Zvcih2YXIgdDt0PXplKGUpOyllPXQuZmluZCgtMSwhMCkubGluZTtyZXR1cm4gZX1mdW5jdGlvbiBHZShlLHQpe3ZhciBuPXNlKGUsdCkscj1qZShuKTtyZXR1cm4gbj09cj90OmhlKHIpfWZ1bmN0aW9uIFZlKGUsdCl7aWYodD5lLmxhc3RMaW5lKCkpcmV0dXJuIHQ7dmFyIG4scj1zZShlLHQpO2lmKCFVZShlLHIpKXJldHVybiB0O2Zvcig7bj1GZShyKTspcj1uLmZpbmQoMSwhMCkubGluZTtyZXR1cm4gaGUocikrMX1mdW5jdGlvbiBVZShlLHQpe3ZhciBuPUllJiZ0Lm1hcmtlZFNwYW5zO2lmKG4pZm9yKHZhciByPXZvaWQgMCxpPTA7aTxuLmxlbmd0aDsrK2kpaWYoKHI9bltpXSkubWFya2VyLmNvbGxhcHNlZCl7aWYobnVsbD09ci5mcm9tKXJldHVybiEwO2lmKCFyLm1hcmtlci53aWRnZXROb2RlJiYwPT1yLmZyb20mJnIubWFya2VyLmluY2x1c2l2ZUxlZnQmJlplKGUsdCxyKSlyZXR1cm4hMH19ZnVuY3Rpb24gWmUoZSx0LG4pe2lmKG51bGw9PW4udG8pe3ZhciByPW4ubWFya2VyLmZpbmQoMSwhMCk7cmV0dXJuIFplKGUsci5saW5lLFNlKHIubGluZS5tYXJrZWRTcGFucyxuLm1hcmtlcikpfWlmKG4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0JiZuLnRvPT10LnRleHQubGVuZ3RoKXJldHVybiEwO2Zvcih2YXIgaT12b2lkIDAsbz0wO288dC5tYXJrZWRTcGFucy5sZW5ndGg7KytvKWlmKChpPXQubWFya2VkU3BhbnNbb10pLm1hcmtlci5jb2xsYXBzZWQmJiFpLm1hcmtlci53aWRnZXROb2RlJiZpLmZyb209PW4udG8mJihudWxsPT1pLnRvfHxpLnRvIT1uLmZyb20pJiYoaS5tYXJrZXIuaW5jbHVzaXZlTGVmdHx8bi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQpJiZaZShlLHQsaSkpcmV0dXJuITB9ZnVuY3Rpb24gWWUoZSl7Zm9yKHZhciB0PTAsbj0oZT1qZShlKSkucGFyZW50LHI9MDtyPG4ubGluZXMubGVuZ3RoOysrcil7dmFyIGk9bi5saW5lc1tyXTtpZihpPT1lKWJyZWFrO3QrPWkuaGVpZ2h0fWZvcih2YXIgbz1uLnBhcmVudDtvO289KG49bykucGFyZW50KWZvcih2YXIgYT0wO2E8by5jaGlsZHJlbi5sZW5ndGg7KythKXt2YXIgcz1vLmNoaWxkcmVuW2FdO2lmKHM9PW4pYnJlYWs7dCs9cy5oZWlnaHR9cmV0dXJuIHR9ZnVuY3Rpb24gUWUoZSl7aWYoMD09ZS5oZWlnaHQpcmV0dXJuIDA7Zm9yKHZhciB0LG49ZS50ZXh0Lmxlbmd0aCxyPWU7dD16ZShyKTspe3ZhciBpPXQuZmluZCgwLCEwKTtyPWkuZnJvbS5saW5lLG4rPWkuZnJvbS5jaC1pLnRvLmNofWZvcihyPWU7dD1GZShyKTspe3ZhciBvPXQuZmluZCgwLCEwKTtuLT1yLnRleHQubGVuZ3RoLW8uZnJvbS5jaCxyPW8udG8ubGluZSxuKz1yLnRleHQubGVuZ3RoLW8udG8uY2h9cmV0dXJuIG59ZnVuY3Rpb24gWGUoZSl7dmFyIHQ9ZS5kaXNwbGF5LG49ZS5kb2M7dC5tYXhMaW5lPXNlKG4sbi5maXJzdCksdC5tYXhMaW5lTGVuZ3RoPVFlKHQubWF4TGluZSksdC5tYXhMaW5lQ2hhbmdlZD0hMCxuLml0ZXIoZnVuY3Rpb24oZSl7dmFyIG49UWUoZSk7bj50Lm1heExpbmVMZW5ndGgmJih0Lm1heExpbmVMZW5ndGg9bix0Lm1heExpbmU9ZSl9KX12YXIgX2U9bnVsbDtmdW5jdGlvbiBLZShlLHQsbil7dmFyIHI7X2U9bnVsbDtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIG89ZVtpXTtpZihvLmZyb208dCYmby50bz50KXJldHVybiBpO28udG89PXQmJihvLmZyb20hPW8udG8mJlwiYmVmb3JlXCI9PW4/cj1pOl9lPWkpLG8uZnJvbT09dCYmKG8uZnJvbSE9by50byYmXCJiZWZvcmVcIiE9bj9yPWk6X2U9aSl9cmV0dXJuIG51bGwhPXI/cjpfZX12YXIgSmU9ZnVuY3Rpb24oKXt2YXIgZT1cImJiYmJiYmJiYnRzdHdzYmJiYmJiYmJiYmJiYmJzc3N0d05OJSUlTk5OTk5OLE4sTjExMTExMTExMTFOTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTExMTE5OTk5iYmJiYmJzYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmIsTiUlJSVOTk5OTE5OTk5OJSUxMU5MTk5OMUxOTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTkxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExOXCIsdD1cIm5ubm5ubk5OciUlcixyTk5tbW1tbW1tbW1tbXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tbW1tbW1tbW5ubm5ubm5ubm4lbm5ycnJtcnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJtbW1tbW1tbk5tbW1tbW1ycm1tTm1tbW1ycjExMTExMTExMTFcIjtmdW5jdGlvbiBuKG4pe3JldHVybiBuPD0yNDc/ZS5jaGFyQXQobik6MTQyNDw9biYmbjw9MTUyND9cIlJcIjoxNTM2PD1uJiZuPD0xNzg1P3QuY2hhckF0KG4tMTUzNik6MTc3NDw9biYmbjw9MjIyMD9cInJcIjo4MTkyPD1uJiZuPD04MjAzP1wid1wiOjgyMDQ9PW4/XCJiXCI6XCJMXCJ9dmFyIHI9L1tcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUwNzAwLVxcdTA4YWNdLyxpPS9bc3R3Tl0vLG89L1tMUnJdLyxhPS9bTGIxbl0vLHM9L1sxbl0vO2Z1bmN0aW9uIGwoZSx0LG4pe3RoaXMubGV2ZWw9ZSx0aGlzLmZyb209dCx0aGlzLnRvPW59cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHU9XCJsdHJcIj09dD9cIkxcIjpcIlJcIjtpZigwPT1lLmxlbmd0aHx8XCJsdHJcIj09dCYmIXIudGVzdChlKSlyZXR1cm4hMTtmb3IodmFyIGM9ZS5sZW5ndGgsaD1bXSxkPTA7ZDxjOysrZCloLnB1c2gobihlLmNoYXJDb2RlQXQoZCkpKTtmb3IodmFyIGY9MCxwPXU7ZjxjOysrZil7dmFyIGc9aFtmXTtcIm1cIj09Zz9oW2ZdPXA6cD1nfWZvcih2YXIgdj0wLG09dTt2PGM7Kyt2KXt2YXIgYj1oW3ZdO1wiMVwiPT1iJiZcInJcIj09bT9oW3ZdPVwiblwiOm8udGVzdChiKSYmKG09YixcInJcIj09YiYmKGhbdl09XCJSXCIpKX1mb3IodmFyIHk9MSxBPWhbMF07eTxjLTE7Kyt5KXt2YXIgdz1oW3ldO1wiK1wiPT13JiZcIjFcIj09QSYmXCIxXCI9PWhbeSsxXT9oW3ldPVwiMVwiOlwiLFwiIT13fHxBIT1oW3krMV18fFwiMVwiIT1BJiZcIm5cIiE9QXx8KGhbeV09QSksQT13fWZvcih2YXIgQz0wO0M8YzsrK0Mpe3ZhciB4PWhbQ107aWYoXCIsXCI9PXgpaFtDXT1cIk5cIjtlbHNlIGlmKFwiJVwiPT14KXt2YXIgaz12b2lkIDA7Zm9yKGs9QysxO2s8YyYmXCIlXCI9PWhba107KytrKTtmb3IodmFyIEk9QyYmXCIhXCI9PWhbQy0xXXx8azxjJiZcIjFcIj09aFtrXT9cIjFcIjpcIk5cIixNPUM7TTxrOysrTSloW01dPUk7Qz1rLTF9fWZvcih2YXIgUz0wLEw9dTtTPGM7KytTKXt2YXIgVD1oW1NdO1wiTFwiPT1MJiZcIjFcIj09VD9oW1NdPVwiTFwiOm8udGVzdChUKSYmKEw9VCl9Zm9yKHZhciBPPTA7TzxjOysrTylpZihpLnRlc3QoaFtPXSkpe3ZhciBOPXZvaWQgMDtmb3IoTj1PKzE7TjxjJiZpLnRlc3QoaFtOXSk7KytOKTtmb3IodmFyIEU9XCJMXCI9PShPP2hbTy0xXTp1KSxQPVwiTFwiPT0oTjxjP2hbTl06dSksRD1FPT1QP0U/XCJMXCI6XCJSXCI6dSxXPU87VzxOOysrVyloW1ddPUQ7Tz1OLTF9Zm9yKHZhciBSLHo9W10sRj0wO0Y8YzspaWYoYS50ZXN0KGhbRl0pKXt2YXIgSD1GO2ZvcigrK0Y7RjxjJiZhLnRlc3QoaFtGXSk7KytGKTt6LnB1c2gobmV3IGwoMCxILEYpKX1lbHNle3ZhciBCPUYsaj16Lmxlbmd0aDtmb3IoKytGO0Y8YyYmXCJMXCIhPWhbRl07KytGKTtmb3IodmFyIEc9QjtHPEY7KWlmKHMudGVzdChoW0ddKSl7QjxHJiZ6LnNwbGljZShqLDAsbmV3IGwoMSxCLEcpKTt2YXIgVj1HO2ZvcigrK0c7RzxGJiZzLnRlc3QoaFtHXSk7KytHKTt6LnNwbGljZShqLDAsbmV3IGwoMixWLEcpKSxCPUd9ZWxzZSsrRztCPEYmJnouc3BsaWNlKGosMCxuZXcgbCgxLEIsRikpfXJldHVyblwibHRyXCI9PXQmJigxPT16WzBdLmxldmVsJiYoUj1lLm1hdGNoKC9eXFxzKy8pKSYmKHpbMF0uZnJvbT1SWzBdLmxlbmd0aCx6LnVuc2hpZnQobmV3IGwoMCwwLFJbMF0ubGVuZ3RoKSkpLDE9PV8oeikubGV2ZWwmJihSPWUubWF0Y2goL1xccyskLykpJiYoXyh6KS50by09UlswXS5sZW5ndGgsei5wdXNoKG5ldyBsKDAsYy1SWzBdLmxlbmd0aCxjKSkpKSxcInJ0bFwiPT10P3oucmV2ZXJzZSgpOnp9fSgpO2Z1bmN0aW9uIHFlKGUsdCl7dmFyIG49ZS5vcmRlcjtyZXR1cm4gbnVsbD09biYmKG49ZS5vcmRlcj1KZShlLnRleHQsdCkpLG59dmFyICRlPVtdLGV0PWZ1bmN0aW9uKGUsdCxuKXtpZihlLmFkZEV2ZW50TGlzdGVuZXIpZS5hZGRFdmVudExpc3RlbmVyKHQsbiwhMSk7ZWxzZSBpZihlLmF0dGFjaEV2ZW50KWUuYXR0YWNoRXZlbnQoXCJvblwiK3Qsbik7ZWxzZXt2YXIgcj1lLl9oYW5kbGVyc3x8KGUuX2hhbmRsZXJzPXt9KTtyW3RdPShyW3RdfHwkZSkuY29uY2F0KG4pfX07ZnVuY3Rpb24gdHQoZSx0KXtyZXR1cm4gZS5faGFuZGxlcnMmJmUuX2hhbmRsZXJzW3RdfHwkZX1mdW5jdGlvbiBudChlLHQsbil7aWYoZS5yZW1vdmVFdmVudExpc3RlbmVyKWUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpO2Vsc2UgaWYoZS5kZXRhY2hFdmVudCllLmRldGFjaEV2ZW50KFwib25cIit0LG4pO2Vsc2V7dmFyIHI9ZS5faGFuZGxlcnMsaT1yJiZyW3RdO2lmKGkpe3ZhciBvPUIoaSxuKTtvPi0xJiYoclt0XT1pLnNsaWNlKDAsbykuY29uY2F0KGkuc2xpY2UobysxKSkpfX19ZnVuY3Rpb24gcnQoZSx0KXt2YXIgbj10dChlLHQpO2lmKG4ubGVuZ3RoKWZvcih2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksaT0wO2k8bi5sZW5ndGg7KytpKW5baV0uYXBwbHkobnVsbCxyKX1mdW5jdGlvbiBpdChlLHQsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXt0eXBlOnQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9fSkscnQoZSxufHx0LnR5cGUsZSx0KSxjdCh0KXx8dC5jb2RlbWlycm9ySWdub3JlfWZ1bmN0aW9uIG90KGUpe3ZhciB0PWUuX2hhbmRsZXJzJiZlLl9oYW5kbGVycy5jdXJzb3JBY3Rpdml0eTtpZih0KWZvcih2YXIgbj1lLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnN8fChlLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnM9W10pLHI9MDtyPHQubGVuZ3RoOysrciktMT09QihuLHRbcl0pJiZuLnB1c2godFtyXSl9ZnVuY3Rpb24gYXQoZSx0KXtyZXR1cm4gdHQoZSx0KS5sZW5ndGg+MH1mdW5jdGlvbiBzdChlKXtlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe2V0KHRoaXMsZSx0KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7bnQodGhpcyxlLHQpfX1mdW5jdGlvbiBsdChlKXtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIHV0KGUpe2Uuc3RvcFByb3BhZ2F0aW9uP2Uuc3RvcFByb3BhZ2F0aW9uKCk6ZS5jYW5jZWxCdWJibGU9ITB9ZnVuY3Rpb24gY3QoZSl7cmV0dXJuIG51bGwhPWUuZGVmYXVsdFByZXZlbnRlZD9lLmRlZmF1bHRQcmV2ZW50ZWQ6MD09ZS5yZXR1cm5WYWx1ZX1mdW5jdGlvbiBodChlKXtsdChlKSx1dChlKX1mdW5jdGlvbiBkdChlKXtyZXR1cm4gZS50YXJnZXR8fGUuc3JjRWxlbWVudH1mdW5jdGlvbiBmdChlKXt2YXIgdD1lLndoaWNoO3JldHVybiBudWxsPT10JiYoMSZlLmJ1dHRvbj90PTE6MiZlLmJ1dHRvbj90PTM6NCZlLmJ1dHRvbiYmKHQ9MikpLGImJmUuY3RybEtleSYmMT09dCYmKHQ9MyksdH12YXIgcHQsZ3QsdnQ9ZnVuY3Rpb24oKXtpZihhJiZzPDkpcmV0dXJuITE7dmFyIGU9VChcImRpdlwiKTtyZXR1cm5cImRyYWdnYWJsZVwiaW4gZXx8XCJkcmFnRHJvcFwiaW4gZX0oKTtmdW5jdGlvbiBtdChlKXtpZihudWxsPT1wdCl7dmFyIHQ9VChcInNwYW5cIixcIuKAi1wiKTtMKGUsVChcInNwYW5cIixbdCxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIildKSksMCE9ZS5maXJzdENoaWxkLm9mZnNldEhlaWdodCYmKHB0PXQub2Zmc2V0V2lkdGg8PTEmJnQub2Zmc2V0SGVpZ2h0PjImJiEoYSYmczw4KSl9dmFyIG49cHQ/VChcInNwYW5cIixcIuKAi1wiKTpUKFwic3BhblwiLFwiwqBcIixudWxsLFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMXB4OyBtYXJnaW4tcmlnaHQ6IC0xcHhcIik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLFwiXCIpLG59ZnVuY3Rpb24gYnQoZSl7aWYobnVsbCE9Z3QpcmV0dXJuIGd0O3ZhciB0PUwoZSxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkHYrkFcIikpLG49SSh0LDAsMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1JKHQsMSwyKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gUyhlKSwhKCFufHxuLmxlZnQ9PW4ucmlnaHQpJiYoZ3Q9ci5yaWdodC1uLnJpZ2h0PDMpfXZhciB5dD0zIT1cIlxcblxcbmJcIi5zcGxpdCgvXFxuLykubGVuZ3RoP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49W10scj1lLmxlbmd0aDt0PD1yOyl7dmFyIGk9ZS5pbmRleE9mKFwiXFxuXCIsdCk7LTE9PWkmJihpPWUubGVuZ3RoKTt2YXIgbz1lLnNsaWNlKHQsXCJcXHJcIj09ZS5jaGFyQXQoaS0xKT9pLTE6aSksYT1vLmluZGV4T2YoXCJcXHJcIik7LTEhPWE/KG4ucHVzaChvLnNsaWNlKDAsYSkpLHQrPWErMSk6KG4ucHVzaChvKSx0PWkrMSl9cmV0dXJuIG59OmZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KC9cXHJcXG4/fFxcbi8pfSxBdD13aW5kb3cuZ2V0U2VsZWN0aW9uP2Z1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5zZWxlY3Rpb25TdGFydCE9ZS5zZWxlY3Rpb25FbmR9Y2F0Y2goZSl7cmV0dXJuITF9fTpmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1lLm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9Y2F0Y2goZSl7fXJldHVybiEoIXR8fHQucGFyZW50RWxlbWVudCgpIT1lKSYmMCE9dC5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLHQpfSx3dD1mdW5jdGlvbigpe3ZhciBlPVQoXCJkaXZcIik7cmV0dXJuXCJvbmNvcHlcImluIGV8fChlLnNldEF0dHJpYnV0ZShcIm9uY29weVwiLFwicmV0dXJuO1wiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uY29weSl9KCksQ3Q9bnVsbCx4dD17fSxrdD17fTtmdW5jdGlvbiBJdChlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYma3QuaGFzT3duUHJvcGVydHkoZSkpZT1rdFtlXTtlbHNlIGlmKGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm5hbWUmJmt0Lmhhc093blByb3BlcnR5KGUubmFtZSkpe3ZhciB0PWt0W2UubmFtZV07XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXtuYW1lOnR9KSwoZT1xKHQsZSkpLm5hbWU9dC5uYW1lfWVsc2V7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJi9eW1xcd1xcLV0rXFwvW1xcd1xcLV0rXFwreG1sJC8udGVzdChlKSlyZXR1cm4gSXQoXCJhcHBsaWNhdGlvbi94bWxcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJi9eW1xcd1xcLV0rXFwvW1xcd1xcLV0rXFwranNvbiQvLnRlc3QoZSkpcmV0dXJuIEl0KFwiYXBwbGljYXRpb24vanNvblwiKX1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT97bmFtZTplfTplfHx7bmFtZTpcIm51bGxcIn19ZnVuY3Rpb24gTXQoZSx0KXt0PUl0KHQpO3ZhciBuPXh0W3QubmFtZV07aWYoIW4pcmV0dXJuIE10KGUsXCJ0ZXh0L3BsYWluXCIpO3ZhciByPW4oZSx0KTtpZihTdC5oYXNPd25Qcm9wZXJ0eSh0Lm5hbWUpKXt2YXIgaT1TdFt0Lm5hbWVdO2Zvcih2YXIgbyBpbiBpKWkuaGFzT3duUHJvcGVydHkobykmJihyLmhhc093blByb3BlcnR5KG8pJiYocltcIl9cIitvXT1yW29dKSxyW29dPWlbb10pfWlmKHIubmFtZT10Lm5hbWUsdC5oZWxwZXJUeXBlJiYoci5oZWxwZXJUeXBlPXQuaGVscGVyVHlwZSksdC5tb2RlUHJvcHMpZm9yKHZhciBhIGluIHQubW9kZVByb3BzKXJbYV09dC5tb2RlUHJvcHNbYV07cmV0dXJuIHJ9dmFyIFN0PXt9O2Z1bmN0aW9uIEx0KGUsdCl7dmFyIG49U3QuaGFzT3duUHJvcGVydHkoZSk/U3RbZV06U3RbZV09e307eih0LG4pfWZ1bmN0aW9uIFR0KGUsdCl7aWYoITA9PT10KXJldHVybiB0O2lmKGUuY29weVN0YXRlKXJldHVybiBlLmNvcHlTdGF0ZSh0KTt2YXIgbj17fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtpIGluc3RhbmNlb2YgQXJyYXkmJihpPWkuY29uY2F0KFtdKSksbltyXT1pfXJldHVybiBufWZ1bmN0aW9uIE90KGUsdCl7Zm9yKHZhciBuO2UuaW5uZXJNb2RlJiYobj1lLmlubmVyTW9kZSh0KSkmJm4ubW9kZSE9ZTspdD1uLnN0YXRlLGU9bi5tb2RlO3JldHVybiBufHx7bW9kZTplLHN0YXRlOnR9fWZ1bmN0aW9uIE50KGUsdCxuKXtyZXR1cm4hZS5zdGFydFN0YXRlfHxlLnN0YXJ0U3RhdGUodCxuKX12YXIgRXQ9ZnVuY3Rpb24oZSx0LG4pe3RoaXMucG9zPXRoaXMuc3RhcnQ9MCx0aGlzLnN0cmluZz1lLHRoaXMudGFiU2l6ZT10fHw4LHRoaXMubGFzdENvbHVtblBvcz10aGlzLmxhc3RDb2x1bW5WYWx1ZT0wLHRoaXMubGluZVN0YXJ0PTAsdGhpcy5saW5lT3JhY2xlPW59O0V0LnByb3RvdHlwZS5lb2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3M+PXRoaXMuc3RyaW5nLmxlbmd0aH0sRXQucHJvdG90eXBlLnNvbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcz09dGhpcy5saW5lU3RhcnR9LEV0LnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcyl8fHZvaWQgMH0sRXQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBvczx0aGlzLnN0cmluZy5sZW5ndGgpcmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcysrKX0sRXQucHJvdG90eXBlLmVhdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlP3Q9PWU6dCYmKGUudGVzdD9lLnRlc3QodCk6ZSh0KSkpcmV0dXJuKyt0aGlzLnBvcyx0fSxFdC5wcm90b3R5cGUuZWF0V2hpbGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucG9zO3RoaXMuZWF0KGUpOyk7cmV0dXJuIHRoaXMucG9zPnR9LEV0LnByb3RvdHlwZS5lYXRTcGFjZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnBvczsvW1xcc1xcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpOykrK3RoaXMucG9zO3JldHVybiB0aGlzLnBvcz5lfSxFdC5wcm90b3R5cGUuc2tpcFRvRW5kPWZ1bmN0aW9uKCl7dGhpcy5wb3M9dGhpcy5zdHJpbmcubGVuZ3RofSxFdC5wcm90b3R5cGUuc2tpcFRvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RyaW5nLmluZGV4T2YoZSx0aGlzLnBvcyk7aWYodD4tMSlyZXR1cm4gdGhpcy5wb3M9dCwhMH0sRXQucHJvdG90eXBlLmJhY2tVcD1mdW5jdGlvbihlKXt0aGlzLnBvcy09ZX0sRXQucHJvdG90eXBlLmNvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RDb2x1bW5Qb3M8dGhpcy5zdGFydCYmKHRoaXMubGFzdENvbHVtblZhbHVlPUYodGhpcy5zdHJpbmcsdGhpcy5zdGFydCx0aGlzLnRhYlNpemUsdGhpcy5sYXN0Q29sdW1uUG9zLHRoaXMubGFzdENvbHVtblZhbHVlKSx0aGlzLmxhc3RDb2x1bW5Qb3M9dGhpcy5zdGFydCksdGhpcy5sYXN0Q29sdW1uVmFsdWUtKHRoaXMubGluZVN0YXJ0P0YodGhpcy5zdHJpbmcsdGhpcy5saW5lU3RhcnQsdGhpcy50YWJTaXplKTowKX0sRXQucHJvdG90eXBlLmluZGVudGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcy5zdHJpbmcsbnVsbCx0aGlzLnRhYlNpemUpLSh0aGlzLmxpbmVTdGFydD9GKHRoaXMuc3RyaW5nLHRoaXMubGluZVN0YXJ0LHRoaXMudGFiU2l6ZSk6MCl9LEV0LnByb3RvdHlwZS5tYXRjaD1mdW5jdGlvbihlLHQsbil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpe3ZhciByPXRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaChlKTtyZXR1cm4gciYmci5pbmRleD4wP251bGw6KHImJiExIT09dCYmKHRoaXMucG9zKz1yWzBdLmxlbmd0aCkscil9dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIG4/ZS50b0xvd2VyQ2FzZSgpOmV9LG89dGhpcy5zdHJpbmcuc3Vic3RyKHRoaXMucG9zLGUubGVuZ3RoKTtpZihpKG8pPT1pKGUpKXJldHVybiExIT09dCYmKHRoaXMucG9zKz1lLmxlbmd0aCksITB9LEV0LnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMuc3RhcnQsdGhpcy5wb3MpfSxFdC5wcm90b3R5cGUuaGlkZUZpcnN0Q2hhcnM9ZnVuY3Rpb24oZSx0KXt0aGlzLmxpbmVTdGFydCs9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e3RoaXMubGluZVN0YXJ0LT1lfX0sRXQucHJvdG90eXBlLmxvb2tBaGVhZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxpbmVPcmFjbGU7cmV0dXJuIHQmJnQubG9va0FoZWFkKGUpfSxFdC5wcm90b3R5cGUuYmFzZVRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5saW5lT3JhY2xlO3JldHVybiBlJiZlLmJhc2VUb2tlbih0aGlzLnBvcyl9O3ZhciBQdD1mdW5jdGlvbihlLHQpe3RoaXMuc3RhdGU9ZSx0aGlzLmxvb2tBaGVhZD10fSxEdD1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnN0YXRlPXQsdGhpcy5kb2M9ZSx0aGlzLmxpbmU9bix0aGlzLm1heExvb2tBaGVhZD1yfHwwLHRoaXMuYmFzZVRva2Vucz1udWxsLHRoaXMuYmFzZVRva2VuUG9zPTF9O2Z1bmN0aW9uIFd0KGUsdCxuLHIpe3ZhciBpPVtlLnN0YXRlLm1vZGVHZW5dLG89e307VXQoZSx0LnRleHQsZS5kb2MubW9kZSxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkucHVzaChlLHQpfSxvLHIpO2Zvcih2YXIgYT1uLnN0YXRlLHM9ZnVuY3Rpb24ocil7bi5iYXNlVG9rZW5zPWk7dmFyIHM9ZS5zdGF0ZS5vdmVybGF5c1tyXSxsPTEsdT0wO24uc3RhdGU9ITAsVXQoZSx0LnRleHQscy5tb2RlLG4sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49bDt1PGU7KXt2YXIgcj1pW2xdO3I+ZSYmaS5zcGxpY2UobCwxLGUsaVtsKzFdLHIpLGwrPTIsdT1NYXRoLm1pbihlLHIpfWlmKHQpaWYocy5vcGFxdWUpaS5zcGxpY2UobixsLW4sZSxcIm92ZXJsYXkgXCIrdCksbD1uKzI7ZWxzZSBmb3IoO248bDtuKz0yKXt2YXIgbz1pW24rMV07aVtuKzFdPShvP28rXCIgXCI6XCJcIikrXCJvdmVybGF5IFwiK3R9fSxvKSxuLnN0YXRlPWEsbi5iYXNlVG9rZW5zPW51bGwsbi5iYXNlVG9rZW5Qb3M9MX0sbD0wO2w8ZS5zdGF0ZS5vdmVybGF5cy5sZW5ndGg7KytsKXMobCk7cmV0dXJue3N0eWxlczppLGNsYXNzZXM6by5iZ0NsYXNzfHxvLnRleHRDbGFzcz9vOm51bGx9fWZ1bmN0aW9uIFJ0KGUsdCxuKXtpZighdC5zdHlsZXN8fHQuc3R5bGVzWzBdIT1lLnN0YXRlLm1vZGVHZW4pe3ZhciByPXp0KGUsaGUodCkpLGk9dC50ZXh0Lmxlbmd0aD5lLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoJiZUdChlLmRvYy5tb2RlLHIuc3RhdGUpLG89V3QoZSx0LHIpO2kmJihyLnN0YXRlPWkpLHQuc3RhdGVBZnRlcj1yLnNhdmUoIWkpLHQuc3R5bGVzPW8uc3R5bGVzLG8uY2xhc3Nlcz90LnN0eWxlQ2xhc3Nlcz1vLmNsYXNzZXM6dC5zdHlsZUNsYXNzZXMmJih0LnN0eWxlQ2xhc3Nlcz1udWxsKSxuPT09ZS5kb2MuaGlnaGxpZ2h0RnJvbnRpZXImJihlLmRvYy5tb2RlRnJvbnRpZXI9TWF0aC5tYXgoZS5kb2MubW9kZUZyb250aWVyLCsrZS5kb2MuaGlnaGxpZ2h0RnJvbnRpZXIpKX1yZXR1cm4gdC5zdHlsZXN9ZnVuY3Rpb24genQoZSx0LG4pe3ZhciByPWUuZG9jLGk9ZS5kaXNwbGF5O2lmKCFyLm1vZGUuc3RhcnRTdGF0ZSlyZXR1cm4gbmV3IER0KHIsITAsdCk7dmFyIG89ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixpLG89ZS5kb2MsYT1uPy0xOnQtKGUuZG9jLm1vZGUuaW5uZXJNb2RlPzFlMzoxMDApLHM9dDtzPmE7LS1zKXtpZihzPD1vLmZpcnN0KXJldHVybiBvLmZpcnN0O3ZhciBsPXNlKG8scy0xKSx1PWwuc3RhdGVBZnRlcjtpZih1JiYoIW58fHMrKHUgaW5zdGFuY2VvZiBQdD91Lmxvb2tBaGVhZDowKTw9by5tb2RlRnJvbnRpZXIpKXJldHVybiBzO3ZhciBjPUYobC50ZXh0LG51bGwsZS5vcHRpb25zLnRhYlNpemUpOyhudWxsPT1pfHxyPmMpJiYoaT1zLTEscj1jKX1yZXR1cm4gaX0oZSx0LG4pLGE9bz5yLmZpcnN0JiZzZShyLG8tMSkuc3RhdGVBZnRlcixzPWE/RHQuZnJvbVNhdmVkKHIsYSxvKTpuZXcgRHQocixOdChyLm1vZGUpLG8pO3JldHVybiByLml0ZXIobyx0LGZ1bmN0aW9uKG4pe0Z0KGUsbi50ZXh0LHMpO3ZhciByPXMubGluZTtuLnN0YXRlQWZ0ZXI9cj09dC0xfHxyJTU9PTB8fHI+PWkudmlld0Zyb20mJnI8aS52aWV3VG8/cy5zYXZlKCk6bnVsbCxzLm5leHRMaW5lKCl9KSxuJiYoci5tb2RlRnJvbnRpZXI9cy5saW5lKSxzfWZ1bmN0aW9uIEZ0KGUsdCxuLHIpe3ZhciBpPWUuZG9jLm1vZGUsbz1uZXcgRXQodCxlLm9wdGlvbnMudGFiU2l6ZSxuKTtmb3Ioby5zdGFydD1vLnBvcz1yfHwwLFwiXCI9PXQmJkh0KGksbi5zdGF0ZSk7IW8uZW9sKCk7KUJ0KGksbyxuLnN0YXRlKSxvLnN0YXJ0PW8ucG9zfWZ1bmN0aW9uIEh0KGUsdCl7aWYoZS5ibGFua0xpbmUpcmV0dXJuIGUuYmxhbmtMaW5lKHQpO2lmKGUuaW5uZXJNb2RlKXt2YXIgbj1PdChlLHQpO3JldHVybiBuLm1vZGUuYmxhbmtMaW5lP24ubW9kZS5ibGFua0xpbmUobi5zdGF0ZSk6dm9pZCAwfX1mdW5jdGlvbiBCdChlLHQsbixyKXtmb3IodmFyIGk9MDtpPDEwO2krKyl7ciYmKHJbMF09T3QoZSxuKS5tb2RlKTt2YXIgbz1lLnRva2VuKHQsbik7aWYodC5wb3M+dC5zdGFydClyZXR1cm4gb310aHJvdyBuZXcgRXJyb3IoXCJNb2RlIFwiK2UubmFtZStcIiBmYWlsZWQgdG8gYWR2YW5jZSBzdHJlYW0uXCIpfUR0LnByb3RvdHlwZS5sb29rQWhlYWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kb2MuZ2V0TGluZSh0aGlzLmxpbmUrZSk7cmV0dXJuIG51bGwhPXQmJmU+dGhpcy5tYXhMb29rQWhlYWQmJih0aGlzLm1heExvb2tBaGVhZD1lKSx0fSxEdC5wcm90b3R5cGUuYmFzZVRva2VuPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmJhc2VUb2tlbnMpcmV0dXJuIG51bGw7Zm9yKDt0aGlzLmJhc2VUb2tlbnNbdGhpcy5iYXNlVG9rZW5Qb3NdPD1lOyl0aGlzLmJhc2VUb2tlblBvcys9Mjt2YXIgdD10aGlzLmJhc2VUb2tlbnNbdGhpcy5iYXNlVG9rZW5Qb3MrMV07cmV0dXJue3R5cGU6dCYmdC5yZXBsYWNlKC8oIHxeKW92ZXJsYXkgLiovLFwiXCIpLHNpemU6dGhpcy5iYXNlVG9rZW5zW3RoaXMuYmFzZVRva2VuUG9zXS1lfX0sRHQucHJvdG90eXBlLm5leHRMaW5lPWZ1bmN0aW9uKCl7dGhpcy5saW5lKyssdGhpcy5tYXhMb29rQWhlYWQ+MCYmdGhpcy5tYXhMb29rQWhlYWQtLX0sRHQuZnJvbVNhdmVkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCBpbnN0YW5jZW9mIFB0P25ldyBEdChlLFR0KGUubW9kZSx0LnN0YXRlKSxuLHQubG9va0FoZWFkKTpuZXcgRHQoZSxUdChlLm1vZGUsdCksbil9LER0LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGUpe3ZhciB0PSExIT09ZT9UdCh0aGlzLmRvYy5tb2RlLHRoaXMuc3RhdGUpOnRoaXMuc3RhdGU7cmV0dXJuIHRoaXMubWF4TG9va0FoZWFkPjA/bmV3IFB0KHQsdGhpcy5tYXhMb29rQWhlYWQpOnR9O3ZhciBqdD1mdW5jdGlvbihlLHQsbil7dGhpcy5zdGFydD1lLnN0YXJ0LHRoaXMuZW5kPWUucG9zLHRoaXMuc3RyaW5nPWUuY3VycmVudCgpLHRoaXMudHlwZT10fHxudWxsLHRoaXMuc3RhdGU9bn07ZnVuY3Rpb24gR3QoZSx0LG4scil7dmFyIGksbz1lLmRvYyxhPW8ubW9kZTt0PUNlKG8sdCk7dmFyIHMsbD1zZShvLHQubGluZSksdT16dChlLHQubGluZSxuKSxjPW5ldyBFdChsLnRleHQsZS5vcHRpb25zLnRhYlNpemUsdSk7Zm9yKHImJihzPVtdKTsocnx8Yy5wb3M8dC5jaCkmJiFjLmVvbCgpOyljLnN0YXJ0PWMucG9zLGk9QnQoYSxjLHUuc3RhdGUpLHImJnMucHVzaChuZXcganQoYyxpLFR0KG8ubW9kZSx1LnN0YXRlKSkpO3JldHVybiByP3M6bmV3IGp0KGMsaSx1LnN0YXRlKX1mdW5jdGlvbiBWdChlLHQpe2lmKGUpZm9yKDs7KXt2YXIgbj1lLm1hdGNoKC8oPzpefFxccyspbGluZS0oYmFja2dyb3VuZC0pPyhcXFMrKS8pO2lmKCFuKWJyZWFrO2U9ZS5zbGljZSgwLG4uaW5kZXgpK2Uuc2xpY2Uobi5pbmRleCtuWzBdLmxlbmd0aCk7dmFyIHI9blsxXT9cImJnQ2xhc3NcIjpcInRleHRDbGFzc1wiO251bGw9PXRbcl0/dFtyXT1uWzJdOm5ldyBSZWdFeHAoXCIoPzpefHMpXCIrblsyXStcIig/OiR8cylcIikudGVzdCh0W3JdKXx8KHRbcl0rPVwiIFwiK25bMl0pfXJldHVybiBlfWZ1bmN0aW9uIFV0KGUsdCxuLHIsaSxvLGEpe3ZhciBzPW4uZmxhdHRlblNwYW5zO251bGw9PXMmJihzPWUub3B0aW9ucy5mbGF0dGVuU3BhbnMpO3ZhciBsLHU9MCxjPW51bGwsaD1uZXcgRXQodCxlLm9wdGlvbnMudGFiU2l6ZSxyKSxkPWUub3B0aW9ucy5hZGRNb2RlQ2xhc3MmJltudWxsXTtmb3IoXCJcIj09dCYmVnQoSHQobixyLnN0YXRlKSxvKTshaC5lb2woKTspe2lmKGgucG9zPmUub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGg/KHM9ITEsYSYmRnQoZSx0LHIsaC5wb3MpLGgucG9zPXQubGVuZ3RoLGw9bnVsbCk6bD1WdChCdChuLGgsci5zdGF0ZSxkKSxvKSxkKXt2YXIgZj1kWzBdLm5hbWU7ZiYmKGw9XCJtLVwiKyhsP2YrXCIgXCIrbDpmKSl9aWYoIXN8fGMhPWwpe2Zvcig7dTxoLnN0YXJ0Oyl1PU1hdGgubWluKGguc3RhcnQsdSs1ZTMpLGkodSxjKTtjPWx9aC5zdGFydD1oLnBvc31mb3IoO3U8aC5wb3M7KXt2YXIgcD1NYXRoLm1pbihoLnBvcyx1KzVlMyk7aShwLGMpLHU9cH19dmFyIFp0PWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnRleHQ9ZSxFZSh0aGlzLHQpLHRoaXMuaGVpZ2h0PW4/bih0aGlzKToxfTtmdW5jdGlvbiBZdChlKXtlLnBhcmVudD1udWxsLE5lKGUpfVp0LnByb3RvdHlwZS5saW5lTm89ZnVuY3Rpb24oKXtyZXR1cm4gaGUodGhpcyl9LHN0KFp0KTt2YXIgUXQ9e30sWHQ9e307ZnVuY3Rpb24gX3QoZSx0KXtpZighZXx8L15cXHMqJC8udGVzdChlKSlyZXR1cm4gbnVsbDt2YXIgbj10LmFkZE1vZGVDbGFzcz9YdDpRdDtyZXR1cm4gbltlXXx8KG5bZV09ZS5yZXBsYWNlKC9cXFMrL2csXCJjbS0kJlwiKSl9ZnVuY3Rpb24gS3QoZSx0KXt2YXIgbj1PKFwic3BhblwiLG51bGwsbnVsbCxsP1wicGFkZGluZy1yaWdodDogLjFweFwiOm51bGwpLHI9e3ByZTpPKFwicHJlXCIsW25dLFwiQ29kZU1pcnJvci1saW5lXCIpLGNvbnRlbnQ6bixjb2w6MCxwb3M6MCxjbTplLHRyYWlsaW5nU3BhY2U6ITEsc3BsaXRTcGFjZXM6ZS5nZXRPcHRpb24oXCJsaW5lV3JhcHBpbmdcIil9O3QubWVhc3VyZT17fTtmb3IodmFyIGk9MDtpPD0odC5yZXN0P3QucmVzdC5sZW5ndGg6MCk7aSsrKXt2YXIgbz1pP3QucmVzdFtpLTFdOnQubGluZSxhPXZvaWQgMDtyLnBvcz0wLHIuYWRkVG9rZW49cXQsYnQoZS5kaXNwbGF5Lm1lYXN1cmUpJiYoYT1xZShvLGUuZG9jLmRpcmVjdGlvbikpJiYoci5hZGRUb2tlbj0kdChyLmFkZFRva2VuLGEpKSxyLm1hcD1bXTt2YXIgcz10IT1lLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCYmaGUobyk7dG4obyxyLFJ0KGUsbyxzKSksby5zdHlsZUNsYXNzZXMmJihvLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzJiYoci5iZ0NsYXNzPUQoby5zdHlsZUNsYXNzZXMuYmdDbGFzcyxyLmJnQ2xhc3N8fFwiXCIpKSxvLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MmJihyLnRleHRDbGFzcz1EKG8uc3R5bGVDbGFzc2VzLnRleHRDbGFzcyxyLnRleHRDbGFzc3x8XCJcIikpKSwwPT1yLm1hcC5sZW5ndGgmJnIubWFwLnB1c2goMCwwLHIuY29udGVudC5hcHBlbmRDaGlsZChtdChlLmRpc3BsYXkubWVhc3VyZSkpKSwwPT1pPyh0Lm1lYXN1cmUubWFwPXIubWFwLHQubWVhc3VyZS5jYWNoZT17fSk6KCh0Lm1lYXN1cmUubWFwc3x8KHQubWVhc3VyZS5tYXBzPVtdKSkucHVzaChyLm1hcCksKHQubWVhc3VyZS5jYWNoZXN8fCh0Lm1lYXN1cmUuY2FjaGVzPVtdKSkucHVzaCh7fSkpfWlmKGwpe3ZhciB1PXIuY29udGVudC5sYXN0Q2hpbGQ7KC9cXGJjbS10YWJcXGIvLnRlc3QodS5jbGFzc05hbWUpfHx1LnF1ZXJ5U2VsZWN0b3ImJnUucXVlcnlTZWxlY3RvcihcIi5jbS10YWJcIikpJiYoci5jb250ZW50LmNsYXNzTmFtZT1cImNtLXRhYi13cmFwLWhhY2tcIil9cmV0dXJuIHJ0KGUsXCJyZW5kZXJMaW5lXCIsZSx0LmxpbmUsci5wcmUpLHIucHJlLmNsYXNzTmFtZSYmKHIudGV4dENsYXNzPUQoci5wcmUuY2xhc3NOYW1lLHIudGV4dENsYXNzfHxcIlwiKSkscn1mdW5jdGlvbiBKdChlKXt2YXIgdD1UKFwic3BhblwiLFwi4oCiXCIsXCJjbS1pbnZhbGlkY2hhclwiKTtyZXR1cm4gdC50aXRsZT1cIlxcXFx1XCIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSx0LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0LnRpdGxlKSx0fWZ1bmN0aW9uIHF0KGUsdCxuLHIsaSxvLGwpe2lmKHQpe3ZhciB1LGM9ZS5zcGxpdFNwYWNlcz9mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoPjEmJiEvICAvLnRlc3QoZSkpcmV0dXJuIGU7Zm9yKHZhciBuPXQscj1cIlwiLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZS5jaGFyQXQoaSk7XCIgXCIhPW98fCFufHxpIT1lLmxlbmd0aC0xJiYzMiE9ZS5jaGFyQ29kZUF0KGkrMSl8fChvPVwiwqBcIikscis9byxuPVwiIFwiPT1vfXJldHVybiByfSh0LGUudHJhaWxpbmdTcGFjZSk6dCxoPWUuY20uc3RhdGUuc3BlY2lhbENoYXJzLGQ9ITE7aWYoaC50ZXN0KHQpKXt1PWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IodmFyIGY9MDs7KXtoLmxhc3RJbmRleD1mO3ZhciBwPWguZXhlYyh0KSxnPXA/cC5pbmRleC1mOnQubGVuZ3RoLWY7aWYoZyl7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYy5zbGljZShmLGYrZykpO2EmJnM8OT91LmFwcGVuZENoaWxkKFQoXCJzcGFuXCIsW3ZdKSk6dS5hcHBlbmRDaGlsZCh2KSxlLm1hcC5wdXNoKGUucG9zLGUucG9zK2csdiksZS5jb2wrPWcsZS5wb3MrPWd9aWYoIXApYnJlYWs7Zis9ZysxO3ZhciBtPXZvaWQgMDtpZihcIlxcdFwiPT1wWzBdKXt2YXIgYj1lLmNtLm9wdGlvbnMudGFiU2l6ZSx5PWItZS5jb2wlYjsobT11LmFwcGVuZENoaWxkKFQoXCJzcGFuXCIsWCh5KSxcImNtLXRhYlwiKSkpLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSxtLnNldEF0dHJpYnV0ZShcImNtLXRleHRcIixcIlxcdFwiKSxlLmNvbCs9eX1lbHNlXCJcXHJcIj09cFswXXx8XCJcXG5cIj09cFswXT8oKG09dS5hcHBlbmRDaGlsZChUKFwic3BhblwiLFwiXFxyXCI9PXBbMF0/XCLikI1cIjpcIuKQpFwiLFwiY20taW52YWxpZGNoYXJcIikpKS5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIscFswXSksZS5jb2wrPTEpOigobT1lLmNtLm9wdGlvbnMuc3BlY2lhbENoYXJQbGFjZWhvbGRlcihwWzBdKSkuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLHBbMF0pLGEmJnM8OT91LmFwcGVuZENoaWxkKFQoXCJzcGFuXCIsW21dKSk6dS5hcHBlbmRDaGlsZChtKSxlLmNvbCs9MSk7ZS5tYXAucHVzaChlLnBvcyxlLnBvcysxLG0pLGUucG9zKyt9fWVsc2UgZS5jb2wrPXQubGVuZ3RoLHU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYyksZS5tYXAucHVzaChlLnBvcyxlLnBvcyt0Lmxlbmd0aCx1KSxhJiZzPDkmJihkPSEwKSxlLnBvcys9dC5sZW5ndGg7aWYoZS50cmFpbGluZ1NwYWNlPTMyPT1jLmNoYXJDb2RlQXQodC5sZW5ndGgtMSksbnx8cnx8aXx8ZHx8byl7dmFyIEE9bnx8XCJcIjtyJiYoQSs9ciksaSYmKEErPWkpO3ZhciB3PVQoXCJzcGFuXCIsW3VdLEEsbyk7aWYobClmb3IodmFyIEMgaW4gbClsLmhhc093blByb3BlcnR5KEMpJiZcInN0eWxlXCIhPUMmJlwiY2xhc3NcIiE9QyYmdy5zZXRBdHRyaWJ1dGUoQyxsW0NdKTtyZXR1cm4gZS5jb250ZW50LmFwcGVuZENoaWxkKHcpfWUuY29udGVudC5hcHBlbmRDaGlsZCh1KX19ZnVuY3Rpb24gJHQoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyLGksbyxhLHMsbCl7aT1pP2krXCIgY20tZm9yY2UtYm9yZGVyXCI6XCJjbS1mb3JjZS1ib3JkZXJcIjtmb3IodmFyIHU9bi5wb3MsYz11K3IubGVuZ3RoOzspe2Zvcih2YXIgaD12b2lkIDAsZD0wO2Q8dC5sZW5ndGgmJiEoKGg9dFtkXSkudG8+dSYmaC5mcm9tPD11KTtkKyspO2lmKGgudG8+PWMpcmV0dXJuIGUobixyLGksbyxhLHMsbCk7ZShuLHIuc2xpY2UoMCxoLnRvLXUpLGksbyxudWxsLHMsbCksbz1udWxsLHI9ci5zbGljZShoLnRvLXUpLHU9aC50b319fWZ1bmN0aW9uIGVuKGUsdCxuLHIpe3ZhciBpPSFyJiZuLndpZGdldE5vZGU7aSYmZS5tYXAucHVzaChlLnBvcyxlLnBvcyt0LGkpLCFyJiZlLmNtLmRpc3BsYXkuaW5wdXQubmVlZHNDb250ZW50QXR0cmlidXRlJiYoaXx8KGk9ZS5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKSksaS5zZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIixuLmlkKSksaSYmKGUuY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGkpLGUuY29udGVudC5hcHBlbmRDaGlsZChpKSksZS5wb3MrPXQsZS50cmFpbGluZ1NwYWNlPSExfWZ1bmN0aW9uIHRuKGUsdCxuKXt2YXIgcj1lLm1hcmtlZFNwYW5zLGk9ZS50ZXh0LG89MDtpZihyKWZvcih2YXIgYSxzLGwsdSxjLGgsZCxmPWkubGVuZ3RoLHA9MCxnPTEsdj1cIlwiLG09MDs7KXtpZihtPT1wKXtsPXU9Yz1zPVwiXCIsZD1udWxsLGg9bnVsbCxtPTEvMDtmb3IodmFyIGI9W10seT12b2lkIDAsQT0wO0E8ci5sZW5ndGg7KytBKXt2YXIgdz1yW0FdLEM9dy5tYXJrZXI7aWYoXCJib29rbWFya1wiPT1DLnR5cGUmJncuZnJvbT09cCYmQy53aWRnZXROb2RlKWIucHVzaChDKTtlbHNlIGlmKHcuZnJvbTw9cCYmKG51bGw9PXcudG98fHcudG8+cHx8Qy5jb2xsYXBzZWQmJncudG89PXAmJncuZnJvbT09cCkpe2lmKG51bGwhPXcudG8mJncudG8hPXAmJm0+dy50byYmKG09dy50byx1PVwiXCIpLEMuY2xhc3NOYW1lJiYobCs9XCIgXCIrQy5jbGFzc05hbWUpLEMuY3NzJiYocz0ocz9zK1wiO1wiOlwiXCIpK0MuY3NzKSxDLnN0YXJ0U3R5bGUmJncuZnJvbT09cCYmKGMrPVwiIFwiK0Muc3RhcnRTdHlsZSksQy5lbmRTdHlsZSYmdy50bz09bSYmKHl8fCh5PVtdKSkucHVzaChDLmVuZFN0eWxlLHcudG8pLEMudGl0bGUmJigoZHx8KGQ9e30pKS50aXRsZT1DLnRpdGxlKSxDLmF0dHJpYnV0ZXMpZm9yKHZhciB4IGluIEMuYXR0cmlidXRlcykoZHx8KGQ9e30pKVt4XT1DLmF0dHJpYnV0ZXNbeF07Qy5jb2xsYXBzZWQmJighaHx8V2UoaC5tYXJrZXIsQyk8MCkmJihoPXcpfWVsc2Ugdy5mcm9tPnAmJm0+dy5mcm9tJiYobT13LmZyb20pfWlmKHkpZm9yKHZhciBrPTA7azx5Lmxlbmd0aDtrKz0yKXlbaysxXT09bSYmKHUrPVwiIFwiK3lba10pO2lmKCFofHxoLmZyb209PXApZm9yKHZhciBJPTA7STxiLmxlbmd0aDsrK0kpZW4odCwwLGJbSV0pO2lmKGgmJihoLmZyb218fDApPT1wKXtpZihlbih0LChudWxsPT1oLnRvP2YrMTpoLnRvKS1wLGgubWFya2VyLG51bGw9PWguZnJvbSksbnVsbD09aC50bylyZXR1cm47aC50bz09cCYmKGg9ITEpfX1pZihwPj1mKWJyZWFrO2Zvcih2YXIgTT1NYXRoLm1pbihmLG0pOzspe2lmKHYpe3ZhciBTPXArdi5sZW5ndGg7aWYoIWgpe3ZhciBMPVM+TT92LnNsaWNlKDAsTS1wKTp2O3QuYWRkVG9rZW4odCxMLGE/YStsOmwsYyxwK0wubGVuZ3RoPT1tP3U6XCJcIixzLGQpfWlmKFM+PU0pe3Y9di5zbGljZShNLXApLHA9TTticmVha31wPVMsYz1cIlwifXY9aS5zbGljZShvLG89bltnKytdKSxhPV90KG5bZysrXSx0LmNtLm9wdGlvbnMpfX1lbHNlIGZvcih2YXIgVD0xO1Q8bi5sZW5ndGg7VCs9Mil0LmFkZFRva2VuKHQsaS5zbGljZShvLG89bltUXSksX3QobltUKzFdLHQuY20ub3B0aW9ucykpfWZ1bmN0aW9uIG5uKGUsdCxuKXt0aGlzLmxpbmU9dCx0aGlzLnJlc3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG47dD1GZShlKTspZT10LmZpbmQoMSwhMCkubGluZSwobnx8KG49W10pKS5wdXNoKGUpO3JldHVybiBufSh0KSx0aGlzLnNpemU9dGhpcy5yZXN0P2hlKF8odGhpcy5yZXN0KSktbisxOjEsdGhpcy5ub2RlPXRoaXMudGV4dD1udWxsLHRoaXMuaGlkZGVuPVVlKGUsdCl9ZnVuY3Rpb24gcm4oZSx0LG4pe2Zvcih2YXIgcixpPVtdLG89dDtvPG47bz1yKXt2YXIgYT1uZXcgbm4oZS5kb2Msc2UoZS5kb2Msbyksbyk7cj1vK2Euc2l6ZSxpLnB1c2goYSl9cmV0dXJuIGl9dmFyIG9uPW51bGwsYW49bnVsbDtmdW5jdGlvbiBzbihlLHQpe3ZhciBuPXR0KGUsdCk7aWYobi5sZW5ndGgpe3ZhciByLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO29uP3I9b24uZGVsYXllZENhbGxiYWNrczphbj9yPWFuOihyPWFuPVtdLHNldFRpbWVvdXQobG4sMCkpO2Zvcih2YXIgbz1mdW5jdGlvbihlKXtyLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gbltlXS5hcHBseShudWxsLGkpfSl9LGE9MDthPG4ubGVuZ3RoOysrYSlvKGEpfX1mdW5jdGlvbiBsbigpe3ZhciBlPWFuO2FuPW51bGw7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XSgpfWZ1bmN0aW9uIHVuKGUsdCxuLHIpe2Zvcih2YXIgaT0wO2k8dC5jaGFuZ2VzLmxlbmd0aDtpKyspe3ZhciBvPXQuY2hhbmdlc1tpXTtcInRleHRcIj09bz9kbihlLHQpOlwiZ3V0dGVyXCI9PW8/cG4oZSx0LG4scik6XCJjbGFzc1wiPT1vP2ZuKGUsdCk6XCJ3aWRnZXRcIj09byYmZ24oZSx0LHIpfXQuY2hhbmdlcz1udWxsfWZ1bmN0aW9uIGNuKGUpe3JldHVybiBlLm5vZGU9PWUudGV4dCYmKGUubm9kZT1UKFwiZGl2XCIsbnVsbCxudWxsLFwicG9zaXRpb246IHJlbGF0aXZlXCIpLGUudGV4dC5wYXJlbnROb2RlJiZlLnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZS5ub2RlLGUudGV4dCksZS5ub2RlLmFwcGVuZENoaWxkKGUudGV4dCksYSYmczw4JiYoZS5ub2RlLnN0eWxlLnpJbmRleD0yKSksZS5ub2RlfWZ1bmN0aW9uIGhuKGUsdCl7dmFyIG49ZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7cmV0dXJuIG4mJm4ubGluZT09dC5saW5lPyhlLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZD1udWxsLHQubWVhc3VyZT1uLm1lYXN1cmUsbi5idWlsdCk6S3QoZSx0KX1mdW5jdGlvbiBkbihlLHQpe3ZhciBuPXQudGV4dC5jbGFzc05hbWUscj1obihlLHQpO3QudGV4dD09dC5ub2RlJiYodC5ub2RlPXIucHJlKSx0LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoci5wcmUsdC50ZXh0KSx0LnRleHQ9ci5wcmUsci5iZ0NsYXNzIT10LmJnQ2xhc3N8fHIudGV4dENsYXNzIT10LnRleHRDbGFzcz8odC5iZ0NsYXNzPXIuYmdDbGFzcyx0LnRleHRDbGFzcz1yLnRleHRDbGFzcyxmbihlLHQpKTpuJiYodC50ZXh0LmNsYXNzTmFtZT1uKX1mdW5jdGlvbiBmbihlLHQpeyFmdW5jdGlvbihlLHQpe3ZhciBuPXQuYmdDbGFzcz90LmJnQ2xhc3MrXCIgXCIrKHQubGluZS5iZ0NsYXNzfHxcIlwiKTp0LmxpbmUuYmdDbGFzcztpZihuJiYobis9XCIgQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZFwiKSx0LmJhY2tncm91bmQpbj90LmJhY2tncm91bmQuY2xhc3NOYW1lPW46KHQuYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuYmFja2dyb3VuZCksdC5iYWNrZ3JvdW5kPW51bGwpO2Vsc2UgaWYobil7dmFyIHI9Y24odCk7dC5iYWNrZ3JvdW5kPXIuaW5zZXJ0QmVmb3JlKFQoXCJkaXZcIixudWxsLG4pLHIuZmlyc3RDaGlsZCksZS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUodC5iYWNrZ3JvdW5kKX19KGUsdCksdC5saW5lLndyYXBDbGFzcz9jbih0KS5jbGFzc05hbWU9dC5saW5lLndyYXBDbGFzczp0Lm5vZGUhPXQudGV4dCYmKHQubm9kZS5jbGFzc05hbWU9XCJcIik7dmFyIG49dC50ZXh0Q2xhc3M/dC50ZXh0Q2xhc3MrXCIgXCIrKHQubGluZS50ZXh0Q2xhc3N8fFwiXCIpOnQubGluZS50ZXh0Q2xhc3M7dC50ZXh0LmNsYXNzTmFtZT1ufHxcIlwifWZ1bmN0aW9uIHBuKGUsdCxuLHIpe2lmKHQuZ3V0dGVyJiYodC5ub2RlLnJlbW92ZUNoaWxkKHQuZ3V0dGVyKSx0Lmd1dHRlcj1udWxsKSx0Lmd1dHRlckJhY2tncm91bmQmJih0Lm5vZGUucmVtb3ZlQ2hpbGQodC5ndXR0ZXJCYWNrZ3JvdW5kKSx0Lmd1dHRlckJhY2tncm91bmQ9bnVsbCksdC5saW5lLmd1dHRlckNsYXNzKXt2YXIgaT1jbih0KTt0Lmd1dHRlckJhY2tncm91bmQ9VChcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWd1dHRlci1iYWNrZ3JvdW5kIFwiK3QubGluZS5ndXR0ZXJDbGFzcyxcImxlZnQ6IFwiKyhlLm9wdGlvbnMuZml4ZWRHdXR0ZXI/ci5maXhlZFBvczotci5ndXR0ZXJUb3RhbFdpZHRoKStcInB4OyB3aWR0aDogXCIrci5ndXR0ZXJUb3RhbFdpZHRoK1wicHhcIiksZS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUodC5ndXR0ZXJCYWNrZ3JvdW5kKSxpLmluc2VydEJlZm9yZSh0Lmd1dHRlckJhY2tncm91bmQsdC50ZXh0KX12YXIgbz10LmxpbmUuZ3V0dGVyTWFya2VycztpZihlLm9wdGlvbnMubGluZU51bWJlcnN8fG8pe3ZhciBhPWNuKHQpLHM9dC5ndXR0ZXI9VChcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWd1dHRlci13cmFwcGVyXCIsXCJsZWZ0OiBcIisoZS5vcHRpb25zLmZpeGVkR3V0dGVyP3IuZml4ZWRQb3M6LXIuZ3V0dGVyVG90YWxXaWR0aCkrXCJweFwiKTtpZihlLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShzKSxhLmluc2VydEJlZm9yZShzLHQudGV4dCksdC5saW5lLmd1dHRlckNsYXNzJiYocy5jbGFzc05hbWUrPVwiIFwiK3QubGluZS5ndXR0ZXJDbGFzcyksIWUub3B0aW9ucy5saW5lTnVtYmVyc3x8byYmb1tcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl18fCh0LmxpbmVOdW1iZXI9cy5hcHBlbmRDaGlsZChUKFwiZGl2XCIscGUoZS5vcHRpb25zLG4pLFwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiLFwibGVmdDogXCIrci5ndXR0ZXJMZWZ0W1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXStcInB4OyB3aWR0aDogXCIrZS5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoK1wicHhcIikpKSxvKWZvcih2YXIgbD0wO2w8ZS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOysrbCl7dmFyIHU9ZS5vcHRpb25zLmd1dHRlcnNbbF0sYz1vLmhhc093blByb3BlcnR5KHUpJiZvW3VdO2MmJnMuYXBwZW5kQ2hpbGQoVChcImRpdlwiLFtjXSxcIkNvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiLFwibGVmdDogXCIrci5ndXR0ZXJMZWZ0W3VdK1wicHg7IHdpZHRoOiBcIityLmd1dHRlcldpZHRoW3VdK1wicHhcIikpfX19ZnVuY3Rpb24gZ24oZSx0LG4pe3QuYWxpZ25hYmxlJiYodC5hbGlnbmFibGU9bnVsbCk7Zm9yKHZhciByPXQubm9kZS5maXJzdENoaWxkLGk9dm9pZCAwO3I7cj1pKWk9ci5uZXh0U2libGluZyxcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiPT1yLmNsYXNzTmFtZSYmdC5ub2RlLnJlbW92ZUNoaWxkKHIpO21uKGUsdCxuKX1mdW5jdGlvbiB2bihlLHQsbixyKXt2YXIgaT1obihlLHQpO3JldHVybiB0LnRleHQ9dC5ub2RlPWkucHJlLGkuYmdDbGFzcyYmKHQuYmdDbGFzcz1pLmJnQ2xhc3MpLGkudGV4dENsYXNzJiYodC50ZXh0Q2xhc3M9aS50ZXh0Q2xhc3MpLGZuKGUsdCkscG4oZSx0LG4sciksbW4oZSx0LHIpLHQubm9kZX1mdW5jdGlvbiBtbihlLHQsbil7aWYoYm4oZSx0LmxpbmUsdCxuLCEwKSx0LnJlc3QpZm9yKHZhciByPTA7cjx0LnJlc3QubGVuZ3RoO3IrKylibihlLHQucmVzdFtyXSx0LG4sITEpfWZ1bmN0aW9uIGJuKGUsdCxuLHIsaSl7aWYodC53aWRnZXRzKWZvcih2YXIgbz1jbihuKSxhPTAscz10LndpZGdldHM7YTxzLmxlbmd0aDsrK2Epe3ZhciBsPXNbYV0sdT1UKFwiZGl2XCIsW2wubm9kZV0sXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIik7bC5oYW5kbGVNb3VzZUV2ZW50c3x8dS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsXCJ0cnVlXCIpLHluKGwsdSxuLHIpLGUuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKHUpLGkmJmwuYWJvdmU/by5pbnNlcnRCZWZvcmUodSxuLmd1dHRlcnx8bi50ZXh0KTpvLmFwcGVuZENoaWxkKHUpLHNuKGwsXCJyZWRyYXdcIil9fWZ1bmN0aW9uIHluKGUsdCxuLHIpe2lmKGUubm9IU2Nyb2xsKXsobi5hbGlnbmFibGV8fChuLmFsaWduYWJsZT1bXSkpLnB1c2godCk7dmFyIGk9ci53cmFwcGVyV2lkdGg7dC5zdHlsZS5sZWZ0PXIuZml4ZWRQb3MrXCJweFwiLGUuY292ZXJHdXR0ZXJ8fChpLT1yLmd1dHRlclRvdGFsV2lkdGgsdC5zdHlsZS5wYWRkaW5nTGVmdD1yLmd1dHRlclRvdGFsV2lkdGgrXCJweFwiKSx0LnN0eWxlLndpZHRoPWkrXCJweFwifWUuY292ZXJHdXR0ZXImJih0LnN0eWxlLnpJbmRleD01LHQuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLGUubm9IU2Nyb2xsfHwodC5zdHlsZS5tYXJnaW5MZWZ0PS1yLmd1dHRlclRvdGFsV2lkdGgrXCJweFwiKSl9ZnVuY3Rpb24gQW4oZSl7aWYobnVsbCE9ZS5oZWlnaHQpcmV0dXJuIGUuaGVpZ2h0O3ZhciB0PWUuZG9jLmNtO2lmKCF0KXJldHVybiAwO2lmKCFOKGRvY3VtZW50LmJvZHksZS5ub2RlKSl7dmFyIG49XCJwb3NpdGlvbjogcmVsYXRpdmU7XCI7ZS5jb3Zlckd1dHRlciYmKG4rPVwibWFyZ2luLWxlZnQ6IC1cIit0LmRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCtcInB4O1wiKSxlLm5vSFNjcm9sbCYmKG4rPVwid2lkdGg6IFwiK3QuZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoK1wicHg7XCIpLEwodC5kaXNwbGF5Lm1lYXN1cmUsVChcImRpdlwiLFtlLm5vZGVdLG51bGwsbikpfXJldHVybiBlLmhlaWdodD1lLm5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHR9ZnVuY3Rpb24gd24oZSx0KXtmb3IodmFyIG49ZHQodCk7biE9ZS53cmFwcGVyO249bi5wYXJlbnROb2RlKWlmKCFufHwxPT1uLm5vZGVUeXBlJiZcInRydWVcIj09bi5nZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIpfHxuLnBhcmVudE5vZGU9PWUuc2l6ZXImJm4hPWUubW92ZXIpcmV0dXJuITB9ZnVuY3Rpb24gQ24oZSl7cmV0dXJuIGUubGluZVNwYWNlLm9mZnNldFRvcH1mdW5jdGlvbiB4bihlKXtyZXR1cm4gZS5tb3Zlci5vZmZzZXRIZWlnaHQtZS5saW5lU3BhY2Uub2Zmc2V0SGVpZ2h0fWZ1bmN0aW9uIGtuKGUpe2lmKGUuY2FjaGVkUGFkZGluZ0gpcmV0dXJuIGUuY2FjaGVkUGFkZGluZ0g7dmFyIHQ9TChlLm1lYXN1cmUsVChcInByZVwiLFwieFwiKSksbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KTp0LmN1cnJlbnRTdHlsZSxyPXtsZWZ0OnBhcnNlSW50KG4ucGFkZGluZ0xlZnQpLHJpZ2h0OnBhcnNlSW50KG4ucGFkZGluZ1JpZ2h0KX07cmV0dXJuIGlzTmFOKHIubGVmdCl8fGlzTmFOKHIucmlnaHQpfHwoZS5jYWNoZWRQYWRkaW5nSD1yKSxyfWZ1bmN0aW9uIEluKGUpe3JldHVybiBqLWUuZGlzcGxheS5uYXRpdmVCYXJXaWR0aH1mdW5jdGlvbiBNbihlKXtyZXR1cm4gZS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoLUluKGUpLWUuZGlzcGxheS5iYXJXaWR0aH1mdW5jdGlvbiBTbihlKXtyZXR1cm4gZS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodC1JbihlKS1lLmRpc3BsYXkuYmFySGVpZ2h0fWZ1bmN0aW9uIExuKGUsdCxuKXtpZihlLmxpbmU9PXQpcmV0dXJue21hcDplLm1lYXN1cmUubWFwLGNhY2hlOmUubWVhc3VyZS5jYWNoZX07Zm9yKHZhciByPTA7cjxlLnJlc3QubGVuZ3RoO3IrKylpZihlLnJlc3Rbcl09PXQpcmV0dXJue21hcDplLm1lYXN1cmUubWFwc1tyXSxjYWNoZTplLm1lYXN1cmUuY2FjaGVzW3JdfTtmb3IodmFyIGk9MDtpPGUucmVzdC5sZW5ndGg7aSsrKWlmKGhlKGUucmVzdFtpXSk+bilyZXR1cm57bWFwOmUubWVhc3VyZS5tYXBzW2ldLGNhY2hlOmUubWVhc3VyZS5jYWNoZXNbaV0sYmVmb3JlOiEwfX1mdW5jdGlvbiBUbihlLHQsbixyKXtyZXR1cm4gRW4oZSxObihlLHQpLG4scil9ZnVuY3Rpb24gT24oZSx0KXtpZih0Pj1lLmRpc3BsYXkudmlld0Zyb20mJnQ8ZS5kaXNwbGF5LnZpZXdUbylyZXR1cm4gZS5kaXNwbGF5LnZpZXdbc3IoZSx0KV07dmFyIG49ZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7cmV0dXJuIG4mJnQ+PW4ubGluZU4mJnQ8bi5saW5lTituLnNpemU/bjp2b2lkIDB9ZnVuY3Rpb24gTm4oZSx0KXt2YXIgbj1oZSh0KSxyPU9uKGUsbik7ciYmIXIudGV4dD9yPW51bGw6ciYmci5jaGFuZ2VzJiYodW4oZSxyLG4sbnIoZSkpLGUuY3VyT3AuZm9yY2VVcGRhdGU9ITApLHJ8fChyPWZ1bmN0aW9uKGUsdCl7dmFyIG49aGUodD1qZSh0KSkscj1lLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZD1uZXcgbm4oZS5kb2MsdCxuKTtyLmxpbmVOPW47dmFyIGk9ci5idWlsdD1LdChlLHIpO3JldHVybiByLnRleHQ9aS5wcmUsTChlLmRpc3BsYXkubGluZU1lYXN1cmUsaS5wcmUpLHJ9KGUsdCkpO3ZhciBpPUxuKHIsdCxuKTtyZXR1cm57bGluZTp0LHZpZXc6cixyZWN0Om51bGwsbWFwOmkubWFwLGNhY2hlOmkuY2FjaGUsYmVmb3JlOmkuYmVmb3JlLGhhc0hlaWdodHM6ITF9fWZ1bmN0aW9uIEVuKGUsdCxuLHIsaSl7dC5iZWZvcmUmJihuPS0xKTt2YXIgbyxsPW4rKHJ8fFwiXCIpO3JldHVybiB0LmNhY2hlLmhhc093blByb3BlcnR5KGwpP289dC5jYWNoZVtsXToodC5yZWN0fHwodC5yZWN0PXQudmlldy50ZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSx0Lmhhc0hlaWdodHN8fChmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5vcHRpb25zLmxpbmVXcmFwcGluZyxpPXImJk1uKGUpO2lmKCF0Lm1lYXN1cmUuaGVpZ2h0c3x8ciYmdC5tZWFzdXJlLndpZHRoIT1pKXt2YXIgbz10Lm1lYXN1cmUuaGVpZ2h0cz1bXTtpZihyKXt0Lm1lYXN1cmUud2lkdGg9aTtmb3IodmFyIGE9dC50ZXh0LmZpcnN0Q2hpbGQuZ2V0Q2xpZW50UmVjdHMoKSxzPTA7czxhLmxlbmd0aC0xO3MrKyl7dmFyIGw9YVtzXSx1PWFbcysxXTtNYXRoLmFicyhsLmJvdHRvbS11LmJvdHRvbSk+MiYmby5wdXNoKChsLmJvdHRvbSt1LnRvcCkvMi1uLnRvcCl9fW8ucHVzaChuLmJvdHRvbS1uLnRvcCl9fShlLHQudmlldyx0LnJlY3QpLHQuaGFzSGVpZ2h0cz0hMCksKG89ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1Xbih0Lm1hcCxuLHIpLGw9by5ub2RlLHU9by5zdGFydCxjPW8uZW5kLGg9by5jb2xsYXBzZTtpZigzPT1sLm5vZGVUeXBlKXtmb3IodmFyIGQ9MDtkPDQ7ZCsrKXtmb3IoO3UmJmllKHQubGluZS50ZXh0LmNoYXJBdChvLmNvdmVyU3RhcnQrdSkpOyktLXU7Zm9yKDtvLmNvdmVyU3RhcnQrYzxvLmNvdmVyRW5kJiZpZSh0LmxpbmUudGV4dC5jaGFyQXQoby5jb3ZlclN0YXJ0K2MpKTspKytjO2lmKChpPWEmJnM8OSYmMD09dSYmYz09by5jb3ZlckVuZC1vLmNvdmVyU3RhcnQ/bC5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOlJuKEkobCx1LGMpLmdldENsaWVudFJlY3RzKCkscikpLmxlZnR8fGkucmlnaHR8fDA9PXUpYnJlYWs7Yz11LHUtPTEsaD1cInJpZ2h0XCJ9YSYmczwxMSYmKGk9ZnVuY3Rpb24oZSx0KXtpZighd2luZG93LnNjcmVlbnx8bnVsbD09c2NyZWVuLmxvZ2ljYWxYRFBJfHxzY3JlZW4ubG9naWNhbFhEUEk9PXNjcmVlbi5kZXZpY2VYRFBJfHwhZnVuY3Rpb24oZSl7aWYobnVsbCE9Q3QpcmV0dXJuIEN0O3ZhciB0PUwoZSxUKFwic3BhblwiLFwieFwiKSksbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9SSh0LDAsMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIEN0PU1hdGguYWJzKG4ubGVmdC1yLmxlZnQpPjF9KGUpKXJldHVybiB0O3ZhciBuPXNjcmVlbi5sb2dpY2FsWERQSS9zY3JlZW4uZGV2aWNlWERQSSxyPXNjcmVlbi5sb2dpY2FsWURQSS9zY3JlZW4uZGV2aWNlWURQSTtyZXR1cm57bGVmdDp0LmxlZnQqbixyaWdodDp0LnJpZ2h0Km4sdG9wOnQudG9wKnIsYm90dG9tOnQuYm90dG9tKnJ9fShlLmRpc3BsYXkubWVhc3VyZSxpKSl9ZWxzZXt2YXIgZjt1PjAmJihoPXI9XCJyaWdodFwiKSxpPWUub3B0aW9ucy5saW5lV3JhcHBpbmcmJihmPWwuZ2V0Q2xpZW50UmVjdHMoKSkubGVuZ3RoPjE/ZltcInJpZ2h0XCI9PXI/Zi5sZW5ndGgtMTowXTpsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWlmKGEmJnM8OSYmIXUmJighaXx8IWkubGVmdCYmIWkucmlnaHQpKXt2YXIgcD1sLnBhcmVudE5vZGUuZ2V0Q2xpZW50UmVjdHMoKVswXTtpPXA/e2xlZnQ6cC5sZWZ0LHJpZ2h0OnAubGVmdCt0cihlLmRpc3BsYXkpLHRvcDpwLnRvcCxib3R0b206cC5ib3R0b219OkRufWZvcih2YXIgZz1pLnRvcC10LnJlY3QudG9wLHY9aS5ib3R0b20tdC5yZWN0LnRvcCxtPShnK3YpLzIsYj10LnZpZXcubWVhc3VyZS5oZWlnaHRzLHk9MDt5PGIubGVuZ3RoLTEmJiEobTxiW3ldKTt5KyspO3ZhciBBPXk/Ylt5LTFdOjAsdz1iW3ldLEM9e2xlZnQ6KFwicmlnaHRcIj09aD9pLnJpZ2h0OmkubGVmdCktdC5yZWN0LmxlZnQscmlnaHQ6KFwibGVmdFwiPT1oP2kubGVmdDppLnJpZ2h0KS10LnJlY3QubGVmdCx0b3A6QSxib3R0b206d307cmV0dXJuIGkubGVmdHx8aS5yaWdodHx8KEMuYm9ndXM9ITApLGUub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lfHwoQy5ydG9wPWcsQy5yYm90dG9tPXYpLEN9KGUsdCxuLHIpKS5ib2d1c3x8KHQuY2FjaGVbbF09bykpLHtsZWZ0Om8ubGVmdCxyaWdodDpvLnJpZ2h0LHRvcDppP28ucnRvcDpvLnRvcCxib3R0b206aT9vLnJib3R0b206by5ib3R0b219fXZhciBQbixEbj17bGVmdDowLHJpZ2h0OjAsdG9wOjAsYm90dG9tOjB9O2Z1bmN0aW9uIFduKGUsdCxuKXtmb3IodmFyIHIsaSxvLGEscyxsLHU9MDt1PGUubGVuZ3RoO3UrPTMpaWYocz1lW3VdLGw9ZVt1KzFdLHQ8cz8oaT0wLG89MSxhPVwibGVmdFwiKTp0PGw/bz0xKyhpPXQtcyk6KHU9PWUubGVuZ3RoLTN8fHQ9PWwmJmVbdSszXT50KSYmKGk9KG89bC1zKS0xLHQ+PWwmJihhPVwicmlnaHRcIikpLG51bGwhPWkpe2lmKHI9ZVt1KzJdLHM9PWwmJm49PShyLmluc2VydExlZnQ/XCJsZWZ0XCI6XCJyaWdodFwiKSYmKGE9biksXCJsZWZ0XCI9PW4mJjA9PWkpZm9yKDt1JiZlW3UtMl09PWVbdS0zXSYmZVt1LTFdLmluc2VydExlZnQ7KXI9ZVsyKyh1LT0zKV0sYT1cImxlZnRcIjtpZihcInJpZ2h0XCI9PW4mJmk9PWwtcylmb3IoO3U8ZS5sZW5ndGgtMyYmZVt1KzNdPT1lW3UrNF0mJiFlW3UrNV0uaW5zZXJ0TGVmdDspcj1lWyh1Kz0zKSsyXSxhPVwicmlnaHRcIjticmVha31yZXR1cm57bm9kZTpyLHN0YXJ0OmksZW5kOm8sY29sbGFwc2U6YSxjb3ZlclN0YXJ0OnMsY292ZXJFbmQ6bH19ZnVuY3Rpb24gUm4oZSx0KXt2YXIgbj1EbjtpZihcImxlZnRcIj09dClmb3IodmFyIHI9MDtyPGUubGVuZ3RoJiYobj1lW3JdKS5sZWZ0PT1uLnJpZ2h0O3IrKyk7ZWxzZSBmb3IodmFyIGk9ZS5sZW5ndGgtMTtpPj0wJiYobj1lW2ldKS5sZWZ0PT1uLnJpZ2h0O2ktLSk7cmV0dXJuIG59ZnVuY3Rpb24gem4oZSl7aWYoZS5tZWFzdXJlJiYoZS5tZWFzdXJlLmNhY2hlPXt9LGUubWVhc3VyZS5oZWlnaHRzPW51bGwsZS5yZXN0KSlmb3IodmFyIHQ9MDt0PGUucmVzdC5sZW5ndGg7dCsrKWUubWVhc3VyZS5jYWNoZXNbdF09e319ZnVuY3Rpb24gRm4oZSl7ZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZT1udWxsLFMoZS5kaXNwbGF5LmxpbmVNZWFzdXJlKTtmb3IodmFyIHQ9MDt0PGUuZGlzcGxheS52aWV3Lmxlbmd0aDt0Kyspem4oZS5kaXNwbGF5LnZpZXdbdF0pfWZ1bmN0aW9uIEhuKGUpe0ZuKGUpLGUuZGlzcGxheS5jYWNoZWRDaGFyV2lkdGg9ZS5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQ9ZS5kaXNwbGF5LmNhY2hlZFBhZGRpbmdIPW51bGwsZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KGUuZGlzcGxheS5tYXhMaW5lQ2hhbmdlZD0hMCksZS5kaXNwbGF5LmxpbmVOdW1DaGFycz1udWxsfWZ1bmN0aW9uIEJuKCl7cmV0dXJuIGMmJnY/LShkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5tYXJnaW5MZWZ0KSk6d2luZG93LnBhZ2VYT2Zmc2V0fHwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0fWZ1bmN0aW9uIGpuKCl7cmV0dXJuIGMmJnY/LShkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC1wYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLm1hcmdpblRvcCkpOndpbmRvdy5wYWdlWU9mZnNldHx8KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wfWZ1bmN0aW9uIEduKGUpe3ZhciB0PTA7aWYoZS53aWRnZXRzKWZvcih2YXIgbj0wO248ZS53aWRnZXRzLmxlbmd0aDsrK24pZS53aWRnZXRzW25dLmFib3ZlJiYodCs9QW4oZS53aWRnZXRzW25dKSk7cmV0dXJuIHR9ZnVuY3Rpb24gVm4oZSx0LG4scixpKXtpZighaSl7dmFyIG89R24odCk7bi50b3ArPW8sbi5ib3R0b20rPW99aWYoXCJsaW5lXCI9PXIpcmV0dXJuIG47cnx8KHI9XCJsb2NhbFwiKTt2YXIgYT1ZZSh0KTtpZihcImxvY2FsXCI9PXI/YSs9Q24oZS5kaXNwbGF5KTphLT1lLmRpc3BsYXkudmlld09mZnNldCxcInBhZ2VcIj09cnx8XCJ3aW5kb3dcIj09cil7dmFyIHM9ZS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthKz1zLnRvcCsoXCJ3aW5kb3dcIj09cj8wOmpuKCkpO3ZhciBsPXMubGVmdCsoXCJ3aW5kb3dcIj09cj8wOkJuKCkpO24ubGVmdCs9bCxuLnJpZ2h0Kz1sfXJldHVybiBuLnRvcCs9YSxuLmJvdHRvbSs9YSxufWZ1bmN0aW9uIFVuKGUsdCxuKXtpZihcImRpdlwiPT1uKXJldHVybiB0O3ZhciByPXQubGVmdCxpPXQudG9wO2lmKFwicGFnZVwiPT1uKXItPUJuKCksaS09am4oKTtlbHNlIGlmKFwibG9jYWxcIj09bnx8IW4pe3ZhciBvPWUuZGlzcGxheS5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyKz1vLmxlZnQsaSs9by50b3B9dmFyIGE9ZS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57bGVmdDpyLWEubGVmdCx0b3A6aS1hLnRvcH19ZnVuY3Rpb24gWm4oZSx0LG4scixpKXtyZXR1cm4gcnx8KHI9c2UoZS5kb2MsdC5saW5lKSksVm4oZSxyLFRuKGUscix0LmNoLGkpLG4pfWZ1bmN0aW9uIFluKGUsdCxuLHIsaSxvKXtmdW5jdGlvbiBhKHQsYSl7dmFyIHM9RW4oZSxpLHQsYT9cInJpZ2h0XCI6XCJsZWZ0XCIsbyk7cmV0dXJuIGE/cy5sZWZ0PXMucmlnaHQ6cy5yaWdodD1zLmxlZnQsVm4oZSxyLHMsbil9cj1yfHxzZShlLmRvYyx0LmxpbmUpLGl8fChpPU5uKGUscikpO3ZhciBzPXFlKHIsZS5kb2MuZGlyZWN0aW9uKSxsPXQuY2gsdT10LnN0aWNreTtpZihsPj1yLnRleHQubGVuZ3RoPyhsPXIudGV4dC5sZW5ndGgsdT1cImJlZm9yZVwiKTpsPD0wJiYobD0wLHU9XCJhZnRlclwiKSwhcylyZXR1cm4gYShcImJlZm9yZVwiPT11P2wtMTpsLFwiYmVmb3JlXCI9PXUpO2Z1bmN0aW9uIGMoZSx0LG4pe3ZhciByPXNbdF0saT0xPT1yLmxldmVsO3JldHVybiBhKG4/ZS0xOmUsaSE9bil9dmFyIGg9S2UocyxsLHUpLGQ9X2UsZj1jKGwsaCxcImJlZm9yZVwiPT11KTtyZXR1cm4gbnVsbCE9ZCYmKGYub3RoZXI9YyhsLGQsXCJiZWZvcmVcIiE9dSkpLGZ9ZnVuY3Rpb24gUW4oZSx0KXt2YXIgbj0wO3Q9Q2UoZS5kb2MsdCksZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KG49dHIoZS5kaXNwbGF5KSp0LmNoKTt2YXIgcj1zZShlLmRvYyx0LmxpbmUpLGk9WWUocikrQ24oZS5kaXNwbGF5KTtyZXR1cm57bGVmdDpuLHJpZ2h0Om4sdG9wOmksYm90dG9tOmkrci5oZWlnaHR9fWZ1bmN0aW9uIFhuKGUsdCxuLHIsaSl7dmFyIG89Z2UoZSx0LG4pO3JldHVybiBvLnhSZWw9aSxyJiYoby5vdXRzaWRlPSEwKSxvfWZ1bmN0aW9uIF9uKGUsdCxuKXt2YXIgcj1lLmRvYztpZigobis9ZS5kaXNwbGF5LnZpZXdPZmZzZXQpPDApcmV0dXJuIFhuKHIuZmlyc3QsMCxudWxsLCEwLC0xKTt2YXIgaT1kZShyLG4pLG89ci5maXJzdCtyLnNpemUtMTtpZihpPm8pcmV0dXJuIFhuKHIuZmlyc3Qrci5zaXplLTEsc2UocixvKS50ZXh0Lmxlbmd0aCxudWxsLCEwLDEpO3Q8MCYmKHQ9MCk7Zm9yKHZhciBhPXNlKHIsaSk7Oyl7dmFyIHM9JG4oZSxhLGksdCxuKSxsPUhlKGEscy5jaCsocy54UmVsPjA/MTowKSk7aWYoIWwpcmV0dXJuIHM7dmFyIHU9bC5maW5kKDEpO2lmKHUubGluZT09aSlyZXR1cm4gdTthPXNlKHIsaT11LmxpbmUpfX1mdW5jdGlvbiBLbihlLHQsbixyKXtyLT1Hbih0KTt2YXIgaT10LnRleHQubGVuZ3RoLG89YWUoZnVuY3Rpb24odCl7cmV0dXJuIEVuKGUsbix0LTEpLmJvdHRvbTw9cn0saSwwKTtyZXR1cm4gaT1hZShmdW5jdGlvbih0KXtyZXR1cm4gRW4oZSxuLHQpLnRvcD5yfSxvLGkpLHtiZWdpbjpvLGVuZDppfX1mdW5jdGlvbiBKbihlLHQsbixyKXtufHwobj1ObihlLHQpKTt2YXIgaT1WbihlLHQsRW4oZSxuLHIpLFwibGluZVwiKS50b3A7cmV0dXJuIEtuKGUsdCxuLGkpfWZ1bmN0aW9uIHFuKGUsdCxuLHIpe3JldHVybiEoZS5ib3R0b208PW4pJiYoZS50b3A+bnx8KHI/ZS5sZWZ0OmUucmlnaHQpPnQpfWZ1bmN0aW9uICRuKGUsdCxuLHIsaSl7aS09WWUodCk7dmFyIG89Tm4oZSx0KSxhPUduKHQpLHM9MCxsPXQudGV4dC5sZW5ndGgsdT0hMCxjPXFlKHQsZS5kb2MuZGlyZWN0aW9uKTtpZihjKXt2YXIgaD0oZS5vcHRpb25zLmxpbmVXcmFwcGluZz9mdW5jdGlvbihlLHQsbixyLGksbyxhKXt2YXIgcz1LbihlLHQscixhKSxsPXMuYmVnaW4sdT1zLmVuZDsvXFxzLy50ZXN0KHQudGV4dC5jaGFyQXQodS0xKSkmJnUtLTtmb3IodmFyIGM9bnVsbCxoPW51bGwsZD0wO2Q8aS5sZW5ndGg7ZCsrKXt2YXIgZj1pW2RdO2lmKCEoZi5mcm9tPj11fHxmLnRvPD1sKSl7dmFyIHA9MSE9Zi5sZXZlbCxnPUVuKGUscixwP01hdGgubWluKHUsZi50byktMTpNYXRoLm1heChsLGYuZnJvbSkpLnJpZ2h0LHY9ZzxvP28tZysxZTk6Zy1vOyghY3x8aD52KSYmKGM9ZixoPXYpfX1yZXR1cm4gY3x8KGM9aVtpLmxlbmd0aC0xXSksYy5mcm9tPGwmJihjPXtmcm9tOmwsdG86Yy50byxsZXZlbDpjLmxldmVsfSksYy50bz51JiYoYz17ZnJvbTpjLmZyb20sdG86dSxsZXZlbDpjLmxldmVsfSksY306ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9YWUoZnVuY3Rpb24ocyl7dmFyIGw9aVtzXSx1PTEhPWwubGV2ZWw7cmV0dXJuIHFuKFluKGUsZ2Uobix1P2wudG86bC5mcm9tLHU/XCJiZWZvcmVcIjpcImFmdGVyXCIpLFwibGluZVwiLHQsciksbyxhLCEwKX0sMCxpLmxlbmd0aC0xKSxsPWlbc107aWYocz4wKXt2YXIgdT0xIT1sLmxldmVsLGM9WW4oZSxnZShuLHU/bC5mcm9tOmwudG8sdT9cImFmdGVyXCI6XCJiZWZvcmVcIiksXCJsaW5lXCIsdCxyKTtxbihjLG8sYSwhMCkmJmMudG9wPmEmJihsPWlbcy0xXSl9cmV0dXJuIGx9KShlLHQsbixvLGMscixpKTt1PTEhPWgubGV2ZWwscz11P2guZnJvbTpoLnRvLTEsbD11P2gudG86aC5mcm9tLTF9dmFyIGQsZixwPW51bGwsZz1udWxsLHY9YWUoZnVuY3Rpb24odCl7dmFyIG49RW4oZSxvLHQpO3JldHVybiBuLnRvcCs9YSxuLmJvdHRvbSs9YSwhIXFuKG4scixpLCExKSYmKG4udG9wPD1pJiZuLmxlZnQ8PXImJihwPXQsZz1uKSwhMCl9LHMsbCksbT0hMTtpZihnKXt2YXIgYj1yLWcubGVmdDxnLnJpZ2h0LXIseT1iPT11O3Y9cCsoeT8wOjEpLGY9eT9cImFmdGVyXCI6XCJiZWZvcmVcIixkPWI/Zy5sZWZ0OmcucmlnaHR9ZWxzZXt1fHx2IT1sJiZ2IT1zfHx2KyssZj0wPT12P1wiYWZ0ZXJcIjp2PT10LnRleHQubGVuZ3RoP1wiYmVmb3JlXCI6RW4oZSxvLHYtKHU/MTowKSkuYm90dG9tK2E8PWk9PXU/XCJhZnRlclwiOlwiYmVmb3JlXCI7dmFyIEE9WW4oZSxnZShuLHYsZiksXCJsaW5lXCIsdCxvKTtkPUEubGVmdCxtPWk8QS50b3B8fGk+PUEuYm90dG9tfXJldHVybiB2PW9lKHQudGV4dCx2LDEpLFhuKG4sdixmLG0sci1kKX1mdW5jdGlvbiBlcihlKXtpZihudWxsIT1lLmNhY2hlZFRleHRIZWlnaHQpcmV0dXJuIGUuY2FjaGVkVGV4dEhlaWdodDtpZihudWxsPT1Qbil7UG49VChcInByZVwiKTtmb3IodmFyIHQ9MDt0PDQ5OysrdClQbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpLFBuLmFwcGVuZENoaWxkKFQoXCJiclwiKSk7UG4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpKX1MKGUubWVhc3VyZSxQbik7dmFyIG49UG4ub2Zmc2V0SGVpZ2h0LzUwO3JldHVybiBuPjMmJihlLmNhY2hlZFRleHRIZWlnaHQ9biksUyhlLm1lYXN1cmUpLG58fDF9ZnVuY3Rpb24gdHIoZSl7aWYobnVsbCE9ZS5jYWNoZWRDaGFyV2lkdGgpcmV0dXJuIGUuY2FjaGVkQ2hhcldpZHRoO3ZhciB0PVQoXCJzcGFuXCIsXCJ4eHh4eHh4eHh4XCIpLG49VChcInByZVwiLFt0XSk7TChlLm1lYXN1cmUsbik7dmFyIHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPShyLnJpZ2h0LXIubGVmdCkvMTA7cmV0dXJuIGk+MiYmKGUuY2FjaGVkQ2hhcldpZHRoPWkpLGl8fDEwfWZ1bmN0aW9uIG5yKGUpe2Zvcih2YXIgdD1lLmRpc3BsYXksbj17fSxyPXt9LGk9dC5ndXR0ZXJzLmNsaWVudExlZnQsbz10Lmd1dHRlcnMuZmlyc3RDaGlsZCxhPTA7bztvPW8ubmV4dFNpYmxpbmcsKythKW5bZS5vcHRpb25zLmd1dHRlcnNbYV1dPW8ub2Zmc2V0TGVmdCtvLmNsaWVudExlZnQraSxyW2Uub3B0aW9ucy5ndXR0ZXJzW2FdXT1vLmNsaWVudFdpZHRoO3JldHVybntmaXhlZFBvczpycih0KSxndXR0ZXJUb3RhbFdpZHRoOnQuZ3V0dGVycy5vZmZzZXRXaWR0aCxndXR0ZXJMZWZ0Om4sZ3V0dGVyV2lkdGg6cix3cmFwcGVyV2lkdGg6dC53cmFwcGVyLmNsaWVudFdpZHRofX1mdW5jdGlvbiBycihlKXtyZXR1cm4gZS5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWUuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH1mdW5jdGlvbiBpcihlKXt2YXIgdD1lcihlLmRpc3BsYXkpLG49ZS5vcHRpb25zLmxpbmVXcmFwcGluZyxyPW4mJk1hdGgubWF4KDUsZS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoL3RyKGUuZGlzcGxheSktMyk7cmV0dXJuIGZ1bmN0aW9uKGkpe2lmKFVlKGUuZG9jLGkpKXJldHVybiAwO3ZhciBvPTA7aWYoaS53aWRnZXRzKWZvcih2YXIgYT0wO2E8aS53aWRnZXRzLmxlbmd0aDthKyspaS53aWRnZXRzW2FdLmhlaWdodCYmKG8rPWkud2lkZ2V0c1thXS5oZWlnaHQpO3JldHVybiBuP28rKE1hdGguY2VpbChpLnRleHQubGVuZ3RoL3IpfHwxKSp0Om8rdH19ZnVuY3Rpb24gb3IoZSl7dmFyIHQ9ZS5kb2Msbj1pcihlKTt0Lml0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ9bihlKTt0IT1lLmhlaWdodCYmY2UoZSx0KX0pfWZ1bmN0aW9uIGFyKGUsdCxuLHIpe3ZhciBpPWUuZGlzcGxheTtpZighbiYmXCJ0cnVlXCI9PWR0KHQpLmdldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIpKXJldHVybiBudWxsO3ZhciBvLGEscz1pLmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0cnl7bz10LmNsaWVudFgtcy5sZWZ0LGE9dC5jbGllbnRZLXMudG9wfWNhdGNoKHQpe3JldHVybiBudWxsfXZhciBsLHU9X24oZSxvLGEpO2lmKHImJjE9PXUueFJlbCYmKGw9c2UoZS5kb2MsdS5saW5lKS50ZXh0KS5sZW5ndGg9PXUuY2gpe3ZhciBjPUYobCxsLmxlbmd0aCxlLm9wdGlvbnMudGFiU2l6ZSktbC5sZW5ndGg7dT1nZSh1LmxpbmUsTWF0aC5tYXgoMCxNYXRoLnJvdW5kKChvLWtuKGUuZGlzcGxheSkubGVmdCkvdHIoZS5kaXNwbGF5KSktYykpfXJldHVybiB1fWZ1bmN0aW9uIHNyKGUsdCl7aWYodD49ZS5kaXNwbGF5LnZpZXdUbylyZXR1cm4gbnVsbDtpZigodC09ZS5kaXNwbGF5LnZpZXdGcm9tKTwwKXJldHVybiBudWxsO2Zvcih2YXIgbj1lLmRpc3BsYXkudmlldyxyPTA7cjxuLmxlbmd0aDtyKyspaWYoKHQtPW5bcl0uc2l6ZSk8MClyZXR1cm4gcn1mdW5jdGlvbiBscihlKXtlLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihlLmRpc3BsYXkuaW5wdXQucHJlcGFyZVNlbGVjdGlvbigpKX1mdW5jdGlvbiB1cihlLHQpe3ZvaWQgMD09PXQmJih0PSEwKTtmb3IodmFyIG49ZS5kb2Mscj17fSxpPXIuY3Vyc29ycz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz1yLnNlbGVjdGlvbj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYT0wO2E8bi5zZWwucmFuZ2VzLmxlbmd0aDthKyspaWYodHx8YSE9bi5zZWwucHJpbUluZGV4KXt2YXIgcz1uLnNlbC5yYW5nZXNbYV07aWYoIShzLmZyb20oKS5saW5lPj1lLmRpc3BsYXkudmlld1RvfHxzLnRvKCkubGluZTxlLmRpc3BsYXkudmlld0Zyb20pKXt2YXIgbD1zLmVtcHR5KCk7KGx8fGUub3B0aW9ucy5zaG93Q3Vyc29yV2hlblNlbGVjdGluZykmJmNyKGUscy5oZWFkLGkpLGx8fGRyKGUscyxvKX19cmV0dXJuIHJ9ZnVuY3Rpb24gY3IoZSx0LG4pe3ZhciByPVluKGUsdCxcImRpdlwiLG51bGwsbnVsbCwhZS5vcHRpb25zLnNpbmdsZUN1cnNvckhlaWdodFBlckxpbmUpLGk9bi5hcHBlbmRDaGlsZChUKFwiZGl2XCIsXCLCoFwiLFwiQ29kZU1pcnJvci1jdXJzb3JcIikpO2lmKGkuc3R5bGUubGVmdD1yLmxlZnQrXCJweFwiLGkuc3R5bGUudG9wPXIudG9wK1wicHhcIixpLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLHIuYm90dG9tLXIudG9wKSplLm9wdGlvbnMuY3Vyc29ySGVpZ2h0K1wicHhcIixyLm90aGVyKXt2YXIgbz1uLmFwcGVuZENoaWxkKFQoXCJkaXZcIixcIsKgXCIsXCJDb2RlTWlycm9yLWN1cnNvciBDb2RlTWlycm9yLXNlY29uZGFyeWN1cnNvclwiKSk7by5zdHlsZS5kaXNwbGF5PVwiXCIsby5zdHlsZS5sZWZ0PXIub3RoZXIubGVmdCtcInB4XCIsby5zdHlsZS50b3A9ci5vdGhlci50b3ArXCJweFwiLG8uc3R5bGUuaGVpZ2h0PS44NSooci5vdGhlci5ib3R0b20tci5vdGhlci50b3ApK1wicHhcIn19ZnVuY3Rpb24gaHIoZSx0KXtyZXR1cm4gZS50b3AtdC50b3B8fGUubGVmdC10LmxlZnR9ZnVuY3Rpb24gZHIoZSx0LG4pe3ZhciByPWUuZGlzcGxheSxpPWUuZG9jLG89ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGE9a24oZS5kaXNwbGF5KSxzPWEubGVmdCxsPU1hdGgubWF4KHIuc2l6ZXJXaWR0aCxNbihlKS1yLnNpemVyLm9mZnNldExlZnQpLWEucmlnaHQsdT1cImx0clwiPT1pLmRpcmVjdGlvbjtmdW5jdGlvbiBjKGUsdCxuLHIpe3Q8MCYmKHQ9MCksdD1NYXRoLnJvdW5kKHQpLHI9TWF0aC5yb3VuZChyKSxvLmFwcGVuZENoaWxkKFQoXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1zZWxlY3RlZFwiLFwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiBcIitlK1wicHg7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiK3QrXCJweDsgd2lkdGg6IFwiKyhudWxsPT1uP2wtZTpuKStcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIisoci10KStcInB4XCIpKX1mdW5jdGlvbiBoKHQsbixyKXt2YXIgbyxhLGg9c2UoaSx0KSxkPWgudGV4dC5sZW5ndGg7ZnVuY3Rpb24gZihuLHIpe3JldHVybiBabihlLGdlKHQsbiksXCJkaXZcIixoLHIpfWZ1bmN0aW9uIHAodCxuLHIpe3ZhciBpPUpuKGUsaCxudWxsLHQpLG89XCJsdHJcIj09bj09KFwiYWZ0ZXJcIj09cik/XCJsZWZ0XCI6XCJyaWdodFwiLGE9XCJhZnRlclwiPT1yP2kuYmVnaW46aS5lbmQtKC9cXHMvLnRlc3QoaC50ZXh0LmNoYXJBdChpLmVuZC0xKSk/MjoxKTtyZXR1cm4gZihhLG8pW29dfXZhciBnPXFlKGgsaS5kaXJlY3Rpb24pO3JldHVybiBmdW5jdGlvbihlLHQsbixyKXtpZighZSlyZXR1cm4gcih0LG4sXCJsdHJcIiwwKTtmb3IodmFyIGk9ITEsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgYT1lW29dOyhhLmZyb208biYmYS50bz50fHx0PT1uJiZhLnRvPT10KSYmKHIoTWF0aC5tYXgoYS5mcm9tLHQpLE1hdGgubWluKGEudG8sbiksMT09YS5sZXZlbD9cInJ0bFwiOlwibHRyXCIsbyksaT0hMCl9aXx8cih0LG4sXCJsdHJcIil9KGcsbnx8MCxudWxsPT1yP2Q6cixmdW5jdGlvbihlLHQsaSxoKXt2YXIgdj1cImx0clwiPT1pLG09ZihlLHY/XCJsZWZ0XCI6XCJyaWdodFwiKSxiPWYodC0xLHY/XCJyaWdodFwiOlwibGVmdFwiKSx5PW51bGw9PW4mJjA9PWUsQT1udWxsPT1yJiZ0PT1kLHc9MD09aCxDPSFnfHxoPT1nLmxlbmd0aC0xO2lmKGIudG9wLW0udG9wPD0zKXt2YXIgeD0odT95OkEpJiZ3LGs9KHU/QTp5KSYmQyxJPXg/czoodj9tOmIpLmxlZnQsTT1rP2w6KHY/YjptKS5yaWdodDtjKEksbS50b3AsTS1JLG0uYm90dG9tKX1lbHNle3ZhciBTLEwsVCxPO3Y/KFM9dSYmeSYmdz9zOm0ubGVmdCxMPXU/bDpwKGUsaSxcImJlZm9yZVwiKSxUPXU/czpwKHQsaSxcImFmdGVyXCIpLE89dSYmQSYmQz9sOmIucmlnaHQpOihTPXU/cChlLGksXCJiZWZvcmVcIik6cyxMPSF1JiZ5JiZ3P2w6bS5yaWdodCxUPSF1JiZBJiZDP3M6Yi5sZWZ0LE89dT9wKHQsaSxcImFmdGVyXCIpOmwpLGMoUyxtLnRvcCxMLVMsbS5ib3R0b20pLG0uYm90dG9tPGIudG9wJiZjKHMsbS5ib3R0b20sbnVsbCxiLnRvcCksYyhULGIudG9wLE8tVCxiLmJvdHRvbSl9KCFvfHxocihtLG8pPDApJiYobz1tKSxocihiLG8pPDAmJihvPWIpLCghYXx8aHIobSxhKTwwKSYmKGE9bSksaHIoYixhKTwwJiYoYT1iKX0pLHtzdGFydDpvLGVuZDphfX12YXIgZD10LmZyb20oKSxmPXQudG8oKTtpZihkLmxpbmU9PWYubGluZSloKGQubGluZSxkLmNoLGYuY2gpO2Vsc2V7dmFyIHA9c2UoaSxkLmxpbmUpLGc9c2UoaSxmLmxpbmUpLHY9amUocCk9PWplKGcpLG09aChkLmxpbmUsZC5jaCx2P3AudGV4dC5sZW5ndGgrMTpudWxsKS5lbmQsYj1oKGYubGluZSx2PzA6bnVsbCxmLmNoKS5zdGFydDt2JiYobS50b3A8Yi50b3AtMj8oYyhtLnJpZ2h0LG0udG9wLG51bGwsbS5ib3R0b20pLGMocyxiLnRvcCxiLmxlZnQsYi5ib3R0b20pKTpjKG0ucmlnaHQsbS50b3AsYi5sZWZ0LW0ucmlnaHQsbS5ib3R0b20pKSxtLmJvdHRvbTxiLnRvcCYmYyhzLG0uYm90dG9tLG51bGwsYi50b3ApfW4uYXBwZW5kQ2hpbGQobyl9ZnVuY3Rpb24gZnIoZSl7aWYoZS5zdGF0ZS5mb2N1c2VkKXt2YXIgdD1lLmRpc3BsYXk7Y2xlYXJJbnRlcnZhbCh0LmJsaW5rZXIpO3ZhciBuPSEwO3QuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHk9XCJcIixlLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlPjA/dC5ibGlua2VyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHk9KG49IW4pP1wiXCI6XCJoaWRkZW5cIn0sZS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSk6ZS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZTwwJiYodC5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiKX19ZnVuY3Rpb24gcHIoZSl7ZS5zdGF0ZS5mb2N1c2VkfHwoZS5kaXNwbGF5LmlucHV0LmZvY3VzKCksdnIoZSkpfWZ1bmN0aW9uIGdyKGUpe2Uuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQ9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe2Uuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQmJihlLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50PSExLG1yKGUpKX0sMTAwKX1mdW5jdGlvbiB2cihlLHQpe2Uuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQmJihlLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50PSExKSxcIm5vY3Vyc29yXCIhPWUub3B0aW9ucy5yZWFkT25seSYmKGUuc3RhdGUuZm9jdXNlZHx8KHJ0KGUsXCJmb2N1c1wiLGUsdCksZS5zdGF0ZS5mb2N1c2VkPSEwLFAoZS5kaXNwbGF5LndyYXBwZXIsXCJDb2RlTWlycm9yLWZvY3VzZWRcIiksZS5jdXJPcHx8ZS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51PT1lLmRvYy5zZWx8fChlLmRpc3BsYXkuaW5wdXQucmVzZXQoKSxsJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGlzcGxheS5pbnB1dC5yZXNldCghMCl9LDIwKSksZS5kaXNwbGF5LmlucHV0LnJlY2VpdmVkRm9jdXMoKSksZnIoZSkpfWZ1bmN0aW9uIG1yKGUsdCl7ZS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudHx8KGUuc3RhdGUuZm9jdXNlZCYmKHJ0KGUsXCJibHVyXCIsZSx0KSxlLnN0YXRlLmZvY3VzZWQ9ITEsTShlLmRpc3BsYXkud3JhcHBlcixcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKSksY2xlYXJJbnRlcnZhbChlLmRpc3BsYXkuYmxpbmtlciksc2V0VGltZW91dChmdW5jdGlvbigpe2Uuc3RhdGUuZm9jdXNlZHx8KGUuZGlzcGxheS5zaGlmdD0hMSl9LDE1MCkpfWZ1bmN0aW9uIGJyKGUpe2Zvcih2YXIgdD1lLmRpc3BsYXksbj10LmxpbmVEaXYub2Zmc2V0VG9wLHI9MDtyPHQudmlldy5sZW5ndGg7cisrKXt2YXIgaT10LnZpZXdbcl0sbz1lLm9wdGlvbnMubGluZVdyYXBwaW5nLGw9dm9pZCAwLHU9MDtpZighaS5oaWRkZW4pe2lmKGEmJnM8OCl7dmFyIGM9aS5ub2RlLm9mZnNldFRvcCtpLm5vZGUub2Zmc2V0SGVpZ2h0O2w9Yy1uLG49Y31lbHNle3ZhciBoPWkubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsPWguYm90dG9tLWgudG9wLCFvJiZpLnRleHQuZmlyc3RDaGlsZCYmKHU9aS50ZXh0LmZpcnN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQtaC5sZWZ0LTEpfXZhciBkPWkubGluZS5oZWlnaHQtbDtpZihsPDImJihsPWVyKHQpKSwoZD4uMDA1fHxkPC0uMDA1KSYmKGNlKGkubGluZSxsKSx5cihpLmxpbmUpLGkucmVzdCkpZm9yKHZhciBmPTA7ZjxpLnJlc3QubGVuZ3RoO2YrKyl5cihpLnJlc3RbZl0pO2lmKHU+ZS5kaXNwbGF5LnNpemVyV2lkdGgpe3ZhciBwPU1hdGguY2VpbCh1L3RyKGUuZGlzcGxheSkpO3A+ZS5kaXNwbGF5Lm1heExpbmVMZW5ndGgmJihlLmRpc3BsYXkubWF4TGluZUxlbmd0aD1wLGUuZGlzcGxheS5tYXhMaW5lPWkubGluZSxlLmRpc3BsYXkubWF4TGluZUNoYW5nZWQ9ITApfX19fWZ1bmN0aW9uIHlyKGUpe2lmKGUud2lkZ2V0cylmb3IodmFyIHQ9MDt0PGUud2lkZ2V0cy5sZW5ndGg7Kyt0KXt2YXIgbj1lLndpZGdldHNbdF0scj1uLm5vZGUucGFyZW50Tm9kZTtyJiYobi5oZWlnaHQ9ci5vZmZzZXRIZWlnaHQpfX1mdW5jdGlvbiBBcihlLHQsbil7dmFyIHI9biYmbnVsbCE9bi50b3A/TWF0aC5tYXgoMCxuLnRvcCk6ZS5zY3JvbGxlci5zY3JvbGxUb3A7cj1NYXRoLmZsb29yKHItQ24oZSkpO3ZhciBpPW4mJm51bGwhPW4uYm90dG9tP24uYm90dG9tOnIrZS53cmFwcGVyLmNsaWVudEhlaWdodCxvPWRlKHQsciksYT1kZSh0LGkpO2lmKG4mJm4uZW5zdXJlKXt2YXIgcz1uLmVuc3VyZS5mcm9tLmxpbmUsbD1uLmVuc3VyZS50by5saW5lO3M8bz8obz1zLGE9ZGUodCxZZShzZSh0LHMpKStlLndyYXBwZXIuY2xpZW50SGVpZ2h0KSk6TWF0aC5taW4obCx0Lmxhc3RMaW5lKCkpPj1hJiYobz1kZSh0LFllKHNlKHQsbCkpLWUud3JhcHBlci5jbGllbnRIZWlnaHQpLGE9bCl9cmV0dXJue2Zyb206byx0bzpNYXRoLm1heChhLG8rMSl9fWZ1bmN0aW9uIHdyKGUpe3ZhciB0PWUuZGlzcGxheSxuPXQudmlldztpZih0LmFsaWduV2lkZ2V0c3x8dC5ndXR0ZXJzLmZpcnN0Q2hpbGQmJmUub3B0aW9ucy5maXhlZEd1dHRlcil7Zm9yKHZhciByPXJyKHQpLXQuc2Nyb2xsZXIuc2Nyb2xsTGVmdCtlLmRvYy5zY3JvbGxMZWZ0LGk9dC5ndXR0ZXJzLm9mZnNldFdpZHRoLG89citcInB4XCIsYT0wO2E8bi5sZW5ndGg7YSsrKWlmKCFuW2FdLmhpZGRlbil7ZS5vcHRpb25zLmZpeGVkR3V0dGVyJiYoblthXS5ndXR0ZXImJihuW2FdLmd1dHRlci5zdHlsZS5sZWZ0PW8pLG5bYV0uZ3V0dGVyQmFja2dyb3VuZCYmKG5bYV0uZ3V0dGVyQmFja2dyb3VuZC5zdHlsZS5sZWZ0PW8pKTt2YXIgcz1uW2FdLmFsaWduYWJsZTtpZihzKWZvcih2YXIgbD0wO2w8cy5sZW5ndGg7bCsrKXNbbF0uc3R5bGUubGVmdD1vfWUub3B0aW9ucy5maXhlZEd1dHRlciYmKHQuZ3V0dGVycy5zdHlsZS5sZWZ0PXIraStcInB4XCIpfX1mdW5jdGlvbiBDcihlKXtpZighZS5vcHRpb25zLmxpbmVOdW1iZXJzKXJldHVybiExO3ZhciB0PWUuZG9jLG49cGUoZS5vcHRpb25zLHQuZmlyc3QrdC5zaXplLTEpLHI9ZS5kaXNwbGF5O2lmKG4ubGVuZ3RoIT1yLmxpbmVOdW1DaGFycyl7dmFyIGk9ci5tZWFzdXJlLmFwcGVuZENoaWxkKFQoXCJkaXZcIixbVChcImRpdlwiLG4pXSxcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIikpLG89aS5maXJzdENoaWxkLm9mZnNldFdpZHRoLGE9aS5vZmZzZXRXaWR0aC1vO3JldHVybiByLmxpbmVHdXR0ZXIuc3R5bGUud2lkdGg9XCJcIixyLmxpbmVOdW1Jbm5lcldpZHRoPU1hdGgubWF4KG8sci5saW5lR3V0dGVyLm9mZnNldFdpZHRoLWEpKzEsci5saW5lTnVtV2lkdGg9ci5saW5lTnVtSW5uZXJXaWR0aCthLHIubGluZU51bUNoYXJzPXIubGluZU51bUlubmVyV2lkdGg/bi5sZW5ndGg6LTEsci5saW5lR3V0dGVyLnN0eWxlLndpZHRoPXIubGluZU51bVdpZHRoK1wicHhcIixsaShlKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiB4cihlLHQpe3ZhciBuPWUuZGlzcGxheSxyPWVyKGUuZGlzcGxheSk7dC50b3A8MCYmKHQudG9wPTApO3ZhciBpPWUuY3VyT3AmJm51bGwhPWUuY3VyT3Auc2Nyb2xsVG9wP2UuY3VyT3Auc2Nyb2xsVG9wOm4uc2Nyb2xsZXIuc2Nyb2xsVG9wLG89U24oZSksYT17fTt0LmJvdHRvbS10LnRvcD5vJiYodC5ib3R0b209dC50b3Arbyk7dmFyIHM9ZS5kb2MuaGVpZ2h0K3huKG4pLGw9dC50b3A8cix1PXQuYm90dG9tPnMtcjtpZih0LnRvcDxpKWEuc2Nyb2xsVG9wPWw/MDp0LnRvcDtlbHNlIGlmKHQuYm90dG9tPmkrbyl7dmFyIGM9TWF0aC5taW4odC50b3AsKHU/czp0LmJvdHRvbSktbyk7YyE9aSYmKGEuc2Nyb2xsVG9wPWMpfXZhciBoPWUuY3VyT3AmJm51bGwhPWUuY3VyT3Auc2Nyb2xsTGVmdD9lLmN1ck9wLnNjcm9sbExlZnQ6bi5zY3JvbGxlci5zY3JvbGxMZWZ0LGQ9TW4oZSktKGUub3B0aW9ucy5maXhlZEd1dHRlcj9uLmd1dHRlcnMub2Zmc2V0V2lkdGg6MCksZj10LnJpZ2h0LXQubGVmdD5kO3JldHVybiBmJiYodC5yaWdodD10LmxlZnQrZCksdC5sZWZ0PDEwP2Euc2Nyb2xsTGVmdD0wOnQubGVmdDxoP2Euc2Nyb2xsTGVmdD1NYXRoLm1heCgwLHQubGVmdC0oZj8wOjEwKSk6dC5yaWdodD5kK2gtMyYmKGEuc2Nyb2xsTGVmdD10LnJpZ2h0KyhmPzA6MTApLWQpLGF9ZnVuY3Rpb24ga3IoZSx0KXtudWxsIT10JiYoU3IoZSksZS5jdXJPcC5zY3JvbGxUb3A9KG51bGw9PWUuY3VyT3Auc2Nyb2xsVG9wP2UuZG9jLnNjcm9sbFRvcDplLmN1ck9wLnNjcm9sbFRvcCkrdCl9ZnVuY3Rpb24gSXIoZSl7U3IoZSk7dmFyIHQ9ZS5nZXRDdXJzb3IoKTtlLmN1ck9wLnNjcm9sbFRvUG9zPXtmcm9tOnQsdG86dCxtYXJnaW46ZS5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbn19ZnVuY3Rpb24gTXIoZSx0LG4pe251bGw9PXQmJm51bGw9PW58fFNyKGUpLG51bGwhPXQmJihlLmN1ck9wLnNjcm9sbExlZnQ9dCksbnVsbCE9biYmKGUuY3VyT3Auc2Nyb2xsVG9wPW4pfWZ1bmN0aW9uIFNyKGUpe3ZhciB0PWUuY3VyT3Auc2Nyb2xsVG9Qb3M7aWYodCl7ZS5jdXJPcC5zY3JvbGxUb1Bvcz1udWxsO3ZhciBuPVFuKGUsdC5mcm9tKSxyPVFuKGUsdC50byk7THIoZSxuLHIsdC5tYXJnaW4pfX1mdW5jdGlvbiBMcihlLHQsbixyKXt2YXIgaT14cihlLHtsZWZ0Ok1hdGgubWluKHQubGVmdCxuLmxlZnQpLHRvcDpNYXRoLm1pbih0LnRvcCxuLnRvcCktcixyaWdodDpNYXRoLm1heCh0LnJpZ2h0LG4ucmlnaHQpLGJvdHRvbTpNYXRoLm1heCh0LmJvdHRvbSxuLmJvdHRvbSkrcn0pO01yKGUsaS5zY3JvbGxMZWZ0LGkuc2Nyb2xsVG9wKX1mdW5jdGlvbiBUcihlLHQpe01hdGguYWJzKGUuZG9jLnNjcm9sbFRvcC10KTwyfHwobnx8c2koZSx7dG9wOnR9KSxPcihlLHQsITApLG4mJnNpKGUpLG5pKGUsMTAwKSl9ZnVuY3Rpb24gT3IoZSx0LG4pe3Q9TWF0aC5taW4oZS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbEhlaWdodC1lLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LHQpLChlLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wIT10fHxuKSYmKGUuZG9jLnNjcm9sbFRvcD10LGUuZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcCh0KSxlLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wIT10JiYoZS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcD10KSl9ZnVuY3Rpb24gTnIoZSx0LG4scil7dD1NYXRoLm1pbih0LGUuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aC1lLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgpLChuP3Q9PWUuZG9jLnNjcm9sbExlZnQ6TWF0aC5hYnMoZS5kb2Muc2Nyb2xsTGVmdC10KTwyKSYmIXJ8fChlLmRvYy5zY3JvbGxMZWZ0PXQsd3IoZSksZS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQhPXQmJihlLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdD10KSxlLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KHQpKX1mdW5jdGlvbiBFcihlKXt2YXIgdD1lLmRpc3BsYXksbj10Lmd1dHRlcnMub2Zmc2V0V2lkdGgscj1NYXRoLnJvdW5kKGUuZG9jLmhlaWdodCt4bihlLmRpc3BsYXkpKTtyZXR1cm57Y2xpZW50SGVpZ2h0OnQuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LHZpZXdIZWlnaHQ6dC53cmFwcGVyLmNsaWVudEhlaWdodCxzY3JvbGxXaWR0aDp0LnNjcm9sbGVyLnNjcm9sbFdpZHRoLGNsaWVudFdpZHRoOnQuc2Nyb2xsZXIuY2xpZW50V2lkdGgsdmlld1dpZHRoOnQud3JhcHBlci5jbGllbnRXaWR0aCxiYXJMZWZ0OmUub3B0aW9ucy5maXhlZEd1dHRlcj9uOjAsZG9jSGVpZ2h0OnIsc2Nyb2xsSGVpZ2h0OnIrSW4oZSkrdC5iYXJIZWlnaHQsbmF0aXZlQmFyV2lkdGg6dC5uYXRpdmVCYXJXaWR0aCxndXR0ZXJXaWR0aDpufX12YXIgUHI9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuY209bjt2YXIgcj10aGlzLnZlcnQ9VChcImRpdlwiLFtUKFwiZGl2XCIsbnVsbCxudWxsLFwibWluLXdpZHRoOiAxcHhcIildLFwiQ29kZU1pcnJvci12c2Nyb2xsYmFyXCIpLGk9dGhpcy5ob3Jpej1UKFwiZGl2XCIsW1QoXCJkaXZcIixudWxsLG51bGwsXCJoZWlnaHQ6IDEwMCU7IG1pbi1oZWlnaHQ6IDFweFwiKV0sXCJDb2RlTWlycm9yLWhzY3JvbGxiYXJcIik7ci50YWJJbmRleD1pLnRhYkluZGV4PS0xLGUociksZShpKSxldChyLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtyLmNsaWVudEhlaWdodCYmdChyLnNjcm9sbFRvcCxcInZlcnRpY2FsXCIpfSksZXQoaSxcInNjcm9sbFwiLGZ1bmN0aW9uKCl7aS5jbGllbnRXaWR0aCYmdChpLnNjcm9sbExlZnQsXCJob3Jpem9udGFsXCIpfSksdGhpcy5jaGVja2VkWmVyb1dpZHRoPSExLGEmJnM8OCYmKHRoaXMuaG9yaXouc3R5bGUubWluSGVpZ2h0PXRoaXMudmVydC5zdHlsZS5taW5XaWR0aD1cIjE4cHhcIil9O1ByLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zY3JvbGxXaWR0aD5lLmNsaWVudFdpZHRoKzEsbj1lLnNjcm9sbEhlaWdodD5lLmNsaWVudEhlaWdodCsxLHI9ZS5uYXRpdmVCYXJXaWR0aDtpZihuKXt0aGlzLnZlcnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy52ZXJ0LnN0eWxlLmJvdHRvbT10P3IrXCJweFwiOlwiMFwiO3ZhciBpPWUudmlld0hlaWdodC0odD9yOjApO3RoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLGUuc2Nyb2xsSGVpZ2h0LWUuY2xpZW50SGVpZ2h0K2kpK1wicHhcIn1lbHNlIHRoaXMudmVydC5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0PVwiMFwiO2lmKHQpe3RoaXMuaG9yaXouc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5ob3Jpei5zdHlsZS5yaWdodD1uP3IrXCJweFwiOlwiMFwiLHRoaXMuaG9yaXouc3R5bGUubGVmdD1lLmJhckxlZnQrXCJweFwiO3ZhciBvPWUudmlld1dpZHRoLWUuYmFyTGVmdC0obj9yOjApO3RoaXMuaG9yaXouZmlyc3RDaGlsZC5zdHlsZS53aWR0aD1NYXRoLm1heCgwLGUuc2Nyb2xsV2lkdGgtZS5jbGllbnRXaWR0aCtvKStcInB4XCJ9ZWxzZSB0aGlzLmhvcml6LnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9XCIwXCI7cmV0dXJuIXRoaXMuY2hlY2tlZFplcm9XaWR0aCYmZS5jbGllbnRIZWlnaHQ+MCYmKDA9PXImJnRoaXMuemVyb1dpZHRoSGFjaygpLHRoaXMuY2hlY2tlZFplcm9XaWR0aD0hMCkse3JpZ2h0Om4/cjowLGJvdHRvbTp0P3I6MH19LFByLnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKGUpe3RoaXMuaG9yaXouc2Nyb2xsTGVmdCE9ZSYmKHRoaXMuaG9yaXouc2Nyb2xsTGVmdD1lKSx0aGlzLmRpc2FibGVIb3JpeiYmdGhpcy5lbmFibGVaZXJvV2lkdGhCYXIodGhpcy5ob3Jpeix0aGlzLmRpc2FibGVIb3JpeixcImhvcml6XCIpfSxQci5wcm90b3R5cGUuc2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKGUpe3RoaXMudmVydC5zY3JvbGxUb3AhPWUmJih0aGlzLnZlcnQuc2Nyb2xsVG9wPWUpLHRoaXMuZGlzYWJsZVZlcnQmJnRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMudmVydCx0aGlzLmRpc2FibGVWZXJ0LFwidmVydFwiKX0sUHIucHJvdG90eXBlLnplcm9XaWR0aEhhY2s9ZnVuY3Rpb24oKXt2YXIgZT1iJiYhZj9cIjEycHhcIjpcIjE4cHhcIjt0aGlzLmhvcml6LnN0eWxlLmhlaWdodD10aGlzLnZlcnQuc3R5bGUud2lkdGg9ZSx0aGlzLmhvcml6LnN0eWxlLnBvaW50ZXJFdmVudHM9dGhpcy52ZXJ0LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsdGhpcy5kaXNhYmxlSG9yaXo9bmV3IEgsdGhpcy5kaXNhYmxlVmVydD1uZXcgSH0sUHIucHJvdG90eXBlLmVuYWJsZVplcm9XaWR0aEJhcj1mdW5jdGlvbihlLHQsbil7ZS5zdHlsZS5wb2ludGVyRXZlbnRzPVwiYXV0b1wiLHQuc2V0KDFlMyxmdW5jdGlvbiByKCl7dmFyIGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPVwidmVydFwiPT1uP2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoaS5yaWdodC0xLChpLnRvcCtpLmJvdHRvbSkvMik6ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCgoaS5yaWdodCtpLmxlZnQpLzIsaS5ib3R0b20tMSk7byE9ZT9lLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCI6dC5zZXQoMWUzLHIpfSl9LFByLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaG9yaXoucGFyZW50Tm9kZTtlLnJlbW92ZUNoaWxkKHRoaXMuaG9yaXopLGUucmVtb3ZlQ2hpbGQodGhpcy52ZXJ0KX07dmFyIERyPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBXcihlLHQpe3R8fCh0PUVyKGUpKTt2YXIgbj1lLmRpc3BsYXkuYmFyV2lkdGgscj1lLmRpc3BsYXkuYmFySGVpZ2h0O1JyKGUsdCk7Zm9yKHZhciBpPTA7aTw0JiZuIT1lLmRpc3BsYXkuYmFyV2lkdGh8fHIhPWUuZGlzcGxheS5iYXJIZWlnaHQ7aSsrKW4hPWUuZGlzcGxheS5iYXJXaWR0aCYmZS5vcHRpb25zLmxpbmVXcmFwcGluZyYmYnIoZSksUnIoZSxFcihlKSksbj1lLmRpc3BsYXkuYmFyV2lkdGgscj1lLmRpc3BsYXkuYmFySGVpZ2h0fWZ1bmN0aW9uIFJyKGUsdCl7dmFyIG49ZS5kaXNwbGF5LHI9bi5zY3JvbGxiYXJzLnVwZGF0ZSh0KTtuLnNpemVyLnN0eWxlLnBhZGRpbmdSaWdodD0obi5iYXJXaWR0aD1yLnJpZ2h0KStcInB4XCIsbi5zaXplci5zdHlsZS5wYWRkaW5nQm90dG9tPShuLmJhckhlaWdodD1yLmJvdHRvbSkrXCJweFwiLG4uaGVpZ2h0Rm9yY2VyLnN0eWxlLmJvcmRlckJvdHRvbT1yLmJvdHRvbStcInB4IHNvbGlkIHRyYW5zcGFyZW50XCIsci5yaWdodCYmci5ib3R0b20/KG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodD1yLmJvdHRvbStcInB4XCIsbi5zY3JvbGxiYXJGaWxsZXIuc3R5bGUud2lkdGg9ci5yaWdodCtcInB4XCIpOm4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJcIixyLmJvdHRvbSYmZS5vcHRpb25zLmNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyJiZlLm9wdGlvbnMuZml4ZWRHdXR0ZXI/KG4uZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLG4uZ3V0dGVyRmlsbGVyLnN0eWxlLmhlaWdodD1yLmJvdHRvbStcInB4XCIsbi5ndXR0ZXJGaWxsZXIuc3R5bGUud2lkdGg9dC5ndXR0ZXJXaWR0aCtcInB4XCIpOm4uZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJcIn1Eci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJue2JvdHRvbTowLHJpZ2h0OjB9fSxEci5wcm90b3R5cGUuc2V0U2Nyb2xsTGVmdD1mdW5jdGlvbigpe30sRHIucHJvdG90eXBlLnNldFNjcm9sbFRvcD1mdW5jdGlvbigpe30sRHIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7fTt2YXIgenI9e25hdGl2ZTpQcixudWxsOkRyfTtmdW5jdGlvbiBGcihlKXtlLmRpc3BsYXkuc2Nyb2xsYmFycyYmKGUuZGlzcGxheS5zY3JvbGxiYXJzLmNsZWFyKCksZS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MmJk0oZS5kaXNwbGF5LndyYXBwZXIsZS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpKSxlLmRpc3BsYXkuc2Nyb2xsYmFycz1uZXcgenJbZS5vcHRpb25zLnNjcm9sbGJhclN0eWxlXShmdW5jdGlvbih0KXtlLmRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUodCxlLmRpc3BsYXkuc2Nyb2xsYmFyRmlsbGVyKSxldCh0LFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtlLnN0YXRlLmZvY3VzZWQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5kaXNwbGF5LmlucHV0LmZvY3VzKCl9LDApfSksdC5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLFwidHJ1ZVwiKX0sZnVuY3Rpb24odCxuKXtcImhvcml6b250YWxcIj09bj9OcihlLHQpOlRyKGUsdCl9LGUpLGUuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzJiZQKGUuZGlzcGxheS53cmFwcGVyLGUuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKX12YXIgSHI9MDtmdW5jdGlvbiBCcihlKXtlLmN1ck9wPXtjbTplLHZpZXdDaGFuZ2VkOiExLHN0YXJ0SGVpZ2h0OmUuZG9jLmhlaWdodCxmb3JjZVVwZGF0ZTohMSx1cGRhdGVJbnB1dDpudWxsLHR5cGluZzohMSxjaGFuZ2VPYmpzOm51bGwsY3Vyc29yQWN0aXZpdHlIYW5kbGVyczpudWxsLGN1cnNvckFjdGl2aXR5Q2FsbGVkOjAsc2VsZWN0aW9uQ2hhbmdlZDohMSx1cGRhdGVNYXhMaW5lOiExLHNjcm9sbExlZnQ6bnVsbCxzY3JvbGxUb3A6bnVsbCxzY3JvbGxUb1BvczpudWxsLGZvY3VzOiExLGlkOisrSHJ9LGZ1bmN0aW9uKGUpe29uP29uLm9wcy5wdXNoKGUpOmUub3duc0dyb3VwPW9uPXtvcHM6W2VdLGRlbGF5ZWRDYWxsYmFja3M6W119fShlLmN1ck9wKX1mdW5jdGlvbiBqcihlKXt2YXIgdD1lLmN1ck9wO3QmJmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5vd25zR3JvdXA7aWYobil0cnl7IWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGVsYXllZENhbGxiYWNrcyxuPTA7ZG97Zm9yKDtuPHQubGVuZ3RoO24rKyl0W25dLmNhbGwobnVsbCk7Zm9yKHZhciByPTA7cjxlLm9wcy5sZW5ndGg7cisrKXt2YXIgaT1lLm9wc1tyXTtpZihpLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpZm9yKDtpLmN1cnNvckFjdGl2aXR5Q2FsbGVkPGkuY3Vyc29yQWN0aXZpdHlIYW5kbGVycy5sZW5ndGg7KWkuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc1tpLmN1cnNvckFjdGl2aXR5Q2FsbGVkKytdLmNhbGwobnVsbCxpLmNtKX19d2hpbGUobjx0Lmxlbmd0aCl9KG4pfWZpbmFsbHl7b249bnVsbCx0KG4pfX0odCxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUub3BzLmxlbmd0aDt0KyspZS5vcHNbdF0uY20uY3VyT3A9bnVsbDshZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUub3BzLG49MDtuPHQubGVuZ3RoO24rKylHcih0W25dKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylWcih0W3JdKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylVcih0W2ldKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKylacih0W29dKTtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKylZcih0W2FdKX0oZSl9KX1mdW5jdGlvbiBHcihlKXt2YXIgdD1lLmNtLG49dC5kaXNwbGF5OyFmdW5jdGlvbihlKXt2YXIgdD1lLmRpc3BsYXk7IXQuc2Nyb2xsYmFyc0NsaXBwZWQmJnQuc2Nyb2xsZXIub2Zmc2V0V2lkdGgmJih0Lm5hdGl2ZUJhcldpZHRoPXQuc2Nyb2xsZXIub2Zmc2V0V2lkdGgtdC5zY3JvbGxlci5jbGllbnRXaWR0aCx0LmhlaWdodEZvcmNlci5zdHlsZS5oZWlnaHQ9SW4oZSkrXCJweFwiLHQuc2l6ZXIuc3R5bGUubWFyZ2luQm90dG9tPS10Lm5hdGl2ZUJhcldpZHRoK1wicHhcIix0LnNpemVyLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9SW4oZSkrXCJweFwiLHQuc2Nyb2xsYmFyc0NsaXBwZWQ9ITApfSh0KSxlLnVwZGF0ZU1heExpbmUmJlhlKHQpLGUubXVzdFVwZGF0ZT1lLnZpZXdDaGFuZ2VkfHxlLmZvcmNlVXBkYXRlfHxudWxsIT1lLnNjcm9sbFRvcHx8ZS5zY3JvbGxUb1BvcyYmKGUuc2Nyb2xsVG9Qb3MuZnJvbS5saW5lPG4udmlld0Zyb218fGUuc2Nyb2xsVG9Qb3MudG8ubGluZT49bi52aWV3VG8pfHxuLm1heExpbmVDaGFuZ2VkJiZ0Lm9wdGlvbnMubGluZVdyYXBwaW5nLGUudXBkYXRlPWUubXVzdFVwZGF0ZSYmbmV3IGlpKHQsZS5tdXN0VXBkYXRlJiZ7dG9wOmUuc2Nyb2xsVG9wLGVuc3VyZTplLnNjcm9sbFRvUG9zfSxlLmZvcmNlVXBkYXRlKX1mdW5jdGlvbiBWcihlKXtlLnVwZGF0ZWREaXNwbGF5PWUubXVzdFVwZGF0ZSYmb2koZS5jbSxlLnVwZGF0ZSl9ZnVuY3Rpb24gVXIoZSl7dmFyIHQ9ZS5jbSxuPXQuZGlzcGxheTtlLnVwZGF0ZWREaXNwbGF5JiZicih0KSxlLmJhck1lYXN1cmU9RXIodCksbi5tYXhMaW5lQ2hhbmdlZCYmIXQub3B0aW9ucy5saW5lV3JhcHBpbmcmJihlLmFkanVzdFdpZHRoVG89VG4odCxuLm1heExpbmUsbi5tYXhMaW5lLnRleHQubGVuZ3RoKS5sZWZ0KzMsdC5kaXNwbGF5LnNpemVyV2lkdGg9ZS5hZGp1c3RXaWR0aFRvLGUuYmFyTWVhc3VyZS5zY3JvbGxXaWR0aD1NYXRoLm1heChuLnNjcm9sbGVyLmNsaWVudFdpZHRoLG4uc2l6ZXIub2Zmc2V0TGVmdCtlLmFkanVzdFdpZHRoVG8rSW4odCkrdC5kaXNwbGF5LmJhcldpZHRoKSxlLm1heFNjcm9sbExlZnQ9TWF0aC5tYXgoMCxuLnNpemVyLm9mZnNldExlZnQrZS5hZGp1c3RXaWR0aFRvLU1uKHQpKSksKGUudXBkYXRlZERpc3BsYXl8fGUuc2VsZWN0aW9uQ2hhbmdlZCkmJihlLnByZXBhcmVkU2VsZWN0aW9uPW4uaW5wdXQucHJlcGFyZVNlbGVjdGlvbigpKX1mdW5jdGlvbiBacihlKXt2YXIgdD1lLmNtO251bGwhPWUuYWRqdXN0V2lkdGhUbyYmKHQuZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aD1lLmFkanVzdFdpZHRoVG8rXCJweFwiLGUubWF4U2Nyb2xsTGVmdDx0LmRvYy5zY3JvbGxMZWZ0JiZOcih0LE1hdGgubWluKHQuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0LGUubWF4U2Nyb2xsTGVmdCksITApLHQuZGlzcGxheS5tYXhMaW5lQ2hhbmdlZD0hMSk7dmFyIG49ZS5mb2N1cyYmZS5mb2N1cz09RSgpO2UucHJlcGFyZWRTZWxlY3Rpb24mJnQuZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKGUucHJlcGFyZWRTZWxlY3Rpb24sbiksKGUudXBkYXRlZERpc3BsYXl8fGUuc3RhcnRIZWlnaHQhPXQuZG9jLmhlaWdodCkmJldyKHQsZS5iYXJNZWFzdXJlKSxlLnVwZGF0ZWREaXNwbGF5JiZ1aSh0LGUuYmFyTWVhc3VyZSksZS5zZWxlY3Rpb25DaGFuZ2VkJiZmcih0KSx0LnN0YXRlLmZvY3VzZWQmJmUudXBkYXRlSW5wdXQmJnQuZGlzcGxheS5pbnB1dC5yZXNldChlLnR5cGluZyksbiYmcHIoZS5jbSl9ZnVuY3Rpb24gWXIoZSl7dmFyIHQ9ZS5jbSxuPXQuZGlzcGxheSxyPXQuZG9jO2lmKGUudXBkYXRlZERpc3BsYXkmJmFpKHQsZS51cGRhdGUpLG51bGw9PW4ud2hlZWxTdGFydFh8fG51bGw9PWUuc2Nyb2xsVG9wJiZudWxsPT1lLnNjcm9sbExlZnQmJiFlLnNjcm9sbFRvUG9zfHwobi53aGVlbFN0YXJ0WD1uLndoZWVsU3RhcnRZPW51bGwpLG51bGwhPWUuc2Nyb2xsVG9wJiZPcih0LGUuc2Nyb2xsVG9wLGUuZm9yY2VTY3JvbGwpLG51bGwhPWUuc2Nyb2xsTGVmdCYmTnIodCxlLnNjcm9sbExlZnQsITAsITApLGUuc2Nyb2xsVG9Qb3Mpe3ZhciBpPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpO251bGw9PXImJihyPTApLGUub3B0aW9ucy5saW5lV3JhcHBpbmd8fHQhPW58fCh0PXQuY2g/Z2UodC5saW5lLFwiYmVmb3JlXCI9PXQuc3RpY2t5P3QuY2gtMTp0LmNoLFwiYWZ0ZXJcIik6dCxuPVwiYmVmb3JlXCI9PXQuc3RpY2t5P2dlKHQubGluZSx0LmNoKzEsXCJiZWZvcmVcIik6dCk7Zm9yKHZhciBvPTA7bzw1O28rKyl7dmFyIGE9ITEscz1ZbihlLHQpLGw9biYmbiE9dD9ZbihlLG4pOnM7aT17bGVmdDpNYXRoLm1pbihzLmxlZnQsbC5sZWZ0KSx0b3A6TWF0aC5taW4ocy50b3AsbC50b3ApLXIscmlnaHQ6TWF0aC5tYXgocy5sZWZ0LGwubGVmdCksYm90dG9tOk1hdGgubWF4KHMuYm90dG9tLGwuYm90dG9tKStyfTt2YXIgdT14cihlLGkpLGM9ZS5kb2Muc2Nyb2xsVG9wLGg9ZS5kb2Muc2Nyb2xsTGVmdDtpZihudWxsIT11LnNjcm9sbFRvcCYmKFRyKGUsdS5zY3JvbGxUb3ApLE1hdGguYWJzKGUuZG9jLnNjcm9sbFRvcC1jKT4xJiYoYT0hMCkpLG51bGwhPXUuc2Nyb2xsTGVmdCYmKE5yKGUsdS5zY3JvbGxMZWZ0KSxNYXRoLmFicyhlLmRvYy5zY3JvbGxMZWZ0LWgpPjEmJihhPSEwKSksIWEpYnJlYWt9cmV0dXJuIGl9KHQsQ2UocixlLnNjcm9sbFRvUG9zLmZyb20pLENlKHIsZS5zY3JvbGxUb1Bvcy50byksZS5zY3JvbGxUb1Bvcy5tYXJnaW4pOyFmdW5jdGlvbihlLHQpe2lmKCFpdChlLFwic2Nyb2xsQ3Vyc29ySW50b1ZpZXdcIikpe3ZhciBuPWUuZGlzcGxheSxyPW4uc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1udWxsO2lmKHQudG9wK3IudG9wPDA/aT0hMDp0LmJvdHRvbStyLnRvcD4od2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSYmKGk9ITEpLG51bGwhPWkmJiFwKXt2YXIgbz1UKFwiZGl2XCIsXCLigItcIixudWxsLFwicG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiKyh0LnRvcC1uLnZpZXdPZmZzZXQtQ24oZS5kaXNwbGF5KSkrXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIisodC5ib3R0b20tdC50b3ArSW4oZSkrbi5iYXJIZWlnaHQpK1wicHg7XFxuICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiK3QubGVmdCtcInB4OyB3aWR0aDogXCIrTWF0aC5tYXgoMix0LnJpZ2h0LXQubGVmdCkrXCJweDtcIik7ZS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChvKSxvLnNjcm9sbEludG9WaWV3KGkpLGUuZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQobyl9fX0odCxpKX12YXIgbz1lLm1heWJlSGlkZGVuTWFya2VycyxhPWUubWF5YmVVbmhpZGRlbk1hcmtlcnM7aWYobylmb3IodmFyIHM9MDtzPG8ubGVuZ3RoOysrcylvW3NdLmxpbmVzLmxlbmd0aHx8cnQob1tzXSxcImhpZGVcIik7aWYoYSlmb3IodmFyIGw9MDtsPGEubGVuZ3RoOysrbClhW2xdLmxpbmVzLmxlbmd0aCYmcnQoYVtsXSxcInVuaGlkZVwiKTtuLndyYXBwZXIub2Zmc2V0SGVpZ2h0JiYoci5zY3JvbGxUb3A9dC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCksZS5jaGFuZ2VPYmpzJiZydCh0LFwiY2hhbmdlc1wiLHQsZS5jaGFuZ2VPYmpzKSxlLnVwZGF0ZSYmZS51cGRhdGUuZmluaXNoKCl9ZnVuY3Rpb24gUXIoZSx0KXtpZihlLmN1ck9wKXJldHVybiB0KCk7QnIoZSk7dHJ5e3JldHVybiB0KCl9ZmluYWxseXtqcihlKX19ZnVuY3Rpb24gWHIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZihlLmN1ck9wKXJldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKTtCcihlKTt0cnl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfWZpbmFsbHl7anIoZSl9fX1mdW5jdGlvbiBfcihlKXtyZXR1cm4gZnVuY3Rpb24oKXtpZih0aGlzLmN1ck9wKXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtCcih0aGlzKTt0cnl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7anIodGhpcyl9fX1mdW5jdGlvbiBLcihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNtO2lmKCF0fHx0LmN1ck9wKXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtCcih0KTt0cnl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7anIodCl9fX1mdW5jdGlvbiBKcihlLHQsbixyKXtudWxsPT10JiYodD1lLmRvYy5maXJzdCksbnVsbD09biYmKG49ZS5kb2MuZmlyc3QrZS5kb2Muc2l6ZSkscnx8KHI9MCk7dmFyIGk9ZS5kaXNwbGF5O2lmKHImJm48aS52aWV3VG8mJihudWxsPT1pLnVwZGF0ZUxpbmVOdW1iZXJzfHxpLnVwZGF0ZUxpbmVOdW1iZXJzPnQpJiYoaS51cGRhdGVMaW5lTnVtYmVycz10KSxlLmN1ck9wLnZpZXdDaGFuZ2VkPSEwLHQ+PWkudmlld1RvKUllJiZHZShlLmRvYyx0KTxpLnZpZXdUbyYmJHIoZSk7ZWxzZSBpZihuPD1pLnZpZXdGcm9tKUllJiZWZShlLmRvYyxuK3IpPmkudmlld0Zyb20/JHIoZSk6KGkudmlld0Zyb20rPXIsaS52aWV3VG8rPXIpO2Vsc2UgaWYodDw9aS52aWV3RnJvbSYmbj49aS52aWV3VG8pJHIoZSk7ZWxzZSBpZih0PD1pLnZpZXdGcm9tKXt2YXIgbz1laShlLG4sbityLDEpO28/KGkudmlldz1pLnZpZXcuc2xpY2Uoby5pbmRleCksaS52aWV3RnJvbT1vLmxpbmVOLGkudmlld1RvKz1yKTokcihlKX1lbHNlIGlmKG4+PWkudmlld1RvKXt2YXIgYT1laShlLHQsdCwtMSk7YT8oaS52aWV3PWkudmlldy5zbGljZSgwLGEuaW5kZXgpLGkudmlld1RvPWEubGluZU4pOiRyKGUpfWVsc2V7dmFyIHM9ZWkoZSx0LHQsLTEpLGw9ZWkoZSxuLG4rciwxKTtzJiZsPyhpLnZpZXc9aS52aWV3LnNsaWNlKDAscy5pbmRleCkuY29uY2F0KHJuKGUscy5saW5lTixsLmxpbmVOKSkuY29uY2F0KGkudmlldy5zbGljZShsLmluZGV4KSksaS52aWV3VG8rPXIpOiRyKGUpfXZhciB1PWkuZXh0ZXJuYWxNZWFzdXJlZDt1JiYobjx1LmxpbmVOP3UubGluZU4rPXI6dDx1LmxpbmVOK3Uuc2l6ZSYmKGkuZXh0ZXJuYWxNZWFzdXJlZD1udWxsKSl9ZnVuY3Rpb24gcXIoZSx0LG4pe2UuY3VyT3Audmlld0NoYW5nZWQ9ITA7dmFyIHI9ZS5kaXNwbGF5LGk9ZS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7aWYoaSYmdD49aS5saW5lTiYmdDxpLmxpbmVOK2kuc2l6ZSYmKHIuZXh0ZXJuYWxNZWFzdXJlZD1udWxsKSwhKHQ8ci52aWV3RnJvbXx8dD49ci52aWV3VG8pKXt2YXIgbz1yLnZpZXdbc3IoZSx0KV07aWYobnVsbCE9by5ub2RlKXt2YXIgYT1vLmNoYW5nZXN8fChvLmNoYW5nZXM9W10pOy0xPT1CKGEsbikmJmEucHVzaChuKX19fWZ1bmN0aW9uICRyKGUpe2UuZGlzcGxheS52aWV3RnJvbT1lLmRpc3BsYXkudmlld1RvPWUuZG9jLmZpcnN0LGUuZGlzcGxheS52aWV3PVtdLGUuZGlzcGxheS52aWV3T2Zmc2V0PTB9ZnVuY3Rpb24gZWkoZSx0LG4scil7dmFyIGksbz1zcihlLHQpLGE9ZS5kaXNwbGF5LnZpZXc7aWYoIUllfHxuPT1lLmRvYy5maXJzdCtlLmRvYy5zaXplKXJldHVybntpbmRleDpvLGxpbmVOOm59O2Zvcih2YXIgcz1lLmRpc3BsYXkudmlld0Zyb20sbD0wO2w8bztsKyspcys9YVtsXS5zaXplO2lmKHMhPXQpe2lmKHI+MCl7aWYobz09YS5sZW5ndGgtMSlyZXR1cm4gbnVsbDtpPXMrYVtvXS5zaXplLXQsbysrfWVsc2UgaT1zLXQ7dCs9aSxuKz1pfWZvcig7R2UoZS5kb2MsbikhPW47KXtpZihvPT0ocjwwPzA6YS5sZW5ndGgtMSkpcmV0dXJuIG51bGw7bis9ciphW28tKHI8MD8xOjApXS5zaXplLG8rPXJ9cmV0dXJue2luZGV4Om8sbGluZU46bn19ZnVuY3Rpb24gdGkoZSl7Zm9yKHZhciB0PWUuZGlzcGxheS52aWV3LG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aS5oaWRkZW58fGkubm9kZSYmIWkuY2hhbmdlc3x8KytufXJldHVybiBufWZ1bmN0aW9uIG5pKGUsdCl7ZS5kb2MuaGlnaGxpZ2h0RnJvbnRpZXI8ZS5kaXNwbGF5LnZpZXdUbyYmZS5zdGF0ZS5oaWdobGlnaHQuc2V0KHQsUihyaSxlKSl9ZnVuY3Rpb24gcmkoZSl7dmFyIHQ9ZS5kb2M7aWYoISh0LmhpZ2hsaWdodEZyb250aWVyPj1lLmRpc3BsYXkudmlld1RvKSl7dmFyIG49K25ldyBEYXRlK2Uub3B0aW9ucy53b3JrVGltZSxyPXp0KGUsdC5oaWdobGlnaHRGcm9udGllciksaT1bXTt0Lml0ZXIoci5saW5lLE1hdGgubWluKHQuZmlyc3QrdC5zaXplLGUuZGlzcGxheS52aWV3VG8rNTAwKSxmdW5jdGlvbihvKXtpZihyLmxpbmU+PWUuZGlzcGxheS52aWV3RnJvbSl7dmFyIGE9by5zdHlsZXMscz1vLnRleHQubGVuZ3RoPmUub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGg/VHQodC5tb2RlLHIuc3RhdGUpOm51bGwsbD1XdChlLG8sciwhMCk7cyYmKHIuc3RhdGU9cyksby5zdHlsZXM9bC5zdHlsZXM7dmFyIHU9by5zdHlsZUNsYXNzZXMsYz1sLmNsYXNzZXM7Yz9vLnN0eWxlQ2xhc3Nlcz1jOnUmJihvLnN0eWxlQ2xhc3Nlcz1udWxsKTtmb3IodmFyIGg9IWF8fGEubGVuZ3RoIT1vLnN0eWxlcy5sZW5ndGh8fHUhPWMmJighdXx8IWN8fHUuYmdDbGFzcyE9Yy5iZ0NsYXNzfHx1LnRleHRDbGFzcyE9Yy50ZXh0Q2xhc3MpLGQ9MDshaCYmZDxhLmxlbmd0aDsrK2QpaD1hW2RdIT1vLnN0eWxlc1tkXTtoJiZpLnB1c2goci5saW5lKSxvLnN0YXRlQWZ0ZXI9ci5zYXZlKCksci5uZXh0TGluZSgpfWVsc2Ugby50ZXh0Lmxlbmd0aDw9ZS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCYmRnQoZSxvLnRleHQsciksby5zdGF0ZUFmdGVyPXIubGluZSU1PT0wP3Iuc2F2ZSgpOm51bGwsci5uZXh0TGluZSgpO2lmKCtuZXcgRGF0ZT5uKXJldHVybiBuaShlLGUub3B0aW9ucy53b3JrRGVsYXkpLCEwfSksdC5oaWdobGlnaHRGcm9udGllcj1yLmxpbmUsdC5tb2RlRnJvbnRpZXI9TWF0aC5tYXgodC5tb2RlRnJvbnRpZXIsci5saW5lKSxpLmxlbmd0aCYmUXIoZSxmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8aS5sZW5ndGg7dCsrKXFyKGUsaVt0XSxcInRleHRcIil9KX19dmFyIGlpPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmRpc3BsYXk7dGhpcy52aWV3cG9ydD10LHRoaXMudmlzaWJsZT1BcihyLGUuZG9jLHQpLHRoaXMuZWRpdG9ySXNIaWRkZW49IXIud3JhcHBlci5vZmZzZXRXaWR0aCx0aGlzLndyYXBwZXJIZWlnaHQ9ci53cmFwcGVyLmNsaWVudEhlaWdodCx0aGlzLndyYXBwZXJXaWR0aD1yLndyYXBwZXIuY2xpZW50V2lkdGgsdGhpcy5vbGREaXNwbGF5V2lkdGg9TW4oZSksdGhpcy5mb3JjZT1uLHRoaXMuZGltcz1ucihlKSx0aGlzLmV2ZW50cz1bXX07ZnVuY3Rpb24gb2koZSx0KXt2YXIgbj1lLmRpc3BsYXkscj1lLmRvYztpZih0LmVkaXRvcklzSGlkZGVuKXJldHVybiAkcihlKSwhMTtpZighdC5mb3JjZSYmdC52aXNpYmxlLmZyb20+PW4udmlld0Zyb20mJnQudmlzaWJsZS50bzw9bi52aWV3VG8mJihudWxsPT1uLnVwZGF0ZUxpbmVOdW1iZXJzfHxuLnVwZGF0ZUxpbmVOdW1iZXJzPj1uLnZpZXdUbykmJm4ucmVuZGVyZWRWaWV3PT1uLnZpZXcmJjA9PXRpKGUpKXJldHVybiExO0NyKGUpJiYoJHIoZSksdC5kaW1zPW5yKGUpKTt2YXIgaT1yLmZpcnN0K3Iuc2l6ZSxvPU1hdGgubWF4KHQudmlzaWJsZS5mcm9tLWUub3B0aW9ucy52aWV3cG9ydE1hcmdpbixyLmZpcnN0KSxhPU1hdGgubWluKGksdC52aXNpYmxlLnRvK2Uub3B0aW9ucy52aWV3cG9ydE1hcmdpbik7bi52aWV3RnJvbTxvJiZvLW4udmlld0Zyb208MjAmJihvPU1hdGgubWF4KHIuZmlyc3Qsbi52aWV3RnJvbSkpLG4udmlld1RvPmEmJm4udmlld1RvLWE8MjAmJihhPU1hdGgubWluKGksbi52aWV3VG8pKSxJZSYmKG89R2UoZS5kb2MsbyksYT1WZShlLmRvYyxhKSk7dmFyIHM9byE9bi52aWV3RnJvbXx8YSE9bi52aWV3VG98fG4ubGFzdFdyYXBIZWlnaHQhPXQud3JhcHBlckhlaWdodHx8bi5sYXN0V3JhcFdpZHRoIT10LndyYXBwZXJXaWR0aDshZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZGlzcGxheTswPT1yLnZpZXcubGVuZ3RofHx0Pj1yLnZpZXdUb3x8bjw9ci52aWV3RnJvbT8oci52aWV3PXJuKGUsdCxuKSxyLnZpZXdGcm9tPXQpOihyLnZpZXdGcm9tPnQ/ci52aWV3PXJuKGUsdCxyLnZpZXdGcm9tKS5jb25jYXQoci52aWV3KTpyLnZpZXdGcm9tPHQmJihyLnZpZXc9ci52aWV3LnNsaWNlKHNyKGUsdCkpKSxyLnZpZXdGcm9tPXQsci52aWV3VG88bj9yLnZpZXc9ci52aWV3LmNvbmNhdChybihlLHIudmlld1RvLG4pKTpyLnZpZXdUbz5uJiYoci52aWV3PXIudmlldy5zbGljZSgwLHNyKGUsbikpKSksci52aWV3VG89bn0oZSxvLGEpLG4udmlld09mZnNldD1ZZShzZShlLmRvYyxuLnZpZXdGcm9tKSksZS5kaXNwbGF5Lm1vdmVyLnN0eWxlLnRvcD1uLnZpZXdPZmZzZXQrXCJweFwiO3ZhciB1PXRpKGUpO2lmKCFzJiYwPT11JiYhdC5mb3JjZSYmbi5yZW5kZXJlZFZpZXc9PW4udmlldyYmKG51bGw9PW4udXBkYXRlTGluZU51bWJlcnN8fG4udXBkYXRlTGluZU51bWJlcnM+PW4udmlld1RvKSlyZXR1cm4hMTt2YXIgYz1mdW5jdGlvbihlKXtpZihlLmhhc0ZvY3VzKCkpcmV0dXJuIG51bGw7dmFyIHQ9RSgpO2lmKCF0fHwhTihlLmRpc3BsYXkubGluZURpdix0KSlyZXR1cm4gbnVsbDt2YXIgbj17YWN0aXZlRWx0OnR9O2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciByPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtyLmFuY2hvck5vZGUmJnIuZXh0ZW5kJiZOKGUuZGlzcGxheS5saW5lRGl2LHIuYW5jaG9yTm9kZSkmJihuLmFuY2hvck5vZGU9ci5hbmNob3JOb2RlLG4uYW5jaG9yT2Zmc2V0PXIuYW5jaG9yT2Zmc2V0LG4uZm9jdXNOb2RlPXIuZm9jdXNOb2RlLG4uZm9jdXNPZmZzZXQ9ci5mb2N1c09mZnNldCl9cmV0dXJuIG59KGUpO3JldHVybiB1PjQmJihuLmxpbmVEaXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZGlzcGxheSxpPWUub3B0aW9ucy5saW5lTnVtYmVycyxvPXIubGluZURpdixhPW8uZmlyc3RDaGlsZDtmdW5jdGlvbiBzKHQpe3ZhciBuPXQubmV4dFNpYmxpbmc7cmV0dXJuIGwmJmImJmUuZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQ9PXQ/dC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxufWZvcih2YXIgdT1yLnZpZXcsYz1yLnZpZXdGcm9tLGg9MDtoPHUubGVuZ3RoO2grKyl7dmFyIGQ9dVtoXTtpZihkLmhpZGRlbik7ZWxzZSBpZihkLm5vZGUmJmQubm9kZS5wYXJlbnROb2RlPT1vKXtmb3IoO2EhPWQubm9kZTspYT1zKGEpO3ZhciBmPWkmJm51bGwhPXQmJnQ8PWMmJmQubGluZU51bWJlcjtkLmNoYW5nZXMmJihCKGQuY2hhbmdlcyxcImd1dHRlclwiKT4tMSYmKGY9ITEpLHVuKGUsZCxjLG4pKSxmJiYoUyhkLmxpbmVOdW1iZXIpLGQubGluZU51bWJlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShwZShlLm9wdGlvbnMsYykpKSksYT1kLm5vZGUubmV4dFNpYmxpbmd9ZWxzZXt2YXIgcD12bihlLGQsYyxuKTtvLmluc2VydEJlZm9yZShwLGEpfWMrPWQuc2l6ZX1mb3IoO2E7KWE9cyhhKX0oZSxuLnVwZGF0ZUxpbmVOdW1iZXJzLHQuZGltcyksdT40JiYobi5saW5lRGl2LnN0eWxlLmRpc3BsYXk9XCJcIiksbi5yZW5kZXJlZFZpZXc9bi52aWV3LGZ1bmN0aW9uKGUpe2lmKGUmJmUuYWN0aXZlRWx0JiZlLmFjdGl2ZUVsdCE9RSgpJiYoZS5hY3RpdmVFbHQuZm9jdXMoKSxlLmFuY2hvck5vZGUmJk4oZG9jdW1lbnQuYm9keSxlLmFuY2hvck5vZGUpJiZOKGRvY3VtZW50LmJvZHksZS5mb2N1c05vZGUpKSl7dmFyIHQ9d2luZG93LmdldFNlbGVjdGlvbigpLG49ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtuLnNldEVuZChlLmFuY2hvck5vZGUsZS5hbmNob3JPZmZzZXQpLG4uY29sbGFwc2UoITEpLHQucmVtb3ZlQWxsUmFuZ2VzKCksdC5hZGRSYW5nZShuKSx0LmV4dGVuZChlLmZvY3VzTm9kZSxlLmZvY3VzT2Zmc2V0KX19KGMpLFMobi5jdXJzb3JEaXYpLFMobi5zZWxlY3Rpb25EaXYpLG4uZ3V0dGVycy5zdHlsZS5oZWlnaHQ9bi5zaXplci5zdHlsZS5taW5IZWlnaHQ9MCxzJiYobi5sYXN0V3JhcEhlaWdodD10LndyYXBwZXJIZWlnaHQsbi5sYXN0V3JhcFdpZHRoPXQud3JhcHBlcldpZHRoLG5pKGUsNDAwKSksbi51cGRhdGVMaW5lTnVtYmVycz1udWxsLCEwfWZ1bmN0aW9uIGFpKGUsdCl7Zm9yKHZhciBuPXQudmlld3BvcnQscj0hMDsociYmZS5vcHRpb25zLmxpbmVXcmFwcGluZyYmdC5vbGREaXNwbGF5V2lkdGghPU1uKGUpfHwobiYmbnVsbCE9bi50b3AmJihuPXt0b3A6TWF0aC5taW4oZS5kb2MuaGVpZ2h0K3huKGUuZGlzcGxheSktU24oZSksbi50b3ApfSksdC52aXNpYmxlPUFyKGUuZGlzcGxheSxlLmRvYyxuKSwhKHQudmlzaWJsZS5mcm9tPj1lLmRpc3BsYXkudmlld0Zyb20mJnQudmlzaWJsZS50bzw9ZS5kaXNwbGF5LnZpZXdUbykpKSYmb2koZSx0KTtyPSExKXticihlKTt2YXIgaT1FcihlKTtscihlKSxXcihlLGkpLHVpKGUsaSksdC5mb3JjZT0hMX10LnNpZ25hbChlLFwidXBkYXRlXCIsZSksZS5kaXNwbGF5LnZpZXdGcm9tPT1lLmRpc3BsYXkucmVwb3J0ZWRWaWV3RnJvbSYmZS5kaXNwbGF5LnZpZXdUbz09ZS5kaXNwbGF5LnJlcG9ydGVkVmlld1RvfHwodC5zaWduYWwoZSxcInZpZXdwb3J0Q2hhbmdlXCIsZSxlLmRpc3BsYXkudmlld0Zyb20sZS5kaXNwbGF5LnZpZXdUbyksZS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb209ZS5kaXNwbGF5LnZpZXdGcm9tLGUuZGlzcGxheS5yZXBvcnRlZFZpZXdUbz1lLmRpc3BsYXkudmlld1RvKX1mdW5jdGlvbiBzaShlLHQpe3ZhciBuPW5ldyBpaShlLHQpO2lmKG9pKGUsbikpe2JyKGUpLGFpKGUsbik7dmFyIHI9RXIoZSk7bHIoZSksV3IoZSxyKSx1aShlLHIpLG4uZmluaXNoKCl9fWZ1bmN0aW9uIGxpKGUpe3ZhciB0PWUuZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoO2UuZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5MZWZ0PXQrXCJweFwifWZ1bmN0aW9uIHVpKGUsdCl7ZS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbkhlaWdodD10LmRvY0hlaWdodCtcInB4XCIsZS5kaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS50b3A9dC5kb2NIZWlnaHQrXCJweFwiLGUuZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodD10LmRvY0hlaWdodCtlLmRpc3BsYXkuYmFySGVpZ2h0K0luKGUpK1wicHhcIn1mdW5jdGlvbiBjaShlKXt2YXIgdD1lLmRpc3BsYXkuZ3V0dGVycyxuPWUub3B0aW9ucy5ndXR0ZXJzO1ModCk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDsrK3Ipe3ZhciBpPW5bcl0sbz10LmFwcGVuZENoaWxkKFQoXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXIgXCIraSkpO1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiPT1pJiYoZS5kaXNwbGF5LmxpbmVHdXR0ZXI9byxvLnN0eWxlLndpZHRoPShlLmRpc3BsYXkubGluZU51bVdpZHRofHwxKStcInB4XCIpfXQuc3R5bGUuZGlzcGxheT1yP1wiXCI6XCJub25lXCIsbGkoZSl9ZnVuY3Rpb24gaGkoZSl7dmFyIHQ9QihlLmd1dHRlcnMsXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCIpOy0xPT10JiZlLmxpbmVOdW1iZXJzP2UuZ3V0dGVycz1lLmd1dHRlcnMuY29uY2F0KFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0pOnQ+LTEmJiFlLmxpbmVOdW1iZXJzJiYoZS5ndXR0ZXJzPWUuZ3V0dGVycy5zbGljZSgwKSxlLmd1dHRlcnMuc3BsaWNlKHQsMSkpfWlpLnByb3RvdHlwZS5zaWduYWw9ZnVuY3Rpb24oZSx0KXthdChlLHQpJiZ0aGlzLmV2ZW50cy5wdXNoKGFyZ3VtZW50cyl9LGlpLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuZXZlbnRzLmxlbmd0aDtlKyspcnQuYXBwbHkobnVsbCx0aGlzLmV2ZW50c1tlXSl9O3ZhciBkaT0wLGZpPW51bGw7ZnVuY3Rpb24gcGkoZSl7dmFyIHQ9ZS53aGVlbERlbHRhWCxuPWUud2hlZWxEZWx0YVk7cmV0dXJuIG51bGw9PXQmJmUuZGV0YWlsJiZlLmF4aXM9PWUuSE9SSVpPTlRBTF9BWElTJiYodD1lLmRldGFpbCksbnVsbD09biYmZS5kZXRhaWwmJmUuYXhpcz09ZS5WRVJUSUNBTF9BWElTP249ZS5kZXRhaWw6bnVsbD09biYmKG49ZS53aGVlbERlbHRhKSx7eDp0LHk6bn19ZnVuY3Rpb24gZ2koZSl7dmFyIHQ9cGkoZSk7cmV0dXJuIHQueCo9ZmksdC55Kj1maSx0fWZ1bmN0aW9uIHZpKGUsdCl7dmFyIHI9cGkodCksaT1yLngsbz1yLnksYT1lLmRpc3BsYXkscz1hLnNjcm9sbGVyLHU9cy5zY3JvbGxXaWR0aD5zLmNsaWVudFdpZHRoLGM9cy5zY3JvbGxIZWlnaHQ+cy5jbGllbnRIZWlnaHQ7aWYoaSYmdXx8byYmYyl7aWYobyYmYiYmbCllOmZvcih2YXIgZD10LnRhcmdldCxmPWEudmlldztkIT1zO2Q9ZC5wYXJlbnROb2RlKWZvcih2YXIgcD0wO3A8Zi5sZW5ndGg7cCsrKWlmKGZbcF0ubm9kZT09ZCl7ZS5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldD1kO2JyZWFrIGV9aWYoaSYmIW4mJiFoJiZudWxsIT1maSlyZXR1cm4gbyYmYyYmVHIoZSxNYXRoLm1heCgwLHMuc2Nyb2xsVG9wK28qZmkpKSxOcihlLE1hdGgubWF4KDAscy5zY3JvbGxMZWZ0K2kqZmkpKSwoIW98fG8mJmMpJiZsdCh0KSx2b2lkKGEud2hlZWxTdGFydFg9bnVsbCk7aWYobyYmbnVsbCE9Zmkpe3ZhciBnPW8qZmksdj1lLmRvYy5zY3JvbGxUb3AsbT12K2Eud3JhcHBlci5jbGllbnRIZWlnaHQ7ZzwwP3Y9TWF0aC5tYXgoMCx2K2ctNTApOm09TWF0aC5taW4oZS5kb2MuaGVpZ2h0LG0rZys1MCksc2koZSx7dG9wOnYsYm90dG9tOm19KX1kaTwyMCYmKG51bGw9PWEud2hlZWxTdGFydFg/KGEud2hlZWxTdGFydFg9cy5zY3JvbGxMZWZ0LGEud2hlZWxTdGFydFk9cy5zY3JvbGxUb3AsYS53aGVlbERYPWksYS53aGVlbERZPW8sc2V0VGltZW91dChmdW5jdGlvbigpe2lmKG51bGwhPWEud2hlZWxTdGFydFgpe3ZhciBlPXMuc2Nyb2xsTGVmdC1hLndoZWVsU3RhcnRYLHQ9cy5zY3JvbGxUb3AtYS53aGVlbFN0YXJ0WSxuPXQmJmEud2hlZWxEWSYmdC9hLndoZWVsRFl8fGUmJmEud2hlZWxEWCYmZS9hLndoZWVsRFg7YS53aGVlbFN0YXJ0WD1hLndoZWVsU3RhcnRZPW51bGwsbiYmKGZpPShmaSpkaStuKS8oZGkrMSksKytkaSl9fSwyMDApKTooYS53aGVlbERYKz1pLGEud2hlZWxEWSs9bykpfX1hP2ZpPS0uNTM6bj9maT0xNTpjP2ZpPS0uNzpkJiYoZmk9LTEvMyk7dmFyIG1pPWZ1bmN0aW9uKGUsdCl7dGhpcy5yYW5nZXM9ZSx0aGlzLnByaW1JbmRleD10fTttaS5wcm90b3R5cGUucHJpbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlc1t0aGlzLnByaW1JbmRleF19LG1pLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7aWYoZT09dGhpcylyZXR1cm4hMDtpZihlLnByaW1JbmRleCE9dGhpcy5wcmltSW5kZXh8fGUucmFuZ2VzLmxlbmd0aCE9dGhpcy5yYW5nZXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5yYW5nZXMubGVuZ3RoO3QrKyl7dmFyIG49dGhpcy5yYW5nZXNbdF0scj1lLnJhbmdlc1t0XTtpZighbWUobi5hbmNob3Isci5hbmNob3IpfHwhbWUobi5oZWFkLHIuaGVhZCkpcmV0dXJuITF9cmV0dXJuITB9LG1pLnByb3RvdHlwZS5kZWVwQ29weT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLnJhbmdlcy5sZW5ndGg7dCsrKWVbdF09bmV3IGJpKGJlKHRoaXMucmFuZ2VzW3RdLmFuY2hvciksYmUodGhpcy5yYW5nZXNbdF0uaGVhZCkpO3JldHVybiBuZXcgbWkoZSx0aGlzLnByaW1JbmRleCl9LG1pLnByb3RvdHlwZS5zb21ldGhpbmdTZWxlY3RlZD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5yYW5nZXMubGVuZ3RoO2UrKylpZighdGhpcy5yYW5nZXNbZV0uZW1wdHkoKSlyZXR1cm4hMDtyZXR1cm4hMX0sbWkucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7dHx8KHQ9ZSk7Zm9yKHZhciBuPTA7bjx0aGlzLnJhbmdlcy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLnJhbmdlc1tuXTtpZih2ZSh0LHIuZnJvbSgpKT49MCYmdmUoZSxyLnRvKCkpPD0wKXJldHVybiBufXJldHVybi0xfTt2YXIgYmk9ZnVuY3Rpb24oZSx0KXt0aGlzLmFuY2hvcj1lLHRoaXMuaGVhZD10fTtmdW5jdGlvbiB5aShlLHQsbil7dmFyIHI9ZSYmZS5vcHRpb25zLnNlbGVjdGlvbnNNYXlUb3VjaCxpPXRbbl07dC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZlKGUuZnJvbSgpLHQuZnJvbSgpKX0pLG49Qih0LGkpO2Zvcih2YXIgbz0xO288dC5sZW5ndGg7bysrKXt2YXIgYT10W29dLHM9dFtvLTFdLGw9dmUocy50bygpLGEuZnJvbSgpKTtpZihyJiYhYS5lbXB0eSgpP2w+MDpsPj0wKXt2YXIgdT1BZShzLmZyb20oKSxhLmZyb20oKSksYz15ZShzLnRvKCksYS50bygpKSxoPXMuZW1wdHkoKT9hLmZyb20oKT09YS5oZWFkOnMuZnJvbSgpPT1zLmhlYWQ7bzw9biYmLS1uLHQuc3BsaWNlKC0tbywyLG5ldyBiaShoP2M6dSxoP3U6YykpfX1yZXR1cm4gbmV3IG1pKHQsbil9ZnVuY3Rpb24gQWkoZSx0KXtyZXR1cm4gbmV3IG1pKFtuZXcgYmkoZSx0fHxlKV0sMCl9ZnVuY3Rpb24gd2koZSl7cmV0dXJuIGUudGV4dD9nZShlLmZyb20ubGluZStlLnRleHQubGVuZ3RoLTEsXyhlLnRleHQpLmxlbmd0aCsoMT09ZS50ZXh0Lmxlbmd0aD9lLmZyb20uY2g6MCkpOmUudG99ZnVuY3Rpb24gQ2koZSx0KXtpZih2ZShlLHQuZnJvbSk8MClyZXR1cm4gZTtpZih2ZShlLHQudG8pPD0wKXJldHVybiB3aSh0KTt2YXIgbj1lLmxpbmUrdC50ZXh0Lmxlbmd0aC0odC50by5saW5lLXQuZnJvbS5saW5lKS0xLHI9ZS5jaDtyZXR1cm4gZS5saW5lPT10LnRvLmxpbmUmJihyKz13aSh0KS5jaC10LnRvLmNoKSxnZShuLHIpfWZ1bmN0aW9uIHhpKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPGUuc2VsLnJhbmdlcy5sZW5ndGg7cisrKXt2YXIgaT1lLnNlbC5yYW5nZXNbcl07bi5wdXNoKG5ldyBiaShDaShpLmFuY2hvcix0KSxDaShpLmhlYWQsdCkpKX1yZXR1cm4geWkoZS5jbSxuLGUuc2VsLnByaW1JbmRleCl9ZnVuY3Rpb24ga2koZSx0LG4pe3JldHVybiBlLmxpbmU9PXQubGluZT9nZShuLmxpbmUsZS5jaC10LmNoK24uY2gpOmdlKG4ubGluZSsoZS5saW5lLXQubGluZSksZS5jaCl9ZnVuY3Rpb24gSWkoZSl7ZS5kb2MubW9kZT1NdChlLm9wdGlvbnMsZS5kb2MubW9kZU9wdGlvbiksTWkoZSl9ZnVuY3Rpb24gTWkoZSl7ZS5kb2MuaXRlcihmdW5jdGlvbihlKXtlLnN0YXRlQWZ0ZXImJihlLnN0YXRlQWZ0ZXI9bnVsbCksZS5zdHlsZXMmJihlLnN0eWxlcz1udWxsKX0pLGUuZG9jLm1vZGVGcm9udGllcj1lLmRvYy5oaWdobGlnaHRGcm9udGllcj1lLmRvYy5maXJzdCxuaShlLDEwMCksZS5zdGF0ZS5tb2RlR2VuKyssZS5jdXJPcCYmSnIoZSl9ZnVuY3Rpb24gU2koZSx0KXtyZXR1cm4gMD09dC5mcm9tLmNoJiYwPT10LnRvLmNoJiZcIlwiPT1fKHQudGV4dCkmJighZS5jbXx8ZS5jbS5vcHRpb25zLndob2xlTGluZVVwZGF0ZUJlZm9yZSl9ZnVuY3Rpb24gTGkoZSx0LG4scil7ZnVuY3Rpb24gaShlKXtyZXR1cm4gbj9uW2VdOm51bGx9ZnVuY3Rpb24gbyhlLG4saSl7IWZ1bmN0aW9uKGUsdCxuLHIpe2UudGV4dD10LGUuc3RhdGVBZnRlciYmKGUuc3RhdGVBZnRlcj1udWxsKSxlLnN0eWxlcyYmKGUuc3R5bGVzPW51bGwpLG51bGwhPWUub3JkZXImJihlLm9yZGVyPW51bGwpLE5lKGUpLEVlKGUsbik7dmFyIGk9cj9yKGUpOjE7aSE9ZS5oZWlnaHQmJmNlKGUsaSl9KGUsbixpLHIpLHNuKGUsXCJjaGFuZ2VcIixlLHQpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49W10sbz1lO288dDsrK28pbi5wdXNoKG5ldyBadCh1W29dLGkobykscikpO3JldHVybiBufXZhciBzPXQuZnJvbSxsPXQudG8sdT10LnRleHQsYz1zZShlLHMubGluZSksaD1zZShlLGwubGluZSksZD1fKHUpLGY9aSh1Lmxlbmd0aC0xKSxwPWwubGluZS1zLmxpbmU7aWYodC5mdWxsKWUuaW5zZXJ0KDAsYSgwLHUubGVuZ3RoKSksZS5yZW1vdmUodS5sZW5ndGgsZS5zaXplLXUubGVuZ3RoKTtlbHNlIGlmKFNpKGUsdCkpe3ZhciBnPWEoMCx1Lmxlbmd0aC0xKTtvKGgsaC50ZXh0LGYpLHAmJmUucmVtb3ZlKHMubGluZSxwKSxnLmxlbmd0aCYmZS5pbnNlcnQocy5saW5lLGcpfWVsc2UgaWYoYz09aClpZigxPT11Lmxlbmd0aClvKGMsYy50ZXh0LnNsaWNlKDAscy5jaCkrZCtjLnRleHQuc2xpY2UobC5jaCksZik7ZWxzZXt2YXIgdj1hKDEsdS5sZW5ndGgtMSk7di5wdXNoKG5ldyBadChkK2MudGV4dC5zbGljZShsLmNoKSxmLHIpKSxvKGMsYy50ZXh0LnNsaWNlKDAscy5jaCkrdVswXSxpKDApKSxlLmluc2VydChzLmxpbmUrMSx2KX1lbHNlIGlmKDE9PXUubGVuZ3RoKW8oYyxjLnRleHQuc2xpY2UoMCxzLmNoKSt1WzBdK2gudGV4dC5zbGljZShsLmNoKSxpKDApKSxlLnJlbW92ZShzLmxpbmUrMSxwKTtlbHNle28oYyxjLnRleHQuc2xpY2UoMCxzLmNoKSt1WzBdLGkoMCkpLG8oaCxkK2gudGV4dC5zbGljZShsLmNoKSxmKTt2YXIgbT1hKDEsdS5sZW5ndGgtMSk7cD4xJiZlLnJlbW92ZShzLmxpbmUrMSxwLTEpLGUuaW5zZXJ0KHMubGluZSsxLG0pfXNuKGUsXCJjaGFuZ2VcIixlLHQpfWZ1bmN0aW9uIFRpKGUsdCxuKXshZnVuY3Rpb24gZShyLGksbyl7aWYoci5saW5rZWQpZm9yKHZhciBhPTA7YTxyLmxpbmtlZC5sZW5ndGg7KythKXt2YXIgcz1yLmxpbmtlZFthXTtpZihzLmRvYyE9aSl7dmFyIGw9byYmcy5zaGFyZWRIaXN0O24mJiFsfHwodChzLmRvYyxsKSxlKHMuZG9jLHIsbCkpfX19KGUsbnVsbCwhMCl9ZnVuY3Rpb24gT2koZSx0KXtpZih0LmNtKXRocm93IG5ldyBFcnJvcihcIlRoaXMgZG9jdW1lbnQgaXMgYWxyZWFkeSBpbiB1c2UuXCIpO2UuZG9jPXQsdC5jbT1lLG9yKGUpLElpKGUpLE5pKGUpLGUub3B0aW9ucy5saW5lV3JhcHBpbmd8fFhlKGUpLGUub3B0aW9ucy5tb2RlPXQubW9kZU9wdGlvbixKcihlKX1mdW5jdGlvbiBOaShlKXsoXCJydGxcIj09ZS5kb2MuZGlyZWN0aW9uP1A6TSkoZS5kaXNwbGF5LmxpbmVEaXYsXCJDb2RlTWlycm9yLXJ0bFwiKX1mdW5jdGlvbiBFaShlKXt0aGlzLmRvbmU9W10sdGhpcy51bmRvbmU9W10sdGhpcy51bmRvRGVwdGg9MS8wLHRoaXMubGFzdE1vZFRpbWU9dGhpcy5sYXN0U2VsVGltZT0wLHRoaXMubGFzdE9wPXRoaXMubGFzdFNlbE9wPW51bGwsdGhpcy5sYXN0T3JpZ2luPXRoaXMubGFzdFNlbE9yaWdpbj1udWxsLHRoaXMuZ2VuZXJhdGlvbj10aGlzLm1heEdlbmVyYXRpb249ZXx8MX1mdW5jdGlvbiBQaShlLHQpe3ZhciBuPXtmcm9tOmJlKHQuZnJvbSksdG86d2kodCksdGV4dDpsZShlLHQuZnJvbSx0LnRvKX07cmV0dXJuIEZpKGUsbix0LmZyb20ubGluZSx0LnRvLmxpbmUrMSksVGkoZSxmdW5jdGlvbihlKXtyZXR1cm4gRmkoZSxuLHQuZnJvbS5saW5lLHQudG8ubGluZSsxKX0sITApLG59ZnVuY3Rpb24gRGkoZSl7Zm9yKDtlLmxlbmd0aDspe3ZhciB0PV8oZSk7aWYoIXQucmFuZ2VzKWJyZWFrO2UucG9wKCl9fWZ1bmN0aW9uIFdpKGUsdCxuLHIpe3ZhciBpPWUuaGlzdG9yeTtpLnVuZG9uZS5sZW5ndGg9MDt2YXIgbyxhLHM9K25ldyBEYXRlO2lmKChpLmxhc3RPcD09cnx8aS5sYXN0T3JpZ2luPT10Lm9yaWdpbiYmdC5vcmlnaW4mJihcIitcIj09dC5vcmlnaW4uY2hhckF0KDApJiZpLmxhc3RNb2RUaW1lPnMtKGUuY20/ZS5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5OjUwMCl8fFwiKlwiPT10Lm9yaWdpbi5jaGFyQXQoMCkpKSYmKG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8oRGkoZS5kb25lKSxfKGUuZG9uZSkpOmUuZG9uZS5sZW5ndGgmJiFfKGUuZG9uZSkucmFuZ2VzP18oZS5kb25lKTplLmRvbmUubGVuZ3RoPjEmJiFlLmRvbmVbZS5kb25lLmxlbmd0aC0yXS5yYW5nZXM/KGUuZG9uZS5wb3AoKSxfKGUuZG9uZSkpOnZvaWQgMH0oaSxpLmxhc3RPcD09cikpKWE9XyhvLmNoYW5nZXMpLDA9PXZlKHQuZnJvbSx0LnRvKSYmMD09dmUodC5mcm9tLGEudG8pP2EudG89d2kodCk6by5jaGFuZ2VzLnB1c2goUGkoZSx0KSk7ZWxzZXt2YXIgbD1fKGkuZG9uZSk7Zm9yKGwmJmwucmFuZ2VzfHx6aShlLnNlbCxpLmRvbmUpLG89e2NoYW5nZXM6W1BpKGUsdCldLGdlbmVyYXRpb246aS5nZW5lcmF0aW9ufSxpLmRvbmUucHVzaChvKTtpLmRvbmUubGVuZ3RoPmkudW5kb0RlcHRoOylpLmRvbmUuc2hpZnQoKSxpLmRvbmVbMF0ucmFuZ2VzfHxpLmRvbmUuc2hpZnQoKX1pLmRvbmUucHVzaChuKSxpLmdlbmVyYXRpb249KytpLm1heEdlbmVyYXRpb24saS5sYXN0TW9kVGltZT1pLmxhc3RTZWxUaW1lPXMsaS5sYXN0T3A9aS5sYXN0U2VsT3A9cixpLmxhc3RPcmlnaW49aS5sYXN0U2VsT3JpZ2luPXQub3JpZ2luLGF8fHJ0KGUsXCJoaXN0b3J5QWRkZWRcIil9ZnVuY3Rpb24gUmkoZSx0LG4scil7dmFyIGk9ZS5oaXN0b3J5LG89ciYmci5vcmlnaW47bj09aS5sYXN0U2VsT3B8fG8mJmkubGFzdFNlbE9yaWdpbj09byYmKGkubGFzdE1vZFRpbWU9PWkubGFzdFNlbFRpbWUmJmkubGFzdE9yaWdpbj09b3x8ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dC5jaGFyQXQoMCk7cmV0dXJuXCIqXCI9PWl8fFwiK1wiPT1pJiZuLnJhbmdlcy5sZW5ndGg9PXIucmFuZ2VzLmxlbmd0aCYmbi5zb21ldGhpbmdTZWxlY3RlZCgpPT1yLnNvbWV0aGluZ1NlbGVjdGVkKCkmJm5ldyBEYXRlLWUuaGlzdG9yeS5sYXN0U2VsVGltZTw9KGUuY20/ZS5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5OjUwMCl9KGUsbyxfKGkuZG9uZSksdCkpP2kuZG9uZVtpLmRvbmUubGVuZ3RoLTFdPXQ6emkodCxpLmRvbmUpLGkubGFzdFNlbFRpbWU9K25ldyBEYXRlLGkubGFzdFNlbE9yaWdpbj1vLGkubGFzdFNlbE9wPW4sciYmITEhPT1yLmNsZWFyUmVkbyYmRGkoaS51bmRvbmUpfWZ1bmN0aW9uIHppKGUsdCl7dmFyIG49Xyh0KTtuJiZuLnJhbmdlcyYmbi5lcXVhbHMoZSl8fHQucHVzaChlKX1mdW5jdGlvbiBGaShlLHQsbixyKXt2YXIgaT10W1wic3BhbnNfXCIrZS5pZF0sbz0wO2UuaXRlcihNYXRoLm1heChlLmZpcnN0LG4pLE1hdGgubWluKGUuZmlyc3QrZS5zaXplLHIpLGZ1bmN0aW9uKG4pe24ubWFya2VkU3BhbnMmJigoaXx8KGk9dFtcInNwYW5zX1wiK2UuaWRdPXt9KSlbb109bi5tYXJrZWRTcGFucyksKytvfSl9ZnVuY3Rpb24gSGkoZSl7aWYoIWUpcmV0dXJuIG51bGw7Zm9yKHZhciB0LG49MDtuPGUubGVuZ3RoOysrbillW25dLm1hcmtlci5leHBsaWNpdGx5Q2xlYXJlZD90fHwodD1lLnNsaWNlKDAsbikpOnQmJnQucHVzaChlW25dKTtyZXR1cm4gdD90Lmxlbmd0aD90Om51bGw6ZX1mdW5jdGlvbiBCaShlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49dFtcInNwYW5zX1wiK2UuaWRdO2lmKCFuKXJldHVybiBudWxsO2Zvcih2YXIgcj1bXSxpPTA7aTx0LnRleHQubGVuZ3RoOysraSlyLnB1c2goSGkobltpXSkpO3JldHVybiByfShlLHQpLHI9VGUoZSx0KTtpZighbilyZXR1cm4gcjtpZighcilyZXR1cm4gbjtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoOysraSl7dmFyIG89bltpXSxhPXJbaV07aWYobyYmYSllOmZvcih2YXIgcz0wO3M8YS5sZW5ndGg7KytzKXtmb3IodmFyIGw9YVtzXSx1PTA7dTxvLmxlbmd0aDsrK3UpaWYob1t1XS5tYXJrZXI9PWwubWFya2VyKWNvbnRpbnVlIGU7by5wdXNoKGwpfWVsc2UgYSYmKG5baV09YSl9cmV0dXJuIG59ZnVuY3Rpb24gamkoZSx0LG4pe2Zvcih2YXIgcj1bXSxpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciBvPWVbaV07aWYoby5yYW5nZXMpci5wdXNoKG4/bWkucHJvdG90eXBlLmRlZXBDb3B5LmNhbGwobyk6byk7ZWxzZXt2YXIgYT1vLmNoYW5nZXMscz1bXTtyLnB1c2goe2NoYW5nZXM6c30pO2Zvcih2YXIgbD0wO2w8YS5sZW5ndGg7KytsKXt2YXIgdT1hW2xdLGM9dm9pZCAwO2lmKHMucHVzaCh7ZnJvbTp1LmZyb20sdG86dS50byx0ZXh0OnUudGV4dH0pLHQpZm9yKHZhciBoIGluIHUpKGM9aC5tYXRjaCgvXnNwYW5zXyhcXGQrKSQvKSkmJkIodCxOdW1iZXIoY1sxXSkpPi0xJiYoXyhzKVtoXT11W2hdLGRlbGV0ZSB1W2hdKX19fXJldHVybiByfWZ1bmN0aW9uIEdpKGUsdCxuLHIpe2lmKHIpe3ZhciBpPWUuYW5jaG9yO2lmKG4pe3ZhciBvPXZlKHQsaSk8MDtvIT12ZShuLGkpPDA/KGk9dCx0PW4pOm8hPXZlKHQsbik8MCYmKHQ9bil9cmV0dXJuIG5ldyBiaShpLHQpfXJldHVybiBuZXcgYmkobnx8dCx0KX1mdW5jdGlvbiBWaShlLHQsbixyLGkpe251bGw9PWkmJihpPWUuY20mJihlLmNtLmRpc3BsYXkuc2hpZnR8fGUuZXh0ZW5kKSksWGkoZSxuZXcgbWkoW0dpKGUuc2VsLnByaW1hcnkoKSx0LG4saSldLDApLHIpfWZ1bmN0aW9uIFVpKGUsdCxuKXtmb3IodmFyIHI9W10saT1lLmNtJiYoZS5jbS5kaXNwbGF5LnNoaWZ0fHxlLmV4dGVuZCksbz0wO288ZS5zZWwucmFuZ2VzLmxlbmd0aDtvKyspcltvXT1HaShlLnNlbC5yYW5nZXNbb10sdFtvXSxudWxsLGkpO3ZhciBhPXlpKGUuY20scixlLnNlbC5wcmltSW5kZXgpO1hpKGUsYSxuKX1mdW5jdGlvbiBaaShlLHQsbixyKXt2YXIgaT1lLnNlbC5yYW5nZXMuc2xpY2UoMCk7aVt0XT1uLFhpKGUseWkoZS5jbSxpLGUuc2VsLnByaW1JbmRleCkscil9ZnVuY3Rpb24gWWkoZSx0LG4scil7WGkoZSxBaSh0LG4pLHIpfWZ1bmN0aW9uIFFpKGUsdCxuKXt2YXIgcj1lLmhpc3RvcnkuZG9uZSxpPV8ocik7aSYmaS5yYW5nZXM/KHJbci5sZW5ndGgtMV09dCxfaShlLHQsbikpOlhpKGUsdCxuKX1mdW5jdGlvbiBYaShlLHQsbil7X2koZSx0LG4pLFJpKGUsZS5zZWwsZS5jbT9lLmNtLmN1ck9wLmlkOk5hTixuKX1mdW5jdGlvbiBfaShlLHQsbil7KGF0KGUsXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIil8fGUuY20mJmF0KGUuY20sXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIikpJiYodD1mdW5jdGlvbihlLHQsbil7dmFyIHI9e3Jhbmdlczp0LnJhbmdlcyx1cGRhdGU6ZnVuY3Rpb24odCl7dGhpcy5yYW5nZXM9W107Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5yYW5nZXNbbl09bmV3IGJpKENlKGUsdFtuXS5hbmNob3IpLENlKGUsdFtuXS5oZWFkKSl9LG9yaWdpbjpuJiZuLm9yaWdpbn07cmV0dXJuIHJ0KGUsXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIixlLHIpLGUuY20mJnJ0KGUuY20sXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIixlLmNtLHIpLHIucmFuZ2VzIT10LnJhbmdlcz95aShlLmNtLHIucmFuZ2VzLHIucmFuZ2VzLmxlbmd0aC0xKTp0fShlLHQsbikpO3ZhciByPW4mJm4uYmlhc3x8KHZlKHQucHJpbWFyeSgpLmhlYWQsZS5zZWwucHJpbWFyeSgpLmhlYWQpPDA/LTE6MSk7S2koZSxxaShlLHQsciwhMCkpLG4mJiExPT09bi5zY3JvbGx8fCFlLmNtfHxJcihlLmNtKX1mdW5jdGlvbiBLaShlLHQpe3QuZXF1YWxzKGUuc2VsKXx8KGUuc2VsPXQsZS5jbSYmKGUuY20uY3VyT3AudXBkYXRlSW5wdXQ9ZS5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwLG90KGUuY20pKSxzbihlLFwiY3Vyc29yQWN0aXZpdHlcIixlKSl9ZnVuY3Rpb24gSmkoZSl7S2koZSxxaShlLGUuc2VsLG51bGwsITEpKX1mdW5jdGlvbiBxaShlLHQsbixyKXtmb3IodmFyIGksbz0wO288dC5yYW5nZXMubGVuZ3RoO28rKyl7dmFyIGE9dC5yYW5nZXNbb10scz10LnJhbmdlcy5sZW5ndGg9PWUuc2VsLnJhbmdlcy5sZW5ndGgmJmUuc2VsLnJhbmdlc1tvXSxsPWVvKGUsYS5hbmNob3IscyYmcy5hbmNob3IsbixyKSx1PWVvKGUsYS5oZWFkLHMmJnMuaGVhZCxuLHIpOyhpfHxsIT1hLmFuY2hvcnx8dSE9YS5oZWFkKSYmKGl8fChpPXQucmFuZ2VzLnNsaWNlKDAsbykpLGlbb109bmV3IGJpKGwsdSkpfXJldHVybiBpP3lpKGUuY20saSx0LnByaW1JbmRleCk6dH1mdW5jdGlvbiAkaShlLHQsbixyLGkpe3ZhciBvPXNlKGUsdC5saW5lKTtpZihvLm1hcmtlZFNwYW5zKWZvcih2YXIgYT0wO2E8by5tYXJrZWRTcGFucy5sZW5ndGg7KythKXt2YXIgcz1vLm1hcmtlZFNwYW5zW2FdLGw9cy5tYXJrZXI7aWYoKG51bGw9PXMuZnJvbXx8KGwuaW5jbHVzaXZlTGVmdD9zLmZyb208PXQuY2g6cy5mcm9tPHQuY2gpKSYmKG51bGw9PXMudG98fChsLmluY2x1c2l2ZVJpZ2h0P3MudG8+PXQuY2g6cy50bz50LmNoKSkpe2lmKGkmJihydChsLFwiYmVmb3JlQ3Vyc29yRW50ZXJcIiksbC5leHBsaWNpdGx5Q2xlYXJlZCkpe2lmKG8ubWFya2VkU3BhbnMpey0tYTtjb250aW51ZX1icmVha31pZighbC5hdG9taWMpY29udGludWU7aWYobil7dmFyIHU9bC5maW5kKHI8MD8xOi0xKSxjPXZvaWQgMDtpZigocjwwP2wuaW5jbHVzaXZlUmlnaHQ6bC5pbmNsdXNpdmVMZWZ0KSYmKHU9dG8oZSx1LC1yLHUmJnUubGluZT09dC5saW5lP286bnVsbCkpLHUmJnUubGluZT09dC5saW5lJiYoYz12ZSh1LG4pKSYmKHI8MD9jPDA6Yz4wKSlyZXR1cm4gJGkoZSx1LHQscixpKX12YXIgaD1sLmZpbmQocjwwPy0xOjEpO3JldHVybihyPDA/bC5pbmNsdXNpdmVMZWZ0OmwuaW5jbHVzaXZlUmlnaHQpJiYoaD10byhlLGgscixoLmxpbmU9PXQubGluZT9vOm51bGwpKSxoPyRpKGUsaCx0LHIsaSk6bnVsbH19cmV0dXJuIHR9ZnVuY3Rpb24gZW8oZSx0LG4scixpKXt2YXIgbz1yfHwxLGE9JGkoZSx0LG4sbyxpKXx8IWkmJiRpKGUsdCxuLG8sITApfHwkaShlLHQsbiwtbyxpKXx8IWkmJiRpKGUsdCxuLC1vLCEwKTtyZXR1cm4gYXx8KGUuY2FudEVkaXQ9ITAsZ2UoZS5maXJzdCwwKSl9ZnVuY3Rpb24gdG8oZSx0LG4scil7cmV0dXJuIG48MCYmMD09dC5jaD90LmxpbmU+ZS5maXJzdD9DZShlLGdlKHQubGluZS0xKSk6bnVsbDpuPjAmJnQuY2g9PShyfHxzZShlLHQubGluZSkpLnRleHQubGVuZ3RoP3QubGluZTxlLmZpcnN0K2Uuc2l6ZS0xP2dlKHQubGluZSsxLDApOm51bGw6bmV3IGdlKHQubGluZSx0LmNoK24pfWZ1bmN0aW9uIG5vKGUpe2Uuc2V0U2VsZWN0aW9uKGdlKGUuZmlyc3RMaW5lKCksMCksZ2UoZS5sYXN0TGluZSgpKSxWKX1mdW5jdGlvbiBybyhlLHQsbil7dmFyIHI9e2NhbmNlbGVkOiExLGZyb206dC5mcm9tLHRvOnQudG8sdGV4dDp0LnRleHQsb3JpZ2luOnQub3JpZ2luLGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiByLmNhbmNlbGVkPSEwfX07cmV0dXJuIG4mJihyLnVwZGF0ZT1mdW5jdGlvbih0LG4saSxvKXt0JiYoci5mcm9tPUNlKGUsdCkpLG4mJihyLnRvPUNlKGUsbikpLGkmJihyLnRleHQ9aSksdm9pZCAwIT09byYmKHIub3JpZ2luPW8pfSkscnQoZSxcImJlZm9yZUNoYW5nZVwiLGUsciksZS5jbSYmcnQoZS5jbSxcImJlZm9yZUNoYW5nZVwiLGUuY20sciksci5jYW5jZWxlZD9udWxsOntmcm9tOnIuZnJvbSx0bzpyLnRvLHRleHQ6ci50ZXh0LG9yaWdpbjpyLm9yaWdpbn19ZnVuY3Rpb24gaW8oZSx0LG4pe2lmKGUuY20pe2lmKCFlLmNtLmN1ck9wKXJldHVybiBYcihlLmNtLGlvKShlLHQsbik7aWYoZS5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKXJldHVybn1pZighKGF0KGUsXCJiZWZvcmVDaGFuZ2VcIil8fGUuY20mJmF0KGUuY20sXCJiZWZvcmVDaGFuZ2VcIikpfHwodD1ybyhlLHQsITApKSl7dmFyIHI9a2UmJiFuJiZmdW5jdGlvbihlLHQsbil7dmFyIHI9bnVsbDtpZihlLml0ZXIodC5saW5lLG4ubGluZSsxLGZ1bmN0aW9uKGUpe2lmKGUubWFya2VkU3BhbnMpZm9yKHZhciB0PTA7dDxlLm1hcmtlZFNwYW5zLmxlbmd0aDsrK3Qpe3ZhciBuPWUubWFya2VkU3BhbnNbdF0ubWFya2VyOyFuLnJlYWRPbmx5fHxyJiYtMSE9QihyLG4pfHwocnx8KHI9W10pKS5wdXNoKG4pfX0pLCFyKXJldHVybiBudWxsO2Zvcih2YXIgaT1be2Zyb206dCx0bzpufV0sbz0wO288ci5sZW5ndGg7KytvKWZvcih2YXIgYT1yW29dLHM9YS5maW5kKDApLGw9MDtsPGkubGVuZ3RoOysrbCl7dmFyIHU9aVtsXTtpZighKHZlKHUudG8scy5mcm9tKTwwfHx2ZSh1LmZyb20scy50byk+MCkpe3ZhciBjPVtsLDFdLGg9dmUodS5mcm9tLHMuZnJvbSksZD12ZSh1LnRvLHMudG8pOyhoPDB8fCFhLmluY2x1c2l2ZUxlZnQmJiFoKSYmYy5wdXNoKHtmcm9tOnUuZnJvbSx0bzpzLmZyb219KSwoZD4wfHwhYS5pbmNsdXNpdmVSaWdodCYmIWQpJiZjLnB1c2goe2Zyb206cy50byx0bzp1LnRvfSksaS5zcGxpY2UuYXBwbHkoaSxjKSxsKz1jLmxlbmd0aC0zfX1yZXR1cm4gaX0oZSx0LmZyb20sdC50byk7aWYocilmb3IodmFyIGk9ci5sZW5ndGgtMTtpPj0wOy0taSlvbyhlLHtmcm9tOnJbaV0uZnJvbSx0bzpyW2ldLnRvLHRleHQ6aT9bXCJcIl06dC50ZXh0LG9yaWdpbjp0Lm9yaWdpbn0pO2Vsc2Ugb28oZSx0KX19ZnVuY3Rpb24gb28oZSx0KXtpZigxIT10LnRleHQubGVuZ3RofHxcIlwiIT10LnRleHRbMF18fDAhPXZlKHQuZnJvbSx0LnRvKSl7dmFyIG49eGkoZSx0KTtXaShlLHQsbixlLmNtP2UuY20uY3VyT3AuaWQ6TmFOKSxsbyhlLHQsbixUZShlLHQpKTt2YXIgcj1bXTtUaShlLGZ1bmN0aW9uKGUsbil7bnx8LTEhPUIocixlLmhpc3RvcnkpfHwoZm8oZS5oaXN0b3J5LHQpLHIucHVzaChlLmhpc3RvcnkpKSxsbyhlLHQsbnVsbCxUZShlLHQpKX0pfX1mdW5jdGlvbiBhbyhlLHQsbil7dmFyIHI9ZS5jbSYmZS5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzO2lmKCFyfHxuKXtmb3IodmFyIGksbz1lLmhpc3RvcnksYT1lLnNlbCxzPVwidW5kb1wiPT10P28uZG9uZTpvLnVuZG9uZSxsPVwidW5kb1wiPT10P28udW5kb25lOm8uZG9uZSx1PTA7dTxzLmxlbmd0aCYmKGk9c1t1XSxuPyFpLnJhbmdlc3x8aS5lcXVhbHMoZS5zZWwpOmkucmFuZ2VzKTt1KyspO2lmKHUhPXMubGVuZ3RoKXtmb3Ioby5sYXN0T3JpZ2luPW8ubGFzdFNlbE9yaWdpbj1udWxsOzspe2lmKCEoaT1zLnBvcCgpKS5yYW5nZXMpe2lmKHIpcmV0dXJuIHZvaWQgcy5wdXNoKGkpO2JyZWFrfWlmKHppKGksbCksbiYmIWkuZXF1YWxzKGUuc2VsKSlyZXR1cm4gdm9pZCBYaShlLGkse2NsZWFyUmVkbzohMX0pO2E9aX12YXIgYz1bXTt6aShhLGwpLGwucHVzaCh7Y2hhbmdlczpjLGdlbmVyYXRpb246by5nZW5lcmF0aW9ufSksby5nZW5lcmF0aW9uPWkuZ2VuZXJhdGlvbnx8KytvLm1heEdlbmVyYXRpb247Zm9yKHZhciBoPWF0KGUsXCJiZWZvcmVDaGFuZ2VcIil8fGUuY20mJmF0KGUuY20sXCJiZWZvcmVDaGFuZ2VcIiksZD1mdW5jdGlvbihuKXt2YXIgcj1pLmNoYW5nZXNbbl07aWYoci5vcmlnaW49dCxoJiYhcm8oZSxyLCExKSlyZXR1cm4gcy5sZW5ndGg9MCx7fTtjLnB1c2goUGkoZSxyKSk7dmFyIG89bj94aShlLHIpOl8ocyk7bG8oZSxyLG8sQmkoZSxyKSksIW4mJmUuY20mJmUuY20uc2Nyb2xsSW50b1ZpZXcoe2Zyb206ci5mcm9tLHRvOndpKHIpfSk7dmFyIGE9W107VGkoZSxmdW5jdGlvbihlLHQpe3R8fC0xIT1CKGEsZS5oaXN0b3J5KXx8KGZvKGUuaGlzdG9yeSxyKSxhLnB1c2goZS5oaXN0b3J5KSksbG8oZSxyLG51bGwsQmkoZSxyKSl9KX0sZj1pLmNoYW5nZXMubGVuZ3RoLTE7Zj49MDstLWYpe3ZhciBwPWQoZik7aWYocClyZXR1cm4gcC52fX19fWZ1bmN0aW9uIHNvKGUsdCl7aWYoMCE9dCYmKGUuZmlyc3QrPXQsZS5zZWw9bmV3IG1pKEsoZS5zZWwucmFuZ2VzLGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYmkoZ2UoZS5hbmNob3IubGluZSt0LGUuYW5jaG9yLmNoKSxnZShlLmhlYWQubGluZSt0LGUuaGVhZC5jaCkpfSksZS5zZWwucHJpbUluZGV4KSxlLmNtKSl7SnIoZS5jbSxlLmZpcnN0LGUuZmlyc3QtdCx0KTtmb3IodmFyIG49ZS5jbS5kaXNwbGF5LHI9bi52aWV3RnJvbTtyPG4udmlld1RvO3IrKylxcihlLmNtLHIsXCJndXR0ZXJcIil9fWZ1bmN0aW9uIGxvKGUsdCxuLHIpe2lmKGUuY20mJiFlLmNtLmN1ck9wKXJldHVybiBYcihlLmNtLGxvKShlLHQsbixyKTtpZih0LnRvLmxpbmU8ZS5maXJzdClzbyhlLHQudGV4dC5sZW5ndGgtMS0odC50by5saW5lLXQuZnJvbS5saW5lKSk7ZWxzZSBpZighKHQuZnJvbS5saW5lPmUubGFzdExpbmUoKSkpe2lmKHQuZnJvbS5saW5lPGUuZmlyc3Qpe3ZhciBpPXQudGV4dC5sZW5ndGgtMS0oZS5maXJzdC10LmZyb20ubGluZSk7c28oZSxpKSx0PXtmcm9tOmdlKGUuZmlyc3QsMCksdG86Z2UodC50by5saW5lK2ksdC50by5jaCksdGV4dDpbXyh0LnRleHQpXSxvcmlnaW46dC5vcmlnaW59fXZhciBvPWUubGFzdExpbmUoKTt0LnRvLmxpbmU+byYmKHQ9e2Zyb206dC5mcm9tLHRvOmdlKG8sc2UoZSxvKS50ZXh0Lmxlbmd0aCksdGV4dDpbdC50ZXh0WzBdXSxvcmlnaW46dC5vcmlnaW59KSx0LnJlbW92ZWQ9bGUoZSx0LmZyb20sdC50byksbnx8KG49eGkoZSx0KSksZS5jbT9mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5kb2MsaT1lLmRpc3BsYXksbz10LmZyb20sYT10LnRvLHM9ITEsbD1vLmxpbmU7ZS5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KGw9aGUoamUoc2UocixvLmxpbmUpKSksci5pdGVyKGwsYS5saW5lKzEsZnVuY3Rpb24oZSl7aWYoZT09aS5tYXhMaW5lKXJldHVybiBzPSEwLCEwfSkpLHIuc2VsLmNvbnRhaW5zKHQuZnJvbSx0LnRvKT4tMSYmb3QoZSksTGkocix0LG4saXIoZSkpLGUub3B0aW9ucy5saW5lV3JhcHBpbmd8fChyLml0ZXIobCxvLmxpbmUrdC50ZXh0Lmxlbmd0aCxmdW5jdGlvbihlKXt2YXIgdD1RZShlKTt0PmkubWF4TGluZUxlbmd0aCYmKGkubWF4TGluZT1lLGkubWF4TGluZUxlbmd0aD10LGkubWF4TGluZUNoYW5nZWQ9ITAscz0hMSl9KSxzJiYoZS5jdXJPcC51cGRhdGVNYXhMaW5lPSEwKSksZnVuY3Rpb24oZSx0KXtpZihlLm1vZGVGcm9udGllcj1NYXRoLm1pbihlLm1vZGVGcm9udGllcix0KSwhKGUuaGlnaGxpZ2h0RnJvbnRpZXI8dC0xMCkpe2Zvcih2YXIgbj1lLmZpcnN0LHI9dC0xO3I+bjtyLS0pe3ZhciBpPXNlKGUscikuc3RhdGVBZnRlcjtpZihpJiYoIShpIGluc3RhbmNlb2YgUHQpfHxyK2kubG9va0FoZWFkPHQpKXtuPXIrMTticmVha319ZS5oaWdobGlnaHRGcm9udGllcj1NYXRoLm1pbihlLmhpZ2hsaWdodEZyb250aWVyLG4pfX0ocixvLmxpbmUpLG5pKGUsNDAwKTt2YXIgdT10LnRleHQubGVuZ3RoLShhLmxpbmUtby5saW5lKS0xO3QuZnVsbD9KcihlKTpvLmxpbmUhPWEubGluZXx8MSE9dC50ZXh0Lmxlbmd0aHx8U2koZS5kb2MsdCk/SnIoZSxvLmxpbmUsYS5saW5lKzEsdSk6cXIoZSxvLmxpbmUsXCJ0ZXh0XCIpO3ZhciBjPWF0KGUsXCJjaGFuZ2VzXCIpLGg9YXQoZSxcImNoYW5nZVwiKTtpZihofHxjKXt2YXIgZD17ZnJvbTpvLHRvOmEsdGV4dDp0LnRleHQscmVtb3ZlZDp0LnJlbW92ZWQsb3JpZ2luOnQub3JpZ2lufTtoJiZzbihlLFwiY2hhbmdlXCIsZSxkKSxjJiYoZS5jdXJPcC5jaGFuZ2VPYmpzfHwoZS5jdXJPcC5jaGFuZ2VPYmpzPVtdKSkucHVzaChkKX1lLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnU9bnVsbH0oZS5jbSx0LHIpOkxpKGUsdCxyKSxfaShlLG4sVil9fWZ1bmN0aW9uIHVvKGUsdCxuLHIsaSl7dmFyIG87cnx8KHI9biksdmUocixuKTwwJiYobj0obz1bcixuXSlbMF0scj1vWzFdKSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5zcGxpdExpbmVzKHQpKSxpbyhlLHtmcm9tOm4sdG86cix0ZXh0OnQsb3JpZ2luOml9KX1mdW5jdGlvbiBjbyhlLHQsbixyKXtuPGUubGluZT9lLmxpbmUrPXI6dDxlLmxpbmUmJihlLmxpbmU9dCxlLmNoPTApfWZ1bmN0aW9uIGhvKGUsdCxuLHIpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKXt2YXIgbz1lW2ldLGE9ITA7aWYoby5yYW5nZXMpe28uY29waWVkfHwoKG89ZVtpXT1vLmRlZXBDb3B5KCkpLmNvcGllZD0hMCk7Zm9yKHZhciBzPTA7czxvLnJhbmdlcy5sZW5ndGg7cysrKWNvKG8ucmFuZ2VzW3NdLmFuY2hvcix0LG4sciksY28oby5yYW5nZXNbc10uaGVhZCx0LG4scil9ZWxzZXtmb3IodmFyIGw9MDtsPG8uY2hhbmdlcy5sZW5ndGg7KytsKXt2YXIgdT1vLmNoYW5nZXNbbF07aWYobjx1LmZyb20ubGluZSl1LmZyb209Z2UodS5mcm9tLmxpbmUrcix1LmZyb20uY2gpLHUudG89Z2UodS50by5saW5lK3IsdS50by5jaCk7ZWxzZSBpZih0PD11LnRvLmxpbmUpe2E9ITE7YnJlYWt9fWF8fChlLnNwbGljZSgwLGkrMSksaT0wKX19fWZ1bmN0aW9uIGZvKGUsdCl7dmFyIG49dC5mcm9tLmxpbmUscj10LnRvLmxpbmUsaT10LnRleHQubGVuZ3RoLShyLW4pLTE7aG8oZS5kb25lLG4scixpKSxobyhlLnVuZG9uZSxuLHIsaSl9ZnVuY3Rpb24gcG8oZSx0LG4scil7dmFyIGk9dCxvPXQ7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQ/bz1zZShlLHdlKGUsdCkpOmk9aGUodCksbnVsbD09aT9udWxsOihyKG8saSkmJmUuY20mJnFyKGUuY20saSxuKSxvKX1mdW5jdGlvbiBnbyhlKXt0aGlzLmxpbmVzPWUsdGhpcy5wYXJlbnQ9bnVsbDtmb3IodmFyIHQ9MCxuPTA7bjxlLmxlbmd0aDsrK24pZVtuXS5wYXJlbnQ9dGhpcyx0Kz1lW25dLmhlaWdodDt0aGlzLmhlaWdodD10fWZ1bmN0aW9uIHZvKGUpe3RoaXMuY2hpbGRyZW49ZTtmb3IodmFyIHQ9MCxuPTAscj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgaT1lW3JdO3QrPWkuY2h1bmtTaXplKCksbis9aS5oZWlnaHQsaS5wYXJlbnQ9dGhpc310aGlzLnNpemU9dCx0aGlzLmhlaWdodD1uLHRoaXMucGFyZW50PW51bGx9YmkucHJvdG90eXBlLmZyb209ZnVuY3Rpb24oKXtyZXR1cm4gQWUodGhpcy5hbmNob3IsdGhpcy5oZWFkKX0sYmkucHJvdG90eXBlLnRvPWZ1bmN0aW9uKCl7cmV0dXJuIHllKHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LGJpLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWQubGluZT09dGhpcy5hbmNob3IubGluZSYmdGhpcy5oZWFkLmNoPT10aGlzLmFuY2hvci5jaH0sZ28ucHJvdG90eXBlPXtjaHVua1NpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lcy5sZW5ndGh9LHJlbW92ZUlubmVyOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUscj1lK3Q7bjxyOysrbil7dmFyIGk9dGhpcy5saW5lc1tuXTt0aGlzLmhlaWdodC09aS5oZWlnaHQsWXQoaSksc24oaSxcImRlbGV0ZVwiKX10aGlzLmxpbmVzLnNwbGljZShlLHQpfSxjb2xsYXBzZTpmdW5jdGlvbihlKXtlLnB1c2guYXBwbHkoZSx0aGlzLmxpbmVzKX0saW5zZXJ0SW5uZXI6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuaGVpZ2h0Kz1uLHRoaXMubGluZXM9dGhpcy5saW5lcy5zbGljZSgwLGUpLmNvbmNhdCh0KS5jb25jYXQodGhpcy5saW5lcy5zbGljZShlKSk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpdFtyXS5wYXJlbnQ9dGhpc30saXRlck46ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lK3Q7ZTxyOysrZSlpZihuKHRoaXMubGluZXNbZV0pKXJldHVybiEwfX0sdm8ucHJvdG90eXBlPXtjaHVua1NpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfSxyZW1vdmVJbm5lcjpmdW5jdGlvbihlLHQpe3RoaXMuc2l6ZS09dDtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrbil7dmFyIHI9dGhpcy5jaGlsZHJlbltuXSxpPXIuY2h1bmtTaXplKCk7aWYoZTxpKXt2YXIgbz1NYXRoLm1pbih0LGktZSksYT1yLmhlaWdodDtpZihyLnJlbW92ZUlubmVyKGUsbyksdGhpcy5oZWlnaHQtPWEtci5oZWlnaHQsaT09byYmKHRoaXMuY2hpbGRyZW4uc3BsaWNlKG4tLSwxKSxyLnBhcmVudD1udWxsKSwwPT0odC09bykpYnJlYWs7ZT0wfWVsc2UgZS09aX1pZih0aGlzLnNpemUtdDwyNSYmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoPjF8fCEodGhpcy5jaGlsZHJlblswXWluc3RhbmNlb2YgZ28pKSl7dmFyIHM9W107dGhpcy5jb2xsYXBzZShzKSx0aGlzLmNoaWxkcmVuPVtuZXcgZ28ocyldLHRoaXMuY2hpbGRyZW5bMF0ucGFyZW50PXRoaXN9fSxjb2xsYXBzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrdCl0aGlzLmNoaWxkcmVuW3RdLmNvbGxhcHNlKGUpfSxpbnNlcnRJbm5lcjpmdW5jdGlvbihlLHQsbil7dGhpcy5zaXplKz10Lmxlbmd0aCx0aGlzLmhlaWdodCs9bjtmb3IodmFyIHI9MDtyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrcil7dmFyIGk9dGhpcy5jaGlsZHJlbltyXSxvPWkuY2h1bmtTaXplKCk7aWYoZTw9byl7aWYoaS5pbnNlcnRJbm5lcihlLHQsbiksaS5saW5lcyYmaS5saW5lcy5sZW5ndGg+NTApe2Zvcih2YXIgYT1pLmxpbmVzLmxlbmd0aCUyNSsyNSxzPWE7czxpLmxpbmVzLmxlbmd0aDspe3ZhciBsPW5ldyBnbyhpLmxpbmVzLnNsaWNlKHMscys9MjUpKTtpLmhlaWdodC09bC5oZWlnaHQsdGhpcy5jaGlsZHJlbi5zcGxpY2UoKytyLDAsbCksbC5wYXJlbnQ9dGhpc31pLmxpbmVzPWkubGluZXMuc2xpY2UoMCxhKSx0aGlzLm1heWJlU3BpbGwoKX1icmVha31lLT1vfX0sbWF5YmVTcGlsbDpmdW5jdGlvbigpe2lmKCEodGhpcy5jaGlsZHJlbi5sZW5ndGg8PTEwKSl7dmFyIGU9dGhpcztkb3t2YXIgdD1lLmNoaWxkcmVuLnNwbGljZShlLmNoaWxkcmVuLmxlbmd0aC01LDUpLG49bmV3IHZvKHQpO2lmKGUucGFyZW50KXtlLnNpemUtPW4uc2l6ZSxlLmhlaWdodC09bi5oZWlnaHQ7dmFyIHI9QihlLnBhcmVudC5jaGlsZHJlbixlKTtlLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UocisxLDAsbil9ZWxzZXt2YXIgaT1uZXcgdm8oZS5jaGlsZHJlbik7aS5wYXJlbnQ9ZSxlLmNoaWxkcmVuPVtpLG5dLGU9aX1uLnBhcmVudD1lLnBhcmVudH13aGlsZShlLmNoaWxkcmVuLmxlbmd0aD4xMCk7ZS5wYXJlbnQubWF5YmVTcGlsbCgpfX0saXRlck46ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgaT10aGlzLmNoaWxkcmVuW3JdLG89aS5jaHVua1NpemUoKTtpZihlPG8pe3ZhciBhPU1hdGgubWluKHQsby1lKTtpZihpLml0ZXJOKGUsYSxuKSlyZXR1cm4hMDtpZigwPT0odC09YSkpYnJlYWs7ZT0wfWVsc2UgZS09b319fTt2YXIgbW89ZnVuY3Rpb24oZSx0LG4pe2lmKG4pZm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHRoaXNbcl09bltyXSk7dGhpcy5kb2M9ZSx0aGlzLm5vZGU9dH07ZnVuY3Rpb24gYm8oZSx0LG4pe1llKHQpPChlLmN1ck9wJiZlLmN1ck9wLnNjcm9sbFRvcHx8ZS5kb2Muc2Nyb2xsVG9wKSYma3IoZSxuKX1tby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRvYy5jbSx0PXRoaXMubGluZS53aWRnZXRzLG49dGhpcy5saW5lLHI9aGUobik7aWYobnVsbCE9ciYmdCl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpdFtpXT09dGhpcyYmdC5zcGxpY2UoaS0tLDEpO3QubGVuZ3RofHwobi53aWRnZXRzPW51bGwpO3ZhciBvPUFuKHRoaXMpO2NlKG4sTWF0aC5tYXgoMCxuLmhlaWdodC1vKSksZSYmKFFyKGUsZnVuY3Rpb24oKXtibyhlLG4sLW8pLHFyKGUscixcIndpZGdldFwiKX0pLHNuKGUsXCJsaW5lV2lkZ2V0Q2xlYXJlZFwiLGUsdGhpcyxyKSl9fSxtby5wcm90b3R5cGUuY2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhlaWdodCxuPXRoaXMuZG9jLmNtLHI9dGhpcy5saW5lO3RoaXMuaGVpZ2h0PW51bGw7dmFyIGk9QW4odGhpcyktdDtpJiYoVWUodGhpcy5kb2Mscil8fGNlKHIsci5oZWlnaHQraSksbiYmUXIobixmdW5jdGlvbigpe24uY3VyT3AuZm9yY2VVcGRhdGU9ITAsYm8obixyLGkpLHNuKG4sXCJsaW5lV2lkZ2V0Q2hhbmdlZFwiLG4sZSxoZShyKSl9KSl9LHN0KG1vKTt2YXIgeW89MCxBbz1mdW5jdGlvbihlLHQpe3RoaXMubGluZXM9W10sdGhpcy50eXBlPXQsdGhpcy5kb2M9ZSx0aGlzLmlkPSsreW99O2Z1bmN0aW9uIHdvKGUsdCxuLHIsaSl7aWYociYmci5zaGFyZWQpcmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIsaSl7KHI9eihyKSkuc2hhcmVkPSExO3ZhciBvPVt3byhlLHQsbixyLGkpXSxhPW9bMF0scz1yLndpZGdldE5vZGU7cmV0dXJuIFRpKGUsZnVuY3Rpb24oZSl7cyYmKHIud2lkZ2V0Tm9kZT1zLmNsb25lTm9kZSghMCkpLG8ucHVzaCh3byhlLENlKGUsdCksQ2UoZSxuKSxyLGkpKTtmb3IodmFyIGw9MDtsPGUubGlua2VkLmxlbmd0aDsrK2wpaWYoZS5saW5rZWRbbF0uaXNQYXJlbnQpcmV0dXJuO2E9XyhvKX0pLG5ldyBDbyhvLGEpfShlLHQsbixyLGkpO2lmKGUuY20mJiFlLmNtLmN1ck9wKXJldHVybiBYcihlLmNtLHdvKShlLHQsbixyLGkpO3ZhciBvPW5ldyBBbyhlLGkpLGE9dmUodCxuKTtpZihyJiZ6KHIsbywhMSksYT4wfHwwPT1hJiYhMSE9PW8uY2xlYXJXaGVuRW1wdHkpcmV0dXJuIG87aWYoby5yZXBsYWNlZFdpdGgmJihvLmNvbGxhcHNlZD0hMCxvLndpZGdldE5vZGU9TyhcInNwYW5cIixbby5yZXBsYWNlZFdpdGhdLFwiQ29kZU1pcnJvci13aWRnZXRcIiksci5oYW5kbGVNb3VzZUV2ZW50c3x8by53aWRnZXROb2RlLnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIixcInRydWVcIiksci5pbnNlcnRMZWZ0JiYoby53aWRnZXROb2RlLmluc2VydExlZnQ9ITApKSxvLmNvbGxhcHNlZCl7aWYoQmUoZSx0LmxpbmUsdCxuLG8pfHx0LmxpbmUhPW4ubGluZSYmQmUoZSxuLmxpbmUsdCxuLG8pKXRocm93IG5ldyBFcnJvcihcIkluc2VydGluZyBjb2xsYXBzZWQgbWFya2VyIHBhcnRpYWxseSBvdmVybGFwcGluZyBhbiBleGlzdGluZyBvbmVcIik7SWU9ITB9by5hZGRUb0hpc3RvcnkmJldpKGUse2Zyb206dCx0bzpuLG9yaWdpbjpcIm1hcmtUZXh0XCJ9LGUuc2VsLE5hTik7dmFyIHMsbD10LmxpbmUsdT1lLmNtO2lmKGUuaXRlcihsLG4ubGluZSsxLGZ1bmN0aW9uKGUpe3UmJm8uY29sbGFwc2VkJiYhdS5vcHRpb25zLmxpbmVXcmFwcGluZyYmamUoZSk9PXUuZGlzcGxheS5tYXhMaW5lJiYocz0hMCksby5jb2xsYXBzZWQmJmwhPXQubGluZSYmY2UoZSwwKSxmdW5jdGlvbihlLHQpe2UubWFya2VkU3BhbnM9ZS5tYXJrZWRTcGFucz9lLm1hcmtlZFNwYW5zLmNvbmNhdChbdF0pOlt0XSx0Lm1hcmtlci5hdHRhY2hMaW5lKGUpfShlLG5ldyBNZShvLGw9PXQubGluZT90LmNoOm51bGwsbD09bi5saW5lP24uY2g6bnVsbCkpLCsrbH0pLG8uY29sbGFwc2VkJiZlLml0ZXIodC5saW5lLG4ubGluZSsxLGZ1bmN0aW9uKHQpe1VlKGUsdCkmJmNlKHQsMCl9KSxvLmNsZWFyT25FbnRlciYmZXQobyxcImJlZm9yZUN1cnNvckVudGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gby5jbGVhcigpfSksby5yZWFkT25seSYmKGtlPSEwLChlLmhpc3RvcnkuZG9uZS5sZW5ndGh8fGUuaGlzdG9yeS51bmRvbmUubGVuZ3RoKSYmZS5jbGVhckhpc3RvcnkoKSksby5jb2xsYXBzZWQmJihvLmlkPSsreW8sby5hdG9taWM9ITApLHUpe2lmKHMmJih1LmN1ck9wLnVwZGF0ZU1heExpbmU9ITApLG8uY29sbGFwc2VkKUpyKHUsdC5saW5lLG4ubGluZSsxKTtlbHNlIGlmKG8uY2xhc3NOYW1lfHxvLnN0YXJ0U3R5bGV8fG8uZW5kU3R5bGV8fG8uY3NzfHxvLmF0dHJpYnV0ZXN8fG8udGl0bGUpZm9yKHZhciBjPXQubGluZTtjPD1uLmxpbmU7YysrKXFyKHUsYyxcInRleHRcIik7by5hdG9taWMmJkppKHUuZG9jKSxzbih1LFwibWFya2VyQWRkZWRcIix1LG8pfXJldHVybiBvfUFvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2lmKCF0aGlzLmV4cGxpY2l0bHlDbGVhcmVkKXt2YXIgZT10aGlzLmRvYy5jbSx0PWUmJiFlLmN1ck9wO2lmKHQmJkJyKGUpLGF0KHRoaXMsXCJjbGVhclwiKSl7dmFyIG49dGhpcy5maW5kKCk7biYmc24odGhpcyxcImNsZWFyXCIsbi5mcm9tLG4udG8pfWZvcih2YXIgcj1udWxsLGk9bnVsbCxvPTA7bzx0aGlzLmxpbmVzLmxlbmd0aDsrK28pe3ZhciBhPXRoaXMubGluZXNbb10scz1TZShhLm1hcmtlZFNwYW5zLHRoaXMpO2UmJiF0aGlzLmNvbGxhcHNlZD9xcihlLGhlKGEpLFwidGV4dFwiKTplJiYobnVsbCE9cy50byYmKGk9aGUoYSkpLG51bGwhPXMuZnJvbSYmKHI9aGUoYSkpKSxhLm1hcmtlZFNwYW5zPUxlKGEubWFya2VkU3BhbnMscyksbnVsbD09cy5mcm9tJiZ0aGlzLmNvbGxhcHNlZCYmIVVlKHRoaXMuZG9jLGEpJiZlJiZjZShhLGVyKGUuZGlzcGxheSkpfWlmKGUmJnRoaXMuY29sbGFwc2VkJiYhZS5vcHRpb25zLmxpbmVXcmFwcGluZylmb3IodmFyIGw9MDtsPHRoaXMubGluZXMubGVuZ3RoOysrbCl7dmFyIHU9amUodGhpcy5saW5lc1tsXSksYz1RZSh1KTtjPmUuZGlzcGxheS5tYXhMaW5lTGVuZ3RoJiYoZS5kaXNwbGF5Lm1heExpbmU9dSxlLmRpc3BsYXkubWF4TGluZUxlbmd0aD1jLGUuZGlzcGxheS5tYXhMaW5lQ2hhbmdlZD0hMCl9bnVsbCE9ciYmZSYmdGhpcy5jb2xsYXBzZWQmJkpyKGUscixpKzEpLHRoaXMubGluZXMubGVuZ3RoPTAsdGhpcy5leHBsaWNpdGx5Q2xlYXJlZD0hMCx0aGlzLmF0b21pYyYmdGhpcy5kb2MuY2FudEVkaXQmJih0aGlzLmRvYy5jYW50RWRpdD0hMSxlJiZKaShlLmRvYykpLGUmJnNuKGUsXCJtYXJrZXJDbGVhcmVkXCIsZSx0aGlzLHIsaSksdCYmanIoZSksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmNsZWFyKCl9fSxBby5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihlLHQpe3ZhciBuLHI7bnVsbD09ZSYmXCJib29rbWFya1wiPT10aGlzLnR5cGUmJihlPTEpO2Zvcih2YXIgaT0wO2k8dGhpcy5saW5lcy5sZW5ndGg7KytpKXt2YXIgbz10aGlzLmxpbmVzW2ldLGE9U2Uoby5tYXJrZWRTcGFucyx0aGlzKTtpZihudWxsIT1hLmZyb20mJihuPWdlKHQ/bzpoZShvKSxhLmZyb20pLC0xPT1lKSlyZXR1cm4gbjtpZihudWxsIT1hLnRvJiYocj1nZSh0P286aGUobyksYS50byksMT09ZSkpcmV0dXJuIHJ9cmV0dXJuIG4mJntmcm9tOm4sdG86cn19LEFvLnByb3RvdHlwZS5jaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZmluZCgtMSwhMCksbj10aGlzLHI9dGhpcy5kb2MuY207dCYmciYmUXIocixmdW5jdGlvbigpe3ZhciBpPXQubGluZSxvPWhlKHQubGluZSksYT1PbihyLG8pO2lmKGEmJih6bihhKSxyLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQ9ci5jdXJPcC5mb3JjZVVwZGF0ZT0hMCksci5jdXJPcC51cGRhdGVNYXhMaW5lPSEwLCFVZShuLmRvYyxpKSYmbnVsbCE9bi5oZWlnaHQpe3ZhciBzPW4uaGVpZ2h0O24uaGVpZ2h0PW51bGw7dmFyIGw9QW4obiktcztsJiZjZShpLGkuaGVpZ2h0K2wpfXNuKHIsXCJtYXJrZXJDaGFuZ2VkXCIscixlKX0pfSxBby5wcm90b3R5cGUuYXR0YWNoTGluZT1mdW5jdGlvbihlKXtpZighdGhpcy5saW5lcy5sZW5ndGgmJnRoaXMuZG9jLmNtKXt2YXIgdD10aGlzLmRvYy5jbS5jdXJPcDt0Lm1heWJlSGlkZGVuTWFya2VycyYmLTEhPUIodC5tYXliZUhpZGRlbk1hcmtlcnMsdGhpcyl8fCh0Lm1heWJlVW5oaWRkZW5NYXJrZXJzfHwodC5tYXliZVVuaGlkZGVuTWFya2Vycz1bXSkpLnB1c2godGhpcyl9dGhpcy5saW5lcy5wdXNoKGUpfSxBby5wcm90b3R5cGUuZGV0YWNoTGluZT1mdW5jdGlvbihlKXtpZih0aGlzLmxpbmVzLnNwbGljZShCKHRoaXMubGluZXMsZSksMSksIXRoaXMubGluZXMubGVuZ3RoJiZ0aGlzLmRvYy5jbSl7dmFyIHQ9dGhpcy5kb2MuY20uY3VyT3A7KHQubWF5YmVIaWRkZW5NYXJrZXJzfHwodC5tYXliZUhpZGRlbk1hcmtlcnM9W10pKS5wdXNoKHRoaXMpfX0sc3QoQW8pO3ZhciBDbz1mdW5jdGlvbihlLHQpe3RoaXMubWFya2Vycz1lLHRoaXMucHJpbWFyeT10O2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWVbbl0ucGFyZW50PXRoaXN9O2Z1bmN0aW9uIHhvKGUpe3JldHVybiBlLmZpbmRNYXJrcyhnZShlLmZpcnN0LDApLGUuY2xpcFBvcyhnZShlLmxhc3RMaW5lKCkpKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnR9KX1mdW5jdGlvbiBrbyhlKXtmb3IodmFyIHQ9ZnVuY3Rpb24odCl7dmFyIG49ZVt0XSxyPVtuLnByaW1hcnkuZG9jXTtUaShuLnByaW1hcnkuZG9jLGZ1bmN0aW9uKGUpe3JldHVybiByLnB1c2goZSl9KTtmb3IodmFyIGk9MDtpPG4ubWFya2Vycy5sZW5ndGg7aSsrKXt2YXIgbz1uLm1hcmtlcnNbaV07LTE9PUIocixvLmRvYykmJihvLnBhcmVudD1udWxsLG4ubWFya2Vycy5zcGxpY2UoaS0tLDEpKX19LG49MDtuPGUubGVuZ3RoO24rKyl0KG4pfUNvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2lmKCF0aGlzLmV4cGxpY2l0bHlDbGVhcmVkKXt0aGlzLmV4cGxpY2l0bHlDbGVhcmVkPSEwO2Zvcih2YXIgZT0wO2U8dGhpcy5tYXJrZXJzLmxlbmd0aDsrK2UpdGhpcy5tYXJrZXJzW2VdLmNsZWFyKCk7c24odGhpcyxcImNsZWFyXCIpfX0sQ28ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wcmltYXJ5LmZpbmQoZSx0KX0sc3QoQ28pO3ZhciBJbz0wLE1vPWZ1bmN0aW9uKGUsdCxuLHIsaSl7aWYoISh0aGlzIGluc3RhbmNlb2YgTW8pKXJldHVybiBuZXcgTW8oZSx0LG4scixpKTtudWxsPT1uJiYobj0wKSx2by5jYWxsKHRoaXMsW25ldyBnbyhbbmV3IFp0KFwiXCIsbnVsbCldKV0pLHRoaXMuZmlyc3Q9bix0aGlzLnNjcm9sbFRvcD10aGlzLnNjcm9sbExlZnQ9MCx0aGlzLmNhbnRFZGl0PSExLHRoaXMuY2xlYW5HZW5lcmF0aW9uPTEsdGhpcy5tb2RlRnJvbnRpZXI9dGhpcy5oaWdobGlnaHRGcm9udGllcj1uO3ZhciBvPWdlKG4sMCk7dGhpcy5zZWw9QWkobyksdGhpcy5oaXN0b3J5PW5ldyBFaShudWxsKSx0aGlzLmlkPSsrSW8sdGhpcy5tb2RlT3B0aW9uPXQsdGhpcy5saW5lU2VwPXIsdGhpcy5kaXJlY3Rpb249XCJydGxcIj09aT9cInJ0bFwiOlwibHRyXCIsdGhpcy5leHRlbmQ9ITEsXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXRoaXMuc3BsaXRMaW5lcyhlKSksTGkodGhpcyx7ZnJvbTpvLHRvOm8sdGV4dDplfSksWGkodGhpcyxBaShvKSxWKX07TW8ucHJvdG90eXBlPXEodm8ucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpNbyxpdGVyOmZ1bmN0aW9uKGUsdCxuKXtuP3RoaXMuaXRlck4oZS10aGlzLmZpcnN0LHQtZSxuKTp0aGlzLml0ZXJOKHRoaXMuZmlyc3QsdGhpcy5maXJzdCt0aGlzLnNpemUsZSl9LGluc2VydDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9MDtyPHQubGVuZ3RoOysrciluKz10W3JdLmhlaWdodDt0aGlzLmluc2VydElubmVyKGUtdGhpcy5maXJzdCx0LG4pfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlbW92ZUlubmVyKGUtdGhpcy5maXJzdCx0KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dWUodGhpcyx0aGlzLmZpcnN0LHRoaXMuZmlyc3QrdGhpcy5zaXplKTtyZXR1cm4hMT09PWU/dDp0LmpvaW4oZXx8dGhpcy5saW5lU2VwYXJhdG9yKCkpfSxzZXRWYWx1ZTpLcihmdW5jdGlvbihlKXt2YXIgdD1nZSh0aGlzLmZpcnN0LDApLG49dGhpcy5maXJzdCt0aGlzLnNpemUtMTtpbyh0aGlzLHtmcm9tOnQsdG86Z2UobixzZSh0aGlzLG4pLnRleHQubGVuZ3RoKSx0ZXh0OnRoaXMuc3BsaXRMaW5lcyhlKSxvcmlnaW46XCJzZXRWYWx1ZVwiLGZ1bGw6ITB9LCEwKSx0aGlzLmNtJiZNcih0aGlzLmNtLDAsMCksWGkodGhpcyxBaSh0KSxWKX0pLHJlcGxhY2VSYW5nZTpmdW5jdGlvbihlLHQsbixyKXt0PUNlKHRoaXMsdCksbj1uP0NlKHRoaXMsbik6dCx1byh0aGlzLGUsdCxuLHIpfSxnZXRSYW5nZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bGUodGhpcyxDZSh0aGlzLGUpLENlKHRoaXMsdCkpO3JldHVybiExPT09bj9yOnIuam9pbihufHx0aGlzLmxpbmVTZXBhcmF0b3IoKSl9LGdldExpbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRMaW5lSGFuZGxlKGUpO3JldHVybiB0JiZ0LnRleHR9LGdldExpbmVIYW5kbGU6ZnVuY3Rpb24oZSl7aWYoZmUodGhpcyxlKSlyZXR1cm4gc2UodGhpcyxlKX0sZ2V0TGluZU51bWJlcjpmdW5jdGlvbihlKXtyZXR1cm4gaGUoZSl9LGdldExpbmVIYW5kbGVWaXN1YWxTdGFydDpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmKGU9c2UodGhpcyxlKSksamUoZSl9LGxpbmVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LGZpcnN0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0fSxsYXN0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0K3RoaXMuc2l6ZS0xfSxjbGlwUG9zOmZ1bmN0aW9uKGUpe3JldHVybiBDZSh0aGlzLGUpfSxnZXRDdXJzb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zZWwucHJpbWFyeSgpO3JldHVybiBudWxsPT1lfHxcImhlYWRcIj09ZT90LmhlYWQ6XCJhbmNob3JcIj09ZT90LmFuY2hvcjpcImVuZFwiPT1lfHxcInRvXCI9PWV8fCExPT09ZT90LnRvKCk6dC5mcm9tKCl9LGxpc3RTZWxlY3Rpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsLnJhbmdlc30sc29tZXRoaW5nU2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWwuc29tZXRoaW5nU2VsZWN0ZWQoKX0sc2V0Q3Vyc29yOktyKGZ1bmN0aW9uKGUsdCxuKXtZaSh0aGlzLENlKHRoaXMsXCJudW1iZXJcIj09dHlwZW9mIGU/Z2UoZSx0fHwwKTplKSxudWxsLG4pfSksc2V0U2VsZWN0aW9uOktyKGZ1bmN0aW9uKGUsdCxuKXtZaSh0aGlzLENlKHRoaXMsZSksQ2UodGhpcyx0fHxlKSxuKX0pLGV4dGVuZFNlbGVjdGlvbjpLcihmdW5jdGlvbihlLHQsbil7VmkodGhpcyxDZSh0aGlzLGUpLHQmJkNlKHRoaXMsdCksbil9KSxleHRlbmRTZWxlY3Rpb25zOktyKGZ1bmN0aW9uKGUsdCl7VWkodGhpcyx4ZSh0aGlzLGUpLHQpfSksZXh0ZW5kU2VsZWN0aW9uc0J5OktyKGZ1bmN0aW9uKGUsdCl7dmFyIG49Syh0aGlzLnNlbC5yYW5nZXMsZSk7VWkodGhpcyx4ZSh0aGlzLG4pLHQpfSksc2V0U2VsZWN0aW9uczpLcihmdW5jdGlvbihlLHQsbil7aWYoZS5sZW5ndGgpe2Zvcih2YXIgcj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspcltpXT1uZXcgYmkoQ2UodGhpcyxlW2ldLmFuY2hvciksQ2UodGhpcyxlW2ldLmhlYWQpKTtudWxsPT10JiYodD1NYXRoLm1pbihlLmxlbmd0aC0xLHRoaXMuc2VsLnByaW1JbmRleCkpLFhpKHRoaXMseWkodGhpcy5jbSxyLHQpLG4pfX0pLGFkZFNlbGVjdGlvbjpLcihmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5zZWwucmFuZ2VzLnNsaWNlKDApO3IucHVzaChuZXcgYmkoQ2UodGhpcyxlKSxDZSh0aGlzLHR8fGUpKSksWGkodGhpcyx5aSh0aGlzLmNtLHIsci5sZW5ndGgtMSksbil9KSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5zZWwucmFuZ2VzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bGUodGhpcyxuW3JdLmZyb20oKSxuW3JdLnRvKCkpO3Q9dD90LmNvbmNhdChpKTppfXJldHVybiExPT09ZT90OnQuam9pbihlfHx0aGlzLmxpbmVTZXBhcmF0b3IoKSl9LGdldFNlbGVjdGlvbnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49dGhpcy5zZWwucmFuZ2VzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bGUodGhpcyxuW3JdLmZyb20oKSxuW3JdLnRvKCkpOyExIT09ZSYmKGk9aS5qb2luKGV8fHRoaXMubGluZVNlcGFyYXRvcigpKSksdFtyXT1pfXJldHVybiB0fSxyZXBsYWNlU2VsZWN0aW9uOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wO2k8dGhpcy5zZWwucmFuZ2VzLmxlbmd0aDtpKyspcltpXT1lO3RoaXMucmVwbGFjZVNlbGVjdGlvbnMocix0LG58fFwiK2lucHV0XCIpfSxyZXBsYWNlU2VsZWN0aW9uczpLcihmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9dGhpcy5zZWwsbz0wO288aS5yYW5nZXMubGVuZ3RoO28rKyl7dmFyIGE9aS5yYW5nZXNbb107cltvXT17ZnJvbTphLmZyb20oKSx0bzphLnRvKCksdGV4dDp0aGlzLnNwbGl0TGluZXMoZVtvXSksb3JpZ2luOm59fWZvcih2YXIgcz10JiZcImVuZFwiIT10JiZmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9Z2UoZS5maXJzdCwwKSxvPWksYT0wO2E8dC5sZW5ndGg7YSsrKXt2YXIgcz10W2FdLGw9a2kocy5mcm9tLGksbyksdT1raSh3aShzKSxpLG8pO2lmKGk9cy50byxvPXUsXCJhcm91bmRcIj09bil7dmFyIGM9ZS5zZWwucmFuZ2VzW2FdLGg9dmUoYy5oZWFkLGMuYW5jaG9yKTwwO3JbYV09bmV3IGJpKGg/dTpsLGg/bDp1KX1lbHNlIHJbYV09bmV3IGJpKGwsbCl9cmV0dXJuIG5ldyBtaShyLGUuc2VsLnByaW1JbmRleCl9KHRoaXMscix0KSxsPXIubGVuZ3RoLTE7bD49MDtsLS0paW8odGhpcyxyW2xdKTtzP1FpKHRoaXMscyk6dGhpcy5jbSYmSXIodGhpcy5jbSl9KSx1bmRvOktyKGZ1bmN0aW9uKCl7YW8odGhpcyxcInVuZG9cIil9KSxyZWRvOktyKGZ1bmN0aW9uKCl7YW8odGhpcyxcInJlZG9cIil9KSx1bmRvU2VsZWN0aW9uOktyKGZ1bmN0aW9uKCl7YW8odGhpcyxcInVuZG9cIiwhMCl9KSxyZWRvU2VsZWN0aW9uOktyKGZ1bmN0aW9uKCl7YW8odGhpcyxcInJlZG9cIiwhMCl9KSxzZXRFeHRlbmRpbmc6ZnVuY3Rpb24oZSl7dGhpcy5leHRlbmQ9ZX0sZ2V0RXh0ZW5kaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5kfSxoaXN0b3J5U2l6ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmhpc3RvcnksdD0wLG49MCxyPTA7cjxlLmRvbmUubGVuZ3RoO3IrKyllLmRvbmVbcl0ucmFuZ2VzfHwrK3Q7Zm9yKHZhciBpPTA7aTxlLnVuZG9uZS5sZW5ndGg7aSsrKWUudW5kb25lW2ldLnJhbmdlc3x8KytuO3JldHVybnt1bmRvOnQscmVkbzpufX0sY2xlYXJIaXN0b3J5OmZ1bmN0aW9uKCl7dGhpcy5oaXN0b3J5PW5ldyBFaSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbil9LG1hcmtDbGVhbjpmdW5jdGlvbigpe3RoaXMuY2xlYW5HZW5lcmF0aW9uPXRoaXMuY2hhbmdlR2VuZXJhdGlvbighMCl9LGNoYW5nZUdlbmVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLmhpc3RvcnkubGFzdE9wPXRoaXMuaGlzdG9yeS5sYXN0U2VsT3A9dGhpcy5oaXN0b3J5Lmxhc3RPcmlnaW49bnVsbCksdGhpcy5oaXN0b3J5LmdlbmVyYXRpb259LGlzQ2xlYW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGlzdG9yeS5nZW5lcmF0aW9uPT0oZXx8dGhpcy5jbGVhbkdlbmVyYXRpb24pfSxnZXRIaXN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6amkodGhpcy5oaXN0b3J5LmRvbmUpLHVuZG9uZTpqaSh0aGlzLmhpc3RvcnkudW5kb25lKX19LHNldEhpc3Rvcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oaXN0b3J5PW5ldyBFaSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbik7dC5kb25lPWppKGUuZG9uZS5zbGljZSgwKSxudWxsLCEwKSx0LnVuZG9uZT1qaShlLnVuZG9uZS5zbGljZSgwKSxudWxsLCEwKX0sc2V0R3V0dGVyTWFya2VyOktyKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcG8odGhpcyxlLFwiZ3V0dGVyXCIsZnVuY3Rpb24oZSl7dmFyIHI9ZS5ndXR0ZXJNYXJrZXJzfHwoZS5ndXR0ZXJNYXJrZXJzPXt9KTtyZXR1cm4gclt0XT1uLCFuJiZuZShyKSYmKGUuZ3V0dGVyTWFya2Vycz1udWxsKSwhMH0pfSksY2xlYXJHdXR0ZXI6S3IoZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLml0ZXIoZnVuY3Rpb24obil7bi5ndXR0ZXJNYXJrZXJzJiZuLmd1dHRlck1hcmtlcnNbZV0mJnBvKHQsbixcImd1dHRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ3V0dGVyTWFya2Vyc1tlXT1udWxsLG5lKG4uZ3V0dGVyTWFya2VycykmJihuLmd1dHRlck1hcmtlcnM9bnVsbCksITB9KX0pfSksbGluZUluZm86ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpe2lmKCFmZSh0aGlzLGUpKXJldHVybiBudWxsO2lmKHQ9ZSwhKGU9c2UodGhpcyxlKSkpcmV0dXJuIG51bGx9ZWxzZSBpZihudWxsPT0odD1oZShlKSkpcmV0dXJuIG51bGw7cmV0dXJue2xpbmU6dCxoYW5kbGU6ZSx0ZXh0OmUudGV4dCxndXR0ZXJNYXJrZXJzOmUuZ3V0dGVyTWFya2Vycyx0ZXh0Q2xhc3M6ZS50ZXh0Q2xhc3MsYmdDbGFzczplLmJnQ2xhc3Msd3JhcENsYXNzOmUud3JhcENsYXNzLHdpZGdldHM6ZS53aWRnZXRzfX0sYWRkTGluZUNsYXNzOktyKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcG8odGhpcyxlLFwiZ3V0dGVyXCI9PXQ/XCJndXR0ZXJcIjpcImNsYXNzXCIsZnVuY3Rpb24oZSl7dmFyIHI9XCJ0ZXh0XCI9PXQ/XCJ0ZXh0Q2xhc3NcIjpcImJhY2tncm91bmRcIj09dD9cImJnQ2xhc3NcIjpcImd1dHRlclwiPT10P1wiZ3V0dGVyQ2xhc3NcIjpcIndyYXBDbGFzc1wiO2lmKGVbcl0pe2lmKGsobikudGVzdChlW3JdKSlyZXR1cm4hMTtlW3JdKz1cIiBcIitufWVsc2UgZVtyXT1uO3JldHVybiEwfSl9KSxyZW1vdmVMaW5lQ2xhc3M6S3IoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBwbyh0aGlzLGUsXCJndXR0ZXJcIj09dD9cImd1dHRlclwiOlwiY2xhc3NcIixmdW5jdGlvbihlKXt2YXIgcj1cInRleHRcIj09dD9cInRleHRDbGFzc1wiOlwiYmFja2dyb3VuZFwiPT10P1wiYmdDbGFzc1wiOlwiZ3V0dGVyXCI9PXQ/XCJndXR0ZXJDbGFzc1wiOlwid3JhcENsYXNzXCIsaT1lW3JdO2lmKCFpKXJldHVybiExO2lmKG51bGw9PW4pZVtyXT1udWxsO2Vsc2V7dmFyIG89aS5tYXRjaChrKG4pKTtpZighbylyZXR1cm4hMTt2YXIgYT1vLmluZGV4K29bMF0ubGVuZ3RoO2Vbcl09aS5zbGljZSgwLG8uaW5kZXgpKyhvLmluZGV4JiZhIT1pLmxlbmd0aD9cIiBcIjpcIlwiKStpLnNsaWNlKGEpfHxudWxsfXJldHVybiEwfSl9KSxhZGRMaW5lV2lkZ2V0OktyKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9bmV3IG1vKGUsbixyKSxvPWUuY207cmV0dXJuIG8mJmkubm9IU2Nyb2xsJiYoby5kaXNwbGF5LmFsaWduV2lkZ2V0cz0hMCkscG8oZSx0LFwid2lkZ2V0XCIsZnVuY3Rpb24odCl7dmFyIG49dC53aWRnZXRzfHwodC53aWRnZXRzPVtdKTtpZihudWxsPT1pLmluc2VydEF0P24ucHVzaChpKTpuLnNwbGljZShNYXRoLm1pbihuLmxlbmd0aC0xLE1hdGgubWF4KDAsaS5pbnNlcnRBdCkpLDAsaSksaS5saW5lPXQsbyYmIVVlKGUsdCkpe3ZhciByPVllKHQpPGUuc2Nyb2xsVG9wO2NlKHQsdC5oZWlnaHQrQW4oaSkpLHImJmtyKG8saS5oZWlnaHQpLG8uY3VyT3AuZm9yY2VVcGRhdGU9ITB9cmV0dXJuITB9KSxvJiZzbihvLFwibGluZVdpZGdldEFkZGVkXCIsbyxpLFwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6aGUodCkpLGl9KHRoaXMsZSx0LG4pfSkscmVtb3ZlTGluZVdpZGdldDpmdW5jdGlvbihlKXtlLmNsZWFyKCl9LG1hcmtUZXh0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gd28odGhpcyxDZSh0aGlzLGUpLENlKHRoaXMsdCksbixuJiZuLnR5cGV8fFwicmFuZ2VcIil9LHNldEJvb2ttYXJrOmZ1bmN0aW9uKGUsdCl7dmFyIG49e3JlcGxhY2VkV2l0aDp0JiYobnVsbD09dC5ub2RlVHlwZT90LndpZGdldDp0KSxpbnNlcnRMZWZ0OnQmJnQuaW5zZXJ0TGVmdCxjbGVhcldoZW5FbXB0eTohMSxzaGFyZWQ6dCYmdC5zaGFyZWQsaGFuZGxlTW91c2VFdmVudHM6dCYmdC5oYW5kbGVNb3VzZUV2ZW50c307cmV0dXJuIHdvKHRoaXMsZT1DZSh0aGlzLGUpLGUsbixcImJvb2ttYXJrXCIpfSxmaW5kTWFya3NBdDpmdW5jdGlvbihlKXt2YXIgdD1bXSxuPXNlKHRoaXMsKGU9Q2UodGhpcyxlKSkubGluZSkubWFya2VkU3BhbnM7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOysrcil7dmFyIGk9bltyXTsobnVsbD09aS5mcm9tfHxpLmZyb208PWUuY2gpJiYobnVsbD09aS50b3x8aS50bz49ZS5jaCkmJnQucHVzaChpLm1hcmtlci5wYXJlbnR8fGkubWFya2VyKX1yZXR1cm4gdH0sZmluZE1hcmtzOmZ1bmN0aW9uKGUsdCxuKXtlPUNlKHRoaXMsZSksdD1DZSh0aGlzLHQpO3ZhciByPVtdLGk9ZS5saW5lO3JldHVybiB0aGlzLml0ZXIoZS5saW5lLHQubGluZSsxLGZ1bmN0aW9uKG8pe3ZhciBhPW8ubWFya2VkU3BhbnM7aWYoYSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTtudWxsIT1sLnRvJiZpPT1lLmxpbmUmJmUuY2g+PWwudG98fG51bGw9PWwuZnJvbSYmaSE9ZS5saW5lfHxudWxsIT1sLmZyb20mJmk9PXQubGluZSYmbC5mcm9tPj10LmNofHxuJiYhbihsLm1hcmtlcil8fHIucHVzaChsLm1hcmtlci5wYXJlbnR8fGwubWFya2VyKX0rK2l9KSxyfSxnZXRBbGxNYXJrczpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLml0ZXIoZnVuY3Rpb24odCl7dmFyIG49dC5tYXJrZWRTcGFucztpZihuKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7KytyKW51bGwhPW5bcl0uZnJvbSYmZS5wdXNoKG5bcl0ubWFya2VyKX0pLGV9LHBvc0Zyb21JbmRleDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZmlyc3Qscj10aGlzLmxpbmVTZXBhcmF0b3IoKS5sZW5ndGg7cmV0dXJuIHRoaXMuaXRlcihmdW5jdGlvbihpKXt2YXIgbz1pLnRleHQubGVuZ3RoK3I7aWYobz5lKXJldHVybiB0PWUsITA7ZS09bywrK259KSxDZSh0aGlzLGdlKG4sdCkpfSxpbmRleEZyb21Qb3M6ZnVuY3Rpb24oZSl7dmFyIHQ9KGU9Q2UodGhpcyxlKSkuY2g7aWYoZS5saW5lPHRoaXMuZmlyc3R8fGUuY2g8MClyZXR1cm4gMDt2YXIgbj10aGlzLmxpbmVTZXBhcmF0b3IoKS5sZW5ndGg7cmV0dXJuIHRoaXMuaXRlcih0aGlzLmZpcnN0LGUubGluZSxmdW5jdGlvbihlKXt0Kz1lLnRleHQubGVuZ3RoK259KSx0fSxjb3B5OmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBNbyh1ZSh0aGlzLHRoaXMuZmlyc3QsdGhpcy5maXJzdCt0aGlzLnNpemUpLHRoaXMubW9kZU9wdGlvbix0aGlzLmZpcnN0LHRoaXMubGluZVNlcCx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHQuc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsVG9wLHQuc2Nyb2xsTGVmdD10aGlzLnNjcm9sbExlZnQsdC5zZWw9dGhpcy5zZWwsdC5leHRlbmQ9ITEsZSYmKHQuaGlzdG9yeS51bmRvRGVwdGg9dGhpcy5oaXN0b3J5LnVuZG9EZXB0aCx0LnNldEhpc3RvcnkodGhpcy5nZXRIaXN0b3J5KCkpKSx0fSxsaW5rZWREb2M6ZnVuY3Rpb24oZSl7ZXx8KGU9e30pO3ZhciB0PXRoaXMuZmlyc3Qsbj10aGlzLmZpcnN0K3RoaXMuc2l6ZTtudWxsIT1lLmZyb20mJmUuZnJvbT50JiYodD1lLmZyb20pLG51bGwhPWUudG8mJmUudG88biYmKG49ZS50byk7dmFyIHI9bmV3IE1vKHVlKHRoaXMsdCxuKSxlLm1vZGV8fHRoaXMubW9kZU9wdGlvbix0LHRoaXMubGluZVNlcCx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIGUuc2hhcmVkSGlzdCYmKHIuaGlzdG9yeT10aGlzLmhpc3RvcnkpLCh0aGlzLmxpbmtlZHx8KHRoaXMubGlua2VkPVtdKSkucHVzaCh7ZG9jOnIsc2hhcmVkSGlzdDplLnNoYXJlZEhpc3R9KSxyLmxpbmtlZD1be2RvYzp0aGlzLGlzUGFyZW50OiEwLHNoYXJlZEhpc3Q6ZS5zaGFyZWRIaXN0fV0sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxpPXIuZmluZCgpLG89ZS5jbGlwUG9zKGkuZnJvbSksYT1lLmNsaXBQb3MoaS50byk7aWYodmUobyxhKSl7dmFyIHM9d28oZSxvLGEsci5wcmltYXJ5LHIucHJpbWFyeS50eXBlKTtyLm1hcmtlcnMucHVzaChzKSxzLnBhcmVudD1yfX19KHIseG8odGhpcykpLHJ9LHVubGlua0RvYzpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgeGEmJihlPWUuZG9jKSx0aGlzLmxpbmtlZClmb3IodmFyIHQ9MDt0PHRoaXMubGlua2VkLmxlbmd0aDsrK3Qpe3ZhciBuPXRoaXMubGlua2VkW3RdO2lmKG4uZG9jPT1lKXt0aGlzLmxpbmtlZC5zcGxpY2UodCwxKSxlLnVubGlua0RvYyh0aGlzKSxrbyh4byh0aGlzKSk7YnJlYWt9fWlmKGUuaGlzdG9yeT09dGhpcy5oaXN0b3J5KXt2YXIgcj1bZS5pZF07VGkoZSxmdW5jdGlvbihlKXtyZXR1cm4gci5wdXNoKGUuaWQpfSwhMCksZS5oaXN0b3J5PW5ldyBFaShudWxsKSxlLmhpc3RvcnkuZG9uZT1qaSh0aGlzLmhpc3RvcnkuZG9uZSxyKSxlLmhpc3RvcnkudW5kb25lPWppKHRoaXMuaGlzdG9yeS51bmRvbmUscil9fSxpdGVyTGlua2VkRG9jczpmdW5jdGlvbihlKXtUaSh0aGlzLGUpfSxnZXRNb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZX0sZ2V0RWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY219LHNwbGl0TGluZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGluZVNlcD9lLnNwbGl0KHRoaXMubGluZVNlcCk6eXQoZSl9LGxpbmVTZXBhcmF0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lU2VwfHxcIlxcblwifSxzZXREaXJlY3Rpb246S3IoZnVuY3Rpb24oZSl7XCJydGxcIiE9ZSYmKGU9XCJsdHJcIiksZSE9dGhpcy5kaXJlY3Rpb24mJih0aGlzLmRpcmVjdGlvbj1lLHRoaXMuaXRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5vcmRlcj1udWxsfSksdGhpcy5jbSYmZnVuY3Rpb24oZSl7UXIoZSxmdW5jdGlvbigpe05pKGUpLEpyKGUpfSl9KHRoaXMuY20pKX0pfSksTW8ucHJvdG90eXBlLmVhY2hMaW5lPU1vLnByb3RvdHlwZS5pdGVyO3ZhciBTbz0wO2Z1bmN0aW9uIExvKGUpe3ZhciB0PXRoaXM7aWYoVG8odCksIWl0KHQsZSkmJiF3bih0LmRpc3BsYXksZSkpe2x0KGUpLGEmJihTbz0rbmV3IERhdGUpO3ZhciBuPWFyKHQsZSwhMCkscj1lLmRhdGFUcmFuc2Zlci5maWxlcztpZihuJiYhdC5pc1JlYWRPbmx5KCkpaWYociYmci5sZW5ndGgmJndpbmRvdy5GaWxlUmVhZGVyJiZ3aW5kb3cuRmlsZSlmb3IodmFyIGk9ci5sZW5ndGgsbz1BcnJheShpKSxzPTAsbD1mdW5jdGlvbihlLHIpe2lmKCF0Lm9wdGlvbnMuYWxsb3dEcm9wRmlsZVR5cGVzfHwtMSE9Qih0Lm9wdGlvbnMuYWxsb3dEcm9wRmlsZVR5cGVzLGUudHlwZSkpe3ZhciBhPW5ldyBGaWxlUmVhZGVyO2Eub25sb2FkPVhyKHQsZnVuY3Rpb24oKXt2YXIgZT1hLnJlc3VsdDtpZigvW1xceDAwLVxceDA4XFx4MGUtXFx4MWZdezJ9Ly50ZXN0KGUpJiYoZT1cIlwiKSxvW3JdPWUsKytzPT1pKXt2YXIgbD17ZnJvbTpuPUNlKHQuZG9jLG4pLHRvOm4sdGV4dDp0LmRvYy5zcGxpdExpbmVzKG8uam9pbih0LmRvYy5saW5lU2VwYXJhdG9yKCkpKSxvcmlnaW46XCJwYXN0ZVwifTtpbyh0LmRvYyxsKSxRaSh0LmRvYyxBaShuLHdpKGwpKSl9fSksYS5yZWFkQXNUZXh0KGUpfX0sdT0wO3U8aTsrK3UpbChyW3VdLHUpO2Vsc2V7aWYodC5zdGF0ZS5kcmFnZ2luZ1RleHQmJnQuZG9jLnNlbC5jb250YWlucyhuKT4tMSlyZXR1cm4gdC5zdGF0ZS5kcmFnZ2luZ1RleHQoZSksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGlzcGxheS5pbnB1dC5mb2N1cygpfSwyMCk7dHJ5e3ZhciBjPWUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpO2lmKGMpe3ZhciBoO2lmKHQuc3RhdGUuZHJhZ2dpbmdUZXh0JiYhdC5zdGF0ZS5kcmFnZ2luZ1RleHQuY29weSYmKGg9dC5saXN0U2VsZWN0aW9ucygpKSxfaSh0LmRvYyxBaShuLG4pKSxoKWZvcih2YXIgZD0wO2Q8aC5sZW5ndGg7KytkKXVvKHQuZG9jLFwiXCIsaFtkXS5hbmNob3IsaFtkXS5oZWFkLFwiZHJhZ1wiKTt0LnJlcGxhY2VTZWxlY3Rpb24oYyxcImFyb3VuZFwiLFwicGFzdGVcIiksdC5kaXNwbGF5LmlucHV0LmZvY3VzKCl9fWNhdGNoKGUpe319fX1mdW5jdGlvbiBUbyhlKXtlLmRpc3BsYXkuZHJhZ0N1cnNvciYmKGUuZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoZS5kaXNwbGF5LmRyYWdDdXJzb3IpLGUuZGlzcGxheS5kcmFnQ3Vyc29yPW51bGwpfWZ1bmN0aW9uIE9vKGUpe2lmKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpe2Zvcih2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiQ29kZU1pcnJvclwiKSxuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXS5Db2RlTWlycm9yO2kmJm4ucHVzaChpKX1uLmxlbmd0aCYmblswXS5vcGVyYXRpb24oZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKyllKG5bdF0pfSl9fXZhciBObz0hMTtmdW5jdGlvbiBFbygpe05vfHwoZnVuY3Rpb24oKXt2YXIgZTtldCh3aW5kb3csXCJyZXNpemVcIixmdW5jdGlvbigpe251bGw9PWUmJihlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlPW51bGwsT28oUG8pfSwxMDApKX0pLGV0KHdpbmRvdyxcImJsdXJcIixmdW5jdGlvbigpe3JldHVybiBPbyhtcil9KX0oKSxObz0hMCl9ZnVuY3Rpb24gUG8oZSl7dmFyIHQ9ZS5kaXNwbGF5O3QuY2FjaGVkQ2hhcldpZHRoPXQuY2FjaGVkVGV4dEhlaWdodD10LmNhY2hlZFBhZGRpbmdIPW51bGwsdC5zY3JvbGxiYXJzQ2xpcHBlZD0hMSxlLnNldFNpemUoKX1mb3IodmFyIERvPXszOlwiUGF1c2VcIiw4OlwiQmFja3NwYWNlXCIsOTpcIlRhYlwiLDEzOlwiRW50ZXJcIiwxNjpcIlNoaWZ0XCIsMTc6XCJDdHJsXCIsMTg6XCJBbHRcIiwxOTpcIlBhdXNlXCIsMjA6XCJDYXBzTG9ja1wiLDI3OlwiRXNjXCIsMzI6XCJTcGFjZVwiLDMzOlwiUGFnZVVwXCIsMzQ6XCJQYWdlRG93blwiLDM1OlwiRW5kXCIsMzY6XCJIb21lXCIsMzc6XCJMZWZ0XCIsMzg6XCJVcFwiLDM5OlwiUmlnaHRcIiw0MDpcIkRvd25cIiw0NDpcIlByaW50U2NyblwiLDQ1OlwiSW5zZXJ0XCIsNDY6XCJEZWxldGVcIiw1OTpcIjtcIiw2MTpcIj1cIiw5MTpcIk1vZFwiLDkyOlwiTW9kXCIsOTM6XCJNb2RcIiwxMDY6XCIqXCIsMTA3OlwiPVwiLDEwOTpcIi1cIiwxMTA6XCIuXCIsMTExOlwiL1wiLDEyNzpcIkRlbGV0ZVwiLDE0NTpcIlNjcm9sbExvY2tcIiwxNzM6XCItXCIsMTg2OlwiO1wiLDE4NzpcIj1cIiwxODg6XCIsXCIsMTg5OlwiLVwiLDE5MDpcIi5cIiwxOTE6XCIvXCIsMTkyOlwiYFwiLDIxOTpcIltcIiwyMjA6XCJcXFxcXCIsMjIxOlwiXVwiLDIyMjpcIidcIiw2MzIzMjpcIlVwXCIsNjMyMzM6XCJEb3duXCIsNjMyMzQ6XCJMZWZ0XCIsNjMyMzU6XCJSaWdodFwiLDYzMjcyOlwiRGVsZXRlXCIsNjMyNzM6XCJIb21lXCIsNjMyNzU6XCJFbmRcIiw2MzI3NjpcIlBhZ2VVcFwiLDYzMjc3OlwiUGFnZURvd25cIiw2MzMwMjpcIkluc2VydFwifSxXbz0wO1dvPDEwO1dvKyspRG9bV28rNDhdPURvW1dvKzk2XT1TdHJpbmcoV28pO2Zvcih2YXIgUm89NjU7Um88PTkwO1JvKyspRG9bUm9dPVN0cmluZy5mcm9tQ2hhckNvZGUoUm8pO2Zvcih2YXIgem89MTt6bzw9MTI7em8rKylEb1t6bysxMTFdPURvW3pvKzYzMjM1XT1cIkZcIit6bzt2YXIgRm89e307ZnVuY3Rpb24gSG8oZSl7dmFyIHQsbixyLGksbz1lLnNwbGl0KC8tKD8hJCkvKTtlPW9bby5sZW5ndGgtMV07Zm9yKHZhciBhPTA7YTxvLmxlbmd0aC0xO2ErKyl7dmFyIHM9b1thXTtpZigvXihjbWR8bWV0YXxtKSQvaS50ZXN0KHMpKWk9ITA7ZWxzZSBpZigvXmEobHQpPyQvaS50ZXN0KHMpKXQ9ITA7ZWxzZSBpZigvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChzKSluPSEwO2Vsc2V7aWYoIS9ecyhoaWZ0KT8kL2kudGVzdChzKSl0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogXCIrcyk7cj0hMH19cmV0dXJuIHQmJihlPVwiQWx0LVwiK2UpLG4mJihlPVwiQ3RybC1cIitlKSxpJiYoZT1cIkNtZC1cIitlKSxyJiYoZT1cIlNoaWZ0LVwiK2UpLGV9ZnVuY3Rpb24gQm8oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIHI9ZVtuXTtpZigvXihuYW1lfGZhbGx0aHJvdWdofChkZXxhdCl0YWNoKSQvLnRlc3QobikpY29udGludWU7aWYoXCIuLi5cIj09cil7ZGVsZXRlIGVbbl07Y29udGludWV9Zm9yKHZhciBpPUsobi5zcGxpdChcIiBcIiksSG8pLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9dm9pZCAwLHM9dm9pZCAwO289PWkubGVuZ3RoLTE/KHM9aS5qb2luKFwiIFwiKSxhPXIpOihzPWkuc2xpY2UoMCxvKzEpLmpvaW4oXCIgXCIpLGE9XCIuLi5cIik7dmFyIGw9dFtzXTtpZihsKXtpZihsIT1hKXRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBiaW5kaW5ncyBmb3IgXCIrcyl9ZWxzZSB0W3NdPWF9ZGVsZXRlIGVbbl19Zm9yKHZhciB1IGluIHQpZVt1XT10W3VdO3JldHVybiBlfWZ1bmN0aW9uIGpvKGUsdCxuLHIpe3ZhciBpPSh0PVpvKHQpKS5jYWxsP3QuY2FsbChlLHIpOnRbZV07aWYoITE9PT1pKXJldHVyblwibm90aGluZ1wiO2lmKFwiLi4uXCI9PT1pKXJldHVyblwibXVsdGlcIjtpZihudWxsIT1pJiZuKGkpKXJldHVyblwiaGFuZGxlZFwiO2lmKHQuZmFsbHRocm91Z2gpe2lmKFwiW29iamVjdCBBcnJheV1cIiE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQuZmFsbHRocm91Z2gpKXJldHVybiBqbyhlLHQuZmFsbHRocm91Z2gsbixyKTtmb3IodmFyIG89MDtvPHQuZmFsbHRocm91Z2gubGVuZ3RoO28rKyl7dmFyIGE9am8oZSx0LmZhbGx0aHJvdWdoW29dLG4scik7aWYoYSlyZXR1cm4gYX19fWZ1bmN0aW9uIEdvKGUpe3ZhciB0PVwic3RyaW5nXCI9PXR5cGVvZiBlP2U6RG9bZS5rZXlDb2RlXTtyZXR1cm5cIkN0cmxcIj09dHx8XCJBbHRcIj09dHx8XCJTaGlmdFwiPT10fHxcIk1vZFwiPT10fWZ1bmN0aW9uIFZvKGUsdCxuKXt2YXIgcj1lO3JldHVybiB0LmFsdEtleSYmXCJBbHRcIiE9ciYmKGU9XCJBbHQtXCIrZSksKEM/dC5tZXRhS2V5OnQuY3RybEtleSkmJlwiQ3RybFwiIT1yJiYoZT1cIkN0cmwtXCIrZSksKEM/dC5jdHJsS2V5OnQubWV0YUtleSkmJlwiQ21kXCIhPXImJihlPVwiQ21kLVwiK2UpLCFuJiZ0LnNoaWZ0S2V5JiZcIlNoaWZ0XCIhPXImJihlPVwiU2hpZnQtXCIrZSksZX1mdW5jdGlvbiBVbyhlLHQpe2lmKGgmJjM0PT1lLmtleUNvZGUmJmUuY2hhcilyZXR1cm4hMTt2YXIgbj1Eb1tlLmtleUNvZGVdO3JldHVybiBudWxsIT1uJiYhZS5hbHRHcmFwaEtleSYmKDM9PWUua2V5Q29kZSYmZS5jb2RlJiYobj1lLmNvZGUpLFZvKG4sZSx0KSl9ZnVuY3Rpb24gWm8oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/Rm9bZV06ZX1mdW5jdGlvbiBZbyhlLHQpe2Zvcih2YXIgbj1lLmRvYy5zZWwucmFuZ2VzLHI9W10saT0wO2k8bi5sZW5ndGg7aSsrKXtmb3IodmFyIG89dChuW2ldKTtyLmxlbmd0aCYmdmUoby5mcm9tLF8ocikudG8pPD0wOyl7dmFyIGE9ci5wb3AoKTtpZih2ZShhLmZyb20sby5mcm9tKTwwKXtvLmZyb209YS5mcm9tO2JyZWFrfX1yLnB1c2gobyl9UXIoZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1yLmxlbmd0aC0xO3Q+PTA7dC0tKXVvKGUuZG9jLFwiXCIsclt0XS5mcm9tLHJbdF0udG8sXCIrZGVsZXRlXCIpO0lyKGUpfSl9ZnVuY3Rpb24gUW8oZSx0LG4pe3ZhciByPW9lKGUudGV4dCx0K24sbik7cmV0dXJuIHI8MHx8cj5lLnRleHQubGVuZ3RoP251bGw6cn1mdW5jdGlvbiBYbyhlLHQsbil7dmFyIHI9UW8oZSx0LmNoLG4pO3JldHVybiBudWxsPT1yP251bGw6bmV3IGdlKHQubGluZSxyLG48MD9cImFmdGVyXCI6XCJiZWZvcmVcIil9ZnVuY3Rpb24gX28oZSx0LG4scixpKXtpZihlKXt2YXIgbz1xZShuLHQuZG9jLmRpcmVjdGlvbik7aWYobyl7dmFyIGEscz1pPDA/XyhvKTpvWzBdLGw9aTwwPT0oMT09cy5sZXZlbCksdT1sP1wiYWZ0ZXJcIjpcImJlZm9yZVwiO2lmKHMubGV2ZWw+MHx8XCJydGxcIj09dC5kb2MuZGlyZWN0aW9uKXt2YXIgYz1Obih0LG4pO2E9aTwwP24udGV4dC5sZW5ndGgtMTowO3ZhciBoPUVuKHQsYyxhKS50b3A7YT1hZShmdW5jdGlvbihlKXtyZXR1cm4gRW4odCxjLGUpLnRvcD09aH0saTwwPT0oMT09cy5sZXZlbCk/cy5mcm9tOnMudG8tMSxhKSxcImJlZm9yZVwiPT11JiYoYT1RbyhuLGEsMSkpfWVsc2UgYT1pPDA/cy50bzpzLmZyb207cmV0dXJuIG5ldyBnZShyLGEsdSl9fXJldHVybiBuZXcgZ2UocixpPDA/bi50ZXh0Lmxlbmd0aDowLGk8MD9cImJlZm9yZVwiOlwiYWZ0ZXJcIil9Rm8uYmFzaWM9e0xlZnQ6XCJnb0NoYXJMZWZ0XCIsUmlnaHQ6XCJnb0NoYXJSaWdodFwiLFVwOlwiZ29MaW5lVXBcIixEb3duOlwiZ29MaW5lRG93blwiLEVuZDpcImdvTGluZUVuZFwiLEhvbWU6XCJnb0xpbmVTdGFydFNtYXJ0XCIsUGFnZVVwOlwiZ29QYWdlVXBcIixQYWdlRG93bjpcImdvUGFnZURvd25cIixEZWxldGU6XCJkZWxDaGFyQWZ0ZXJcIixCYWNrc3BhY2U6XCJkZWxDaGFyQmVmb3JlXCIsXCJTaGlmdC1CYWNrc3BhY2VcIjpcImRlbENoYXJCZWZvcmVcIixUYWI6XCJkZWZhdWx0VGFiXCIsXCJTaGlmdC1UYWJcIjpcImluZGVudEF1dG9cIixFbnRlcjpcIm5ld2xpbmVBbmRJbmRlbnRcIixJbnNlcnQ6XCJ0b2dnbGVPdmVyd3JpdGVcIixFc2M6XCJzaW5nbGVTZWxlY3Rpb25cIn0sRm8ucGNEZWZhdWx0PXtcIkN0cmwtQVwiOlwic2VsZWN0QWxsXCIsXCJDdHJsLURcIjpcImRlbGV0ZUxpbmVcIixcIkN0cmwtWlwiOlwidW5kb1wiLFwiU2hpZnQtQ3RybC1aXCI6XCJyZWRvXCIsXCJDdHJsLVlcIjpcInJlZG9cIixcIkN0cmwtSG9tZVwiOlwiZ29Eb2NTdGFydFwiLFwiQ3RybC1FbmRcIjpcImdvRG9jRW5kXCIsXCJDdHJsLVVwXCI6XCJnb0xpbmVVcFwiLFwiQ3RybC1Eb3duXCI6XCJnb0xpbmVEb3duXCIsXCJDdHJsLUxlZnRcIjpcImdvR3JvdXBMZWZ0XCIsXCJDdHJsLVJpZ2h0XCI6XCJnb0dyb3VwUmlnaHRcIixcIkFsdC1MZWZ0XCI6XCJnb0xpbmVTdGFydFwiLFwiQWx0LVJpZ2h0XCI6XCJnb0xpbmVFbmRcIixcIkN0cmwtQmFja3NwYWNlXCI6XCJkZWxHcm91cEJlZm9yZVwiLFwiQ3RybC1EZWxldGVcIjpcImRlbEdyb3VwQWZ0ZXJcIixcIkN0cmwtU1wiOlwic2F2ZVwiLFwiQ3RybC1GXCI6XCJmaW5kXCIsXCJDdHJsLUdcIjpcImZpbmROZXh0XCIsXCJTaGlmdC1DdHJsLUdcIjpcImZpbmRQcmV2XCIsXCJTaGlmdC1DdHJsLUZcIjpcInJlcGxhY2VcIixcIlNoaWZ0LUN0cmwtUlwiOlwicmVwbGFjZUFsbFwiLFwiQ3RybC1bXCI6XCJpbmRlbnRMZXNzXCIsXCJDdHJsLV1cIjpcImluZGVudE1vcmVcIixcIkN0cmwtVVwiOlwidW5kb1NlbGVjdGlvblwiLFwiU2hpZnQtQ3RybC1VXCI6XCJyZWRvU2VsZWN0aW9uXCIsXCJBbHQtVVwiOlwicmVkb1NlbGVjdGlvblwiLGZhbGx0aHJvdWdoOlwiYmFzaWNcIn0sRm8uZW1hY3N5PXtcIkN0cmwtRlwiOlwiZ29DaGFyUmlnaHRcIixcIkN0cmwtQlwiOlwiZ29DaGFyTGVmdFwiLFwiQ3RybC1QXCI6XCJnb0xpbmVVcFwiLFwiQ3RybC1OXCI6XCJnb0xpbmVEb3duXCIsXCJBbHQtRlwiOlwiZ29Xb3JkUmlnaHRcIixcIkFsdC1CXCI6XCJnb1dvcmRMZWZ0XCIsXCJDdHJsLUFcIjpcImdvTGluZVN0YXJ0XCIsXCJDdHJsLUVcIjpcImdvTGluZUVuZFwiLFwiQ3RybC1WXCI6XCJnb1BhZ2VEb3duXCIsXCJTaGlmdC1DdHJsLVZcIjpcImdvUGFnZVVwXCIsXCJDdHJsLURcIjpcImRlbENoYXJBZnRlclwiLFwiQ3RybC1IXCI6XCJkZWxDaGFyQmVmb3JlXCIsXCJBbHQtRFwiOlwiZGVsV29yZEFmdGVyXCIsXCJBbHQtQmFja3NwYWNlXCI6XCJkZWxXb3JkQmVmb3JlXCIsXCJDdHJsLUtcIjpcImtpbGxMaW5lXCIsXCJDdHJsLVRcIjpcInRyYW5zcG9zZUNoYXJzXCIsXCJDdHJsLU9cIjpcIm9wZW5MaW5lXCJ9LEZvLm1hY0RlZmF1bHQ9e1wiQ21kLUFcIjpcInNlbGVjdEFsbFwiLFwiQ21kLURcIjpcImRlbGV0ZUxpbmVcIixcIkNtZC1aXCI6XCJ1bmRvXCIsXCJTaGlmdC1DbWQtWlwiOlwicmVkb1wiLFwiQ21kLVlcIjpcInJlZG9cIixcIkNtZC1Ib21lXCI6XCJnb0RvY1N0YXJ0XCIsXCJDbWQtVXBcIjpcImdvRG9jU3RhcnRcIixcIkNtZC1FbmRcIjpcImdvRG9jRW5kXCIsXCJDbWQtRG93blwiOlwiZ29Eb2NFbmRcIixcIkFsdC1MZWZ0XCI6XCJnb0dyb3VwTGVmdFwiLFwiQWx0LVJpZ2h0XCI6XCJnb0dyb3VwUmlnaHRcIixcIkNtZC1MZWZ0XCI6XCJnb0xpbmVMZWZ0XCIsXCJDbWQtUmlnaHRcIjpcImdvTGluZVJpZ2h0XCIsXCJBbHQtQmFja3NwYWNlXCI6XCJkZWxHcm91cEJlZm9yZVwiLFwiQ3RybC1BbHQtQmFja3NwYWNlXCI6XCJkZWxHcm91cEFmdGVyXCIsXCJBbHQtRGVsZXRlXCI6XCJkZWxHcm91cEFmdGVyXCIsXCJDbWQtU1wiOlwic2F2ZVwiLFwiQ21kLUZcIjpcImZpbmRcIixcIkNtZC1HXCI6XCJmaW5kTmV4dFwiLFwiU2hpZnQtQ21kLUdcIjpcImZpbmRQcmV2XCIsXCJDbWQtQWx0LUZcIjpcInJlcGxhY2VcIixcIlNoaWZ0LUNtZC1BbHQtRlwiOlwicmVwbGFjZUFsbFwiLFwiQ21kLVtcIjpcImluZGVudExlc3NcIixcIkNtZC1dXCI6XCJpbmRlbnRNb3JlXCIsXCJDbWQtQmFja3NwYWNlXCI6XCJkZWxXcmFwcGVkTGluZUxlZnRcIixcIkNtZC1EZWxldGVcIjpcImRlbFdyYXBwZWRMaW5lUmlnaHRcIixcIkNtZC1VXCI6XCJ1bmRvU2VsZWN0aW9uXCIsXCJTaGlmdC1DbWQtVVwiOlwicmVkb1NlbGVjdGlvblwiLFwiQ3RybC1VcFwiOlwiZ29Eb2NTdGFydFwiLFwiQ3RybC1Eb3duXCI6XCJnb0RvY0VuZFwiLGZhbGx0aHJvdWdoOltcImJhc2ljXCIsXCJlbWFjc3lcIl19LEZvLmRlZmF1bHQ9Yj9Gby5tYWNEZWZhdWx0OkZvLnBjRGVmYXVsdDt2YXIgS289e3NlbGVjdEFsbDpubyxzaW5nbGVTZWxlY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0U2VsZWN0aW9uKGUuZ2V0Q3Vyc29yKFwiYW5jaG9yXCIpLGUuZ2V0Q3Vyc29yKFwiaGVhZFwiKSxWKX0sa2lsbExpbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIFlvKGUsZnVuY3Rpb24odCl7aWYodC5lbXB0eSgpKXt2YXIgbj1zZShlLmRvYyx0LmhlYWQubGluZSkudGV4dC5sZW5ndGg7cmV0dXJuIHQuaGVhZC5jaD09biYmdC5oZWFkLmxpbmU8ZS5sYXN0TGluZSgpP3tmcm9tOnQuaGVhZCx0bzpnZSh0LmhlYWQubGluZSsxLDApfTp7ZnJvbTp0LmhlYWQsdG86Z2UodC5oZWFkLmxpbmUsbil9fXJldHVybntmcm9tOnQuZnJvbSgpLHRvOnQudG8oKX19KX0sZGVsZXRlTGluZTpmdW5jdGlvbihlKXtyZXR1cm4gWW8oZSxmdW5jdGlvbih0KXtyZXR1cm57ZnJvbTpnZSh0LmZyb20oKS5saW5lLDApLHRvOkNlKGUuZG9jLGdlKHQudG8oKS5saW5lKzEsMCkpfX0pfSxkZWxMaW5lTGVmdDpmdW5jdGlvbihlKXtyZXR1cm4gWW8oZSxmdW5jdGlvbihlKXtyZXR1cm57ZnJvbTpnZShlLmZyb20oKS5saW5lLDApLHRvOmUuZnJvbSgpfX0pfSxkZWxXcmFwcGVkTGluZUxlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFlvKGUsZnVuY3Rpb24odCl7dmFyIG49ZS5jaGFyQ29vcmRzKHQuaGVhZCxcImRpdlwiKS50b3ArNSxyPWUuY29vcmRzQ2hhcih7bGVmdDowLHRvcDpufSxcImRpdlwiKTtyZXR1cm57ZnJvbTpyLHRvOnQuZnJvbSgpfX0pfSxkZWxXcmFwcGVkTGluZVJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBZbyhlLGZ1bmN0aW9uKHQpe3ZhciBuPWUuY2hhckNvb3Jkcyh0LmhlYWQsXCJkaXZcIikudG9wKzUscj1lLmNvb3Jkc0NoYXIoe2xlZnQ6ZS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGgrMTAwLHRvcDpufSxcImRpdlwiKTtyZXR1cm57ZnJvbTp0LmZyb20oKSx0bzpyfX0pfSx1bmRvOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVuZG8oKX0scmVkbzpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWRvKCl9LHVuZG9TZWxlY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIGUudW5kb1NlbGVjdGlvbigpfSxyZWRvU2VsZWN0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZG9TZWxlY3Rpb24oKX0sZ29Eb2NTdGFydDpmdW5jdGlvbihlKXtyZXR1cm4gZS5leHRlbmRTZWxlY3Rpb24oZ2UoZS5maXJzdExpbmUoKSwwKSl9LGdvRG9jRW5kOmZ1bmN0aW9uKGUpe3JldHVybiBlLmV4dGVuZFNlbGVjdGlvbihnZShlLmxhc3RMaW5lKCkpKX0sZ29MaW5lU3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHQpe3JldHVybiBKbyhlLHQuaGVhZC5saW5lKX0se29yaWdpbjpcIittb3ZlXCIsYmlhczoxfSl9LGdvTGluZVN0YXJ0U21hcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHQpe3JldHVybiBxbyhlLHQuaGVhZCl9LHtvcmlnaW46XCIrbW92ZVwiLGJpYXM6MX0pfSxnb0xpbmVFbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXNlKGUuZG9jLHQpLHI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0O3Q9RmUoZSk7KWU9dC5maW5kKDEsITApLmxpbmU7cmV0dXJuIGV9KG4pO3JldHVybiByIT1uJiYodD1oZShyKSksX28oITAsZSxuLHQsLTEpfShlLHQuaGVhZC5saW5lKX0se29yaWdpbjpcIittb3ZlXCIsYmlhczotMX0pfSxnb0xpbmVSaWdodDpmdW5jdGlvbihlKXtyZXR1cm4gZS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24odCl7dmFyIG49ZS5jdXJzb3JDb29yZHModC5oZWFkLFwiZGl2XCIpLnRvcCs1O3JldHVybiBlLmNvb3Jkc0NoYXIoe2xlZnQ6ZS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGgrMTAwLHRvcDpufSxcImRpdlwiKX0sWil9LGdvTGluZUxlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHQpe3ZhciBuPWUuY3Vyc29yQ29vcmRzKHQuaGVhZCxcImRpdlwiKS50b3ArNTtyZXR1cm4gZS5jb29yZHNDaGFyKHtsZWZ0OjAsdG9wOm59LFwiZGl2XCIpfSxaKX0sZ29MaW5lTGVmdFNtYXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbih0KXt2YXIgbj1lLmN1cnNvckNvb3Jkcyh0LmhlYWQsXCJkaXZcIikudG9wKzUscj1lLmNvb3Jkc0NoYXIoe2xlZnQ6MCx0b3A6bn0sXCJkaXZcIik7cmV0dXJuIHIuY2g8ZS5nZXRMaW5lKHIubGluZSkuc2VhcmNoKC9cXFMvKT9xbyhlLHQuaGVhZCk6cn0sWil9LGdvTGluZVVwOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1vdmVWKC0xLFwibGluZVwiKX0sZ29MaW5lRG93bjpmdW5jdGlvbihlKXtyZXR1cm4gZS5tb3ZlVigxLFwibGluZVwiKX0sZ29QYWdlVXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW92ZVYoLTEsXCJwYWdlXCIpfSxnb1BhZ2VEb3duOmZ1bmN0aW9uKGUpe3JldHVybiBlLm1vdmVWKDEsXCJwYWdlXCIpfSxnb0NoYXJMZWZ0OmZ1bmN0aW9uKGUpe3JldHVybiBlLm1vdmVIKC0xLFwiY2hhclwiKX0sZ29DaGFyUmlnaHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW92ZUgoMSxcImNoYXJcIil9LGdvQ29sdW1uTGVmdDpmdW5jdGlvbihlKXtyZXR1cm4gZS5tb3ZlSCgtMSxcImNvbHVtblwiKX0sZ29Db2x1bW5SaWdodDpmdW5jdGlvbihlKXtyZXR1cm4gZS5tb3ZlSCgxLFwiY29sdW1uXCIpfSxnb1dvcmRMZWZ0OmZ1bmN0aW9uKGUpe3JldHVybiBlLm1vdmVIKC0xLFwid29yZFwiKX0sZ29Hcm91cFJpZ2h0OmZ1bmN0aW9uKGUpe3JldHVybiBlLm1vdmVIKDEsXCJncm91cFwiKX0sZ29Hcm91cExlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW92ZUgoLTEsXCJncm91cFwiKX0sZ29Xb3JkUmlnaHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW92ZUgoMSxcIndvcmRcIil9LGRlbENoYXJCZWZvcmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVsZXRlSCgtMSxcImNoYXJcIil9LGRlbENoYXJBZnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWxldGVIKDEsXCJjaGFyXCIpfSxkZWxXb3JkQmVmb3JlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRlbGV0ZUgoLTEsXCJ3b3JkXCIpfSxkZWxXb3JkQWZ0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVsZXRlSCgxLFwid29yZFwiKX0sZGVsR3JvdXBCZWZvcmU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVsZXRlSCgtMSxcImdyb3VwXCIpfSxkZWxHcm91cEFmdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRlbGV0ZUgoMSxcImdyb3VwXCIpfSxpbmRlbnRBdXRvOmZ1bmN0aW9uKGUpe3JldHVybiBlLmluZGVudFNlbGVjdGlvbihcInNtYXJ0XCIpfSxpbmRlbnRNb3JlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmluZGVudFNlbGVjdGlvbihcImFkZFwiKX0saW5kZW50TGVzczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRlbnRTZWxlY3Rpb24oXCJzdWJ0cmFjdFwiKX0saW5zZXJ0VGFiOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2VTZWxlY3Rpb24oXCJcXHRcIil9LGluc2VydFNvZnRUYWI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZS5saXN0U2VsZWN0aW9ucygpLHI9ZS5vcHRpb25zLnRhYlNpemUsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldLmZyb20oKSxhPUYoZS5nZXRMaW5lKG8ubGluZSksby5jaCxyKTt0LnB1c2goWChyLWElcikpfWUucmVwbGFjZVNlbGVjdGlvbnModCl9LGRlZmF1bHRUYWI6ZnVuY3Rpb24oZSl7ZS5zb21ldGhpbmdTZWxlY3RlZCgpP2UuaW5kZW50U2VsZWN0aW9uKFwiYWRkXCIpOmUuZXhlY0NvbW1hbmQoXCJpbnNlcnRUYWJcIil9LHRyYW5zcG9zZUNoYXJzOmZ1bmN0aW9uKGUpe3JldHVybiBRcihlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWUubGlzdFNlbGVjdGlvbnMoKSxuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLmVtcHR5KCkpe3ZhciBpPXRbcl0uaGVhZCxvPXNlKGUuZG9jLGkubGluZSkudGV4dDtpZihvKWlmKGkuY2g9PW8ubGVuZ3RoJiYoaT1uZXcgZ2UoaS5saW5lLGkuY2gtMSkpLGkuY2g+MClpPW5ldyBnZShpLmxpbmUsaS5jaCsxKSxlLnJlcGxhY2VSYW5nZShvLmNoYXJBdChpLmNoLTEpK28uY2hhckF0KGkuY2gtMiksZ2UoaS5saW5lLGkuY2gtMiksaSxcIit0cmFuc3Bvc2VcIik7ZWxzZSBpZihpLmxpbmU+ZS5kb2MuZmlyc3Qpe3ZhciBhPXNlKGUuZG9jLGkubGluZS0xKS50ZXh0O2EmJihpPW5ldyBnZShpLmxpbmUsMSksZS5yZXBsYWNlUmFuZ2Uoby5jaGFyQXQoMCkrZS5kb2MubGluZVNlcGFyYXRvcigpK2EuY2hhckF0KGEubGVuZ3RoLTEpLGdlKGkubGluZS0xLGEubGVuZ3RoLTEpLGksXCIrdHJhbnNwb3NlXCIpKX1uLnB1c2gobmV3IGJpKGksaSkpfWUuc2V0U2VsZWN0aW9ucyhuKX0pfSxuZXdsaW5lQW5kSW5kZW50OmZ1bmN0aW9uKGUpe3JldHVybiBRcihlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWUubGlzdFNlbGVjdGlvbnMoKSxuPXQubGVuZ3RoLTE7bj49MDtuLS0pZS5yZXBsYWNlUmFuZ2UoZS5kb2MubGluZVNlcGFyYXRvcigpLHRbbl0uYW5jaG9yLHRbbl0uaGVhZCxcIitpbnB1dFwiKTt0PWUubGlzdFNlbGVjdGlvbnMoKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllLmluZGVudExpbmUodFtyXS5mcm9tKCkubGluZSxudWxsLCEwKTtJcihlKX0pfSxvcGVuTGluZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlU2VsZWN0aW9uKFwiXFxuXCIsXCJzdGFydFwiKX0sdG9nZ2xlT3ZlcndyaXRlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvZ2dsZU92ZXJ3cml0ZSgpfX07ZnVuY3Rpb24gSm8oZSx0KXt2YXIgbj1zZShlLmRvYyx0KSxyPWplKG4pO3JldHVybiByIT1uJiYodD1oZShyKSksX28oITAsZSxyLHQsMSl9ZnVuY3Rpb24gcW8oZSx0KXt2YXIgbj1KbyhlLHQubGluZSkscj1zZShlLmRvYyxuLmxpbmUpLGk9cWUocixlLmRvYy5kaXJlY3Rpb24pO2lmKCFpfHwwPT1pWzBdLmxldmVsKXt2YXIgbz1NYXRoLm1heCgwLHIudGV4dC5zZWFyY2goL1xcUy8pKSxhPXQubGluZT09bi5saW5lJiZ0LmNoPD1vJiZ0LmNoO3JldHVybiBnZShuLmxpbmUsYT8wOm8sbi5zdGlja3kpfXJldHVybiBufWZ1bmN0aW9uICRvKGUsdCxuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmISh0PUtvW3RdKSlyZXR1cm4hMTtlLmRpc3BsYXkuaW5wdXQuZW5zdXJlUG9sbGVkKCk7dmFyIHI9ZS5kaXNwbGF5LnNoaWZ0LGk9ITE7dHJ5e2UuaXNSZWFkT25seSgpJiYoZS5zdGF0ZS5zdXBwcmVzc0VkaXRzPSEwKSxuJiYoZS5kaXNwbGF5LnNoaWZ0PSExKSxpPXQoZSkhPUd9ZmluYWxseXtlLmRpc3BsYXkuc2hpZnQ9cixlLnN0YXRlLnN1cHByZXNzRWRpdHM9ITF9cmV0dXJuIGl9dmFyIGVhPW5ldyBIO2Z1bmN0aW9uIHRhKGUsdCxuLHIpe3ZhciBpPWUuc3RhdGUua2V5U2VxO2lmKGkpe2lmKEdvKHQpKXJldHVyblwiaGFuZGxlZFwiO2lmKC9cXCckLy50ZXN0KHQpP2Uuc3RhdGUua2V5U2VxPW51bGw6ZWEuc2V0KDUwLGZ1bmN0aW9uKCl7ZS5zdGF0ZS5rZXlTZXE9PWkmJihlLnN0YXRlLmtleVNlcT1udWxsLGUuZGlzcGxheS5pbnB1dC5yZXNldCgpKX0pLG5hKGUsaStcIiBcIit0LG4scikpcmV0dXJuITB9cmV0dXJuIG5hKGUsdCxuLHIpfWZ1bmN0aW9uIG5hKGUsdCxuLHIpe3ZhciBpPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MDtyPGUuc3RhdGUua2V5TWFwcy5sZW5ndGg7cisrKXt2YXIgaT1qbyh0LGUuc3RhdGUua2V5TWFwc1tyXSxuLGUpO2lmKGkpcmV0dXJuIGl9cmV0dXJuIGUub3B0aW9ucy5leHRyYUtleXMmJmpvKHQsZS5vcHRpb25zLmV4dHJhS2V5cyxuLGUpfHxqbyh0LGUub3B0aW9ucy5rZXlNYXAsbixlKX0oZSx0LHIpO3JldHVyblwibXVsdGlcIj09aSYmKGUuc3RhdGUua2V5U2VxPXQpLFwiaGFuZGxlZFwiPT1pJiZzbihlLFwia2V5SGFuZGxlZFwiLGUsdCxuKSxcImhhbmRsZWRcIiE9aSYmXCJtdWx0aVwiIT1pfHwobHQobiksZnIoZSkpLCEhaX1mdW5jdGlvbiByYShlLHQpe3ZhciBuPVVvKHQsITApO3JldHVybiEhbiYmKHQuc2hpZnRLZXkmJiFlLnN0YXRlLmtleVNlcT90YShlLFwiU2hpZnQtXCIrbix0LGZ1bmN0aW9uKHQpe3JldHVybiAkbyhlLHQsITApfSl8fHRhKGUsbix0LGZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0Py9eZ29bQS1aXS8udGVzdCh0KTp0Lm1vdGlvbilyZXR1cm4gJG8oZSx0KX0pOnRhKGUsbix0LGZ1bmN0aW9uKHQpe3JldHVybiAkbyhlLHQpfSkpfXZhciBpYT1udWxsO2Z1bmN0aW9uIG9hKGUpe3ZhciB0PXRoaXM7aWYodC5jdXJPcC5mb2N1cz1FKCksIWl0KHQsZSkpe2EmJnM8MTEmJjI3PT1lLmtleUNvZGUmJihlLnJldHVyblZhbHVlPSExKTt2YXIgbj1lLmtleUNvZGU7dC5kaXNwbGF5LnNoaWZ0PTE2PT1ufHxlLnNoaWZ0S2V5O3ZhciByPXJhKHQsZSk7aCYmKGlhPXI/bjpudWxsLCFyJiY4OD09biYmIXd0JiYoYj9lLm1ldGFLZXk6ZS5jdHJsS2V5KSYmdC5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsbnVsbCxcImN1dFwiKSksMTghPW58fC9cXGJDb2RlTWlycm9yLWNyb3NzaGFpclxcYi8udGVzdCh0LmRpc3BsYXkubGluZURpdi5jbGFzc05hbWUpfHxmdW5jdGlvbihlKXt2YXIgdD1lLmRpc3BsYXkubGluZURpdjtmdW5jdGlvbiBuKGUpezE4IT1lLmtleUNvZGUmJmUuYWx0S2V5fHwoTSh0LFwiQ29kZU1pcnJvci1jcm9zc2hhaXJcIiksbnQoZG9jdW1lbnQsXCJrZXl1cFwiLG4pLG50KGRvY3VtZW50LFwibW91c2VvdmVyXCIsbikpfVAodCxcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpLGV0KGRvY3VtZW50LFwia2V5dXBcIixuKSxldChkb2N1bWVudCxcIm1vdXNlb3ZlclwiLG4pfSh0KX19ZnVuY3Rpb24gYWEoZSl7MTY9PWUua2V5Q29kZSYmKHRoaXMuZG9jLnNlbC5zaGlmdD0hMSksaXQodGhpcyxlKX1mdW5jdGlvbiBzYShlKXt2YXIgdD10aGlzO2lmKCEod24odC5kaXNwbGF5LGUpfHxpdCh0LGUpfHxlLmN0cmxLZXkmJiFlLmFsdEtleXx8YiYmZS5tZXRhS2V5KSl7dmFyIG49ZS5rZXlDb2RlLHI9ZS5jaGFyQ29kZTtpZihoJiZuPT1pYSlyZXR1cm4gaWE9bnVsbCx2b2lkIGx0KGUpO2lmKCFofHxlLndoaWNoJiYhKGUud2hpY2g8MTApfHwhcmEodCxlKSl7dmFyIGk9U3RyaW5nLmZyb21DaGFyQ29kZShudWxsPT1yP246cik7XCJcXGJcIiE9aSYmKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGEoZSxcIidcIituK1wiJ1wiLHQsZnVuY3Rpb24odCl7cmV0dXJuICRvKGUsdCwhMCl9KX0odCxlLGkpfHx0LmRpc3BsYXkuaW5wdXQub25LZXlQcmVzcyhlKSl9fX12YXIgbGEsdWEsY2E9ZnVuY3Rpb24oZSx0LG4pe3RoaXMudGltZT1lLHRoaXMucG9zPXQsdGhpcy5idXR0b249bn07ZnVuY3Rpb24gaGEoZSl7dmFyIHQ9dGhpcyxuPXQuZGlzcGxheTtpZighKGl0KHQsZSl8fG4uYWN0aXZlVG91Y2gmJm4uaW5wdXQuc3VwcG9ydHNUb3VjaCgpKSlpZihuLmlucHV0LmVuc3VyZVBvbGxlZCgpLG4uc2hpZnQ9ZS5zaGlmdEtleSx3bihuLGUpKWx8fChuLnNjcm9sbGVyLmRyYWdnYWJsZT0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uc2Nyb2xsZXIuZHJhZ2dhYmxlPSEwfSwxMDApKTtlbHNlIGlmKCFwYSh0LGUpKXt2YXIgcj1hcih0LGUpLGk9ZnQoZSksbz1yP2Z1bmN0aW9uKGUsdCl7dmFyIG49K25ldyBEYXRlO3JldHVybiB1YSYmdWEuY29tcGFyZShuLGUsdCk/KGxhPXVhPW51bGwsXCJ0cmlwbGVcIik6bGEmJmxhLmNvbXBhcmUobixlLHQpPyh1YT1uZXcgY2EobixlLHQpLGxhPW51bGwsXCJkb3VibGVcIik6KGxhPW5ldyBjYShuLGUsdCksdWE9bnVsbCxcInNpbmdsZVwiKX0ocixpKTpcInNpbmdsZVwiO3dpbmRvdy5mb2N1cygpLDE9PWkmJnQuc3RhdGUuc2VsZWN0aW5nVGV4dCYmdC5zdGF0ZS5zZWxlY3RpbmdUZXh0KGUpLHImJmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89XCJDbGlja1wiO3JldHVyblwiZG91YmxlXCI9PXI/bz1cIkRvdWJsZVwiK286XCJ0cmlwbGVcIj09ciYmKG89XCJUcmlwbGVcIitvKSx0YShlLFZvKG89KDE9PXQ/XCJMZWZ0XCI6Mj09dD9cIk1pZGRsZVwiOlwiUmlnaHRcIikrbyxpKSxpLGZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1Lb1t0XSksIXQpcmV0dXJuITE7dmFyIHI9ITE7dHJ5e2UuaXNSZWFkT25seSgpJiYoZS5zdGF0ZS5zdXBwcmVzc0VkaXRzPSEwKSxyPXQoZSxuKSE9R31maW5hbGx5e2Uuc3RhdGUuc3VwcHJlc3NFZGl0cz0hMX1yZXR1cm4gcn0pfSh0LGkscixvLGUpfHwoMT09aT9yP2Z1bmN0aW9uKGUsdCxuLHIpe2E/c2V0VGltZW91dChSKHByLGUpLDApOmUuY3VyT3AuZm9jdXM9RSgpO3ZhciBpLG89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0T3B0aW9uKFwiY29uZmlndXJlTW91c2VcIiksaT1yP3IoZSx0LG4pOnt9O2lmKG51bGw9PWkudW5pdCl7dmFyIG89eT9uLnNoaWZ0S2V5JiZuLm1ldGFLZXk6bi5hbHRLZXk7aS51bml0PW8/XCJyZWN0YW5nbGVcIjpcInNpbmdsZVwiPT10P1wiY2hhclwiOlwiZG91YmxlXCI9PXQ/XCJ3b3JkXCI6XCJsaW5lXCJ9cmV0dXJuKG51bGw9PWkuZXh0ZW5kfHxlLmRvYy5leHRlbmQpJiYoaS5leHRlbmQ9ZS5kb2MuZXh0ZW5kfHxuLnNoaWZ0S2V5KSxudWxsPT1pLmFkZE5ldyYmKGkuYWRkTmV3PWI/bi5tZXRhS2V5Om4uY3RybEtleSksbnVsbD09aS5tb3ZlT25EcmFnJiYoaS5tb3ZlT25EcmFnPSEoYj9uLmFsdEtleTpuLmN0cmxLZXkpKSxpfShlLG4sciksdT1lLmRvYy5zZWw7ZS5vcHRpb25zLmRyYWdEcm9wJiZ2dCYmIWUuaXNSZWFkT25seSgpJiZcInNpbmdsZVwiPT1uJiYoaT11LmNvbnRhaW5zKHQpKT4tMSYmKHZlKChpPXUucmFuZ2VzW2ldKS5mcm9tKCksdCk8MHx8dC54UmVsPjApJiYodmUoaS50bygpLHQpPjB8fHQueFJlbDwwKT9mdW5jdGlvbihlLHQsbixyKXt2YXIgaT1lLmRpc3BsYXksbz0hMSx1PVhyKGUsZnVuY3Rpb24odCl7bCYmKGkuc2Nyb2xsZXIuZHJhZ2dhYmxlPSExKSxlLnN0YXRlLmRyYWdnaW5nVGV4dD0hMSxudChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNldXBcIix1KSxudChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNlbW92ZVwiLGMpLG50KGkuc2Nyb2xsZXIsXCJkcmFnc3RhcnRcIixoKSxudChpLnNjcm9sbGVyLFwiZHJvcFwiLHUpLG98fChsdCh0KSxyLmFkZE5ld3x8VmkoZS5kb2MsbixudWxsLG51bGwsci5leHRlbmQpLGx8fGEmJjk9PXM/c2V0VGltZW91dChmdW5jdGlvbigpe2kud3JhcHBlci5vd25lckRvY3VtZW50LmJvZHkuZm9jdXMoKSxpLmlucHV0LmZvY3VzKCl9LDIwKTppLmlucHV0LmZvY3VzKCkpfSksYz1mdW5jdGlvbihlKXtvPW98fE1hdGguYWJzKHQuY2xpZW50WC1lLmNsaWVudFgpK01hdGguYWJzKHQuY2xpZW50WS1lLmNsaWVudFkpPj0xMH0saD1mdW5jdGlvbigpe3JldHVybiBvPSEwfTtsJiYoaS5zY3JvbGxlci5kcmFnZ2FibGU9ITApLGUuc3RhdGUuZHJhZ2dpbmdUZXh0PXUsdS5jb3B5PSFyLm1vdmVPbkRyYWcsaS5zY3JvbGxlci5kcmFnRHJvcCYmaS5zY3JvbGxlci5kcmFnRHJvcCgpLGV0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2V1cFwiLHUpLGV0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2Vtb3ZlXCIsYyksZXQoaS5zY3JvbGxlcixcImRyYWdzdGFydFwiLGgpLGV0KGkuc2Nyb2xsZXIsXCJkcm9wXCIsdSksZ3IoZSksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBpLmlucHV0LmZvY3VzKCl9LDIwKX0oZSxyLHQsbyk6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ZS5kaXNwbGF5LG89ZS5kb2M7bHQodCk7dmFyIGEscyxsPW8uc2VsLHU9bC5yYW5nZXM7aWYoci5hZGROZXcmJiFyLmV4dGVuZD8ocz1vLnNlbC5jb250YWlucyhuKSxhPXM+LTE/dVtzXTpuZXcgYmkobixuKSk6KGE9by5zZWwucHJpbWFyeSgpLHM9by5zZWwucHJpbUluZGV4KSxcInJlY3RhbmdsZVwiPT1yLnVuaXQpci5hZGROZXd8fChhPW5ldyBiaShuLG4pKSxuPWFyKGUsdCwhMCwhMCkscz0tMTtlbHNle3ZhciBjPWRhKGUsbixyLnVuaXQpO2E9ci5leHRlbmQ/R2koYSxjLmFuY2hvcixjLmhlYWQsci5leHRlbmQpOmN9ci5hZGROZXc/LTE9PXM/KHM9dS5sZW5ndGgsWGkobyx5aShlLHUuY29uY2F0KFthXSkscykse3Njcm9sbDohMSxvcmlnaW46XCIqbW91c2VcIn0pKTp1Lmxlbmd0aD4xJiZ1W3NdLmVtcHR5KCkmJlwiY2hhclwiPT1yLnVuaXQmJiFyLmV4dGVuZD8oWGkobyx5aShlLHUuc2xpY2UoMCxzKS5jb25jYXQodS5zbGljZShzKzEpKSwwKSx7c2Nyb2xsOiExLG9yaWdpbjpcIiptb3VzZVwifSksbD1vLnNlbCk6WmkobyxzLGEsVSk6KHM9MCxYaShvLG5ldyBtaShbYV0sMCksVSksbD1vLnNlbCk7dmFyIGg9bjtmdW5jdGlvbiBkKHQpe2lmKDAhPXZlKGgsdCkpaWYoaD10LFwicmVjdGFuZ2xlXCI9PXIudW5pdCl7Zm9yKHZhciBpPVtdLHU9ZS5vcHRpb25zLnRhYlNpemUsYz1GKHNlKG8sbi5saW5lKS50ZXh0LG4uY2gsdSksZD1GKHNlKG8sdC5saW5lKS50ZXh0LHQuY2gsdSksZj1NYXRoLm1pbihjLGQpLHA9TWF0aC5tYXgoYyxkKSxnPU1hdGgubWluKG4ubGluZSx0LmxpbmUpLHY9TWF0aC5taW4oZS5sYXN0TGluZSgpLE1hdGgubWF4KG4ubGluZSx0LmxpbmUpKTtnPD12O2crKyl7dmFyIG09c2UobyxnKS50ZXh0LGI9WShtLGYsdSk7Zj09cD9pLnB1c2gobmV3IGJpKGdlKGcsYiksZ2UoZyxiKSkpOm0ubGVuZ3RoPmImJmkucHVzaChuZXcgYmkoZ2UoZyxiKSxnZShnLFkobSxwLHUpKSkpfWkubGVuZ3RofHxpLnB1c2gobmV3IGJpKG4sbikpLFhpKG8seWkoZSxsLnJhbmdlcy5zbGljZSgwLHMpLmNvbmNhdChpKSxzKSx7b3JpZ2luOlwiKm1vdXNlXCIsc2Nyb2xsOiExfSksZS5zY3JvbGxJbnRvVmlldyh0KX1lbHNle3ZhciB5LEE9YSx3PWRhKGUsdCxyLnVuaXQpLEM9QS5hbmNob3I7dmUody5hbmNob3IsQyk+MD8oeT13LmhlYWQsQz1BZShBLmZyb20oKSx3LmFuY2hvcikpOih5PXcuYW5jaG9yLEM9eWUoQS50bygpLHcuaGVhZCkpO3ZhciB4PWwucmFuZ2VzLnNsaWNlKDApO3hbc109ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmFuY2hvcixyPXQuaGVhZCxpPXNlKGUuZG9jLG4ubGluZSk7aWYoMD09dmUobixyKSYmbi5zdGlja3k9PXIuc3RpY2t5KXJldHVybiB0O3ZhciBvPXFlKGkpO2lmKCFvKXJldHVybiB0O3ZhciBhPUtlKG8sbi5jaCxuLnN0aWNreSkscz1vW2FdO2lmKHMuZnJvbSE9bi5jaCYmcy50byE9bi5jaClyZXR1cm4gdDt2YXIgbCx1PWErKHMuZnJvbT09bi5jaD09KDEhPXMubGV2ZWwpPzA6MSk7aWYoMD09dXx8dT09by5sZW5ndGgpcmV0dXJuIHQ7aWYoci5saW5lIT1uLmxpbmUpbD0oci5saW5lLW4ubGluZSkqKFwibHRyXCI9PWUuZG9jLmRpcmVjdGlvbj8xOi0xKT4wO2Vsc2V7dmFyIGM9S2UobyxyLmNoLHIuc3RpY2t5KSxoPWMtYXx8KHIuY2gtbi5jaCkqKDE9PXMubGV2ZWw/LTE6MSk7bD1jPT11LTF8fGM9PXU/aDwwOmg+MH12YXIgZD1vW3UrKGw/LTE6MCldLGY9bD09KDE9PWQubGV2ZWwpLHA9Zj9kLmZyb206ZC50byxnPWY/XCJhZnRlclwiOlwiYmVmb3JlXCI7cmV0dXJuIG4uY2g9PXAmJm4uc3RpY2t5PT1nP3Q6bmV3IGJpKG5ldyBnZShuLmxpbmUscCxnKSxyKX0oZSxuZXcgYmkoQ2UobyxDKSx5KSksWGkobyx5aShlLHgscyksVSl9fXZhciBmPWkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwPTA7ZnVuY3Rpb24gZyh0KXtlLnN0YXRlLnNlbGVjdGluZ1RleHQ9ITEscD0xLzAsbHQodCksaS5pbnB1dC5mb2N1cygpLG50KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdiksbnQoaS53cmFwcGVyLm93bmVyRG9jdW1lbnQsXCJtb3VzZXVwXCIsbSksby5oaXN0b3J5Lmxhc3RTZWxPcmlnaW49bnVsbH12YXIgdj1YcihlLGZ1bmN0aW9uKHQpezAhPT10LmJ1dHRvbnMmJmZ0KHQpP2Z1bmN0aW9uIHQobil7dmFyIGE9KytwLHM9YXIoZSxuLCEwLFwicmVjdGFuZ2xlXCI9PXIudW5pdCk7aWYocylpZigwIT12ZShzLGgpKXtlLmN1ck9wLmZvY3VzPUUoKSxkKHMpO3ZhciBsPUFyKGksbyk7KHMubGluZT49bC50b3x8cy5saW5lPGwuZnJvbSkmJnNldFRpbWVvdXQoWHIoZSxmdW5jdGlvbigpe3A9PWEmJnQobil9KSwxNTApfWVsc2V7dmFyIHU9bi5jbGllbnRZPGYudG9wPy0yMDpuLmNsaWVudFk+Zi5ib3R0b20/MjA6MDt1JiZzZXRUaW1lb3V0KFhyKGUsZnVuY3Rpb24oKXtwPT1hJiYoaS5zY3JvbGxlci5zY3JvbGxUb3ArPXUsdChuKSl9KSw1MCl9fSh0KTpnKHQpfSksbT1YcihlLGcpO2Uuc3RhdGUuc2VsZWN0aW5nVGV4dD1tLGV0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdiksZXQoaS53cmFwcGVyLm93bmVyRG9jdW1lbnQsXCJtb3VzZXVwXCIsbSl9KGUscix0LG8pfSh0LHIsbyxlKTpkdChlKT09bi5zY3JvbGxlciYmbHQoZSk6Mj09aT8ociYmVmkodC5kb2Msciksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLmlucHV0LmZvY3VzKCl9LDIwKSk6Mz09aSYmKHg/dC5kaXNwbGF5LmlucHV0Lm9uQ29udGV4dE1lbnUoZSk6Z3IodCkpKX19ZnVuY3Rpb24gZGEoZSx0LG4pe2lmKFwiY2hhclwiPT1uKXJldHVybiBuZXcgYmkodCx0KTtpZihcIndvcmRcIj09bilyZXR1cm4gZS5maW5kV29yZEF0KHQpO2lmKFwibGluZVwiPT1uKXJldHVybiBuZXcgYmkoZ2UodC5saW5lLDApLENlKGUuZG9jLGdlKHQubGluZSsxLDApKSk7dmFyIHI9bihlLHQpO3JldHVybiBuZXcgYmkoci5mcm9tLHIudG8pfWZ1bmN0aW9uIGZhKGUsdCxuLHIpe3ZhciBpLG87aWYodC50b3VjaGVzKWk9dC50b3VjaGVzWzBdLmNsaWVudFgsbz10LnRvdWNoZXNbMF0uY2xpZW50WTtlbHNlIHRyeXtpPXQuY2xpZW50WCxvPXQuY2xpZW50WX1jYXRjaCh0KXtyZXR1cm4hMX1pZihpPj1NYXRoLmZsb29yKGUuZGlzcGxheS5ndXR0ZXJzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0KSlyZXR1cm4hMTtyJiZsdCh0KTt2YXIgYT1lLmRpc3BsYXkscz1hLmxpbmVEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYobz5zLmJvdHRvbXx8IWF0KGUsbikpcmV0dXJuIGN0KHQpO28tPXMudG9wLWEudmlld09mZnNldDtmb3IodmFyIGw9MDtsPGUub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsrK2wpe3ZhciB1PWEuZ3V0dGVycy5jaGlsZE5vZGVzW2xdO2lmKHUmJnUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ+PWkpe3ZhciBjPWRlKGUuZG9jLG8pLGg9ZS5vcHRpb25zLmd1dHRlcnNbbF07cmV0dXJuIHJ0KGUsbixlLGMsaCx0KSxjdCh0KX19fWZ1bmN0aW9uIHBhKGUsdCl7cmV0dXJuIGZhKGUsdCxcImd1dHRlckNsaWNrXCIsITApfWZ1bmN0aW9uIGdhKGUsdCl7d24oZS5kaXNwbGF5LHQpfHxmdW5jdGlvbihlLHQpe3JldHVybiEhYXQoZSxcImd1dHRlckNvbnRleHRNZW51XCIpJiZmYShlLHQsXCJndXR0ZXJDb250ZXh0TWVudVwiLCExKX0oZSx0KXx8aXQoZSx0LFwiY29udGV4dG1lbnVcIil8fHh8fGUuZGlzcGxheS5pbnB1dC5vbkNvbnRleHRNZW51KHQpfWZ1bmN0aW9uIHZhKGUpe2UuZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZT1lLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWUucmVwbGFjZSgvXFxzKmNtLXMtXFxTKy9nLFwiXCIpK2Uub3B0aW9ucy50aGVtZS5yZXBsYWNlKC8oXnxcXHMpXFxzKi9nLFwiIGNtLXMtXCIpLEhuKGUpfWNhLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy50aW1lKzQwMD5lJiYwPT12ZSh0LHRoaXMucG9zKSYmbj09dGhpcy5idXR0b259O3ZhciBtYT17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIkNvZGVNaXJyb3IuSW5pdFwifX0sYmE9e30seWE9e307ZnVuY3Rpb24gQWEoZSl7Y2koZSksSnIoZSksd3IoZSl9ZnVuY3Rpb24gd2EoZSx0LG4pe3ZhciByPW4mJm4hPW1hO2lmKCF0IT0hcil7dmFyIGk9ZS5kaXNwbGF5LmRyYWdGdW5jdGlvbnMsbz10P2V0Om50O28oZS5kaXNwbGF5LnNjcm9sbGVyLFwiZHJhZ3N0YXJ0XCIsaS5zdGFydCksbyhlLmRpc3BsYXkuc2Nyb2xsZXIsXCJkcmFnZW50ZXJcIixpLmVudGVyKSxvKGUuZGlzcGxheS5zY3JvbGxlcixcImRyYWdvdmVyXCIsaS5vdmVyKSxvKGUuZGlzcGxheS5zY3JvbGxlcixcImRyYWdsZWF2ZVwiLGkubGVhdmUpLG8oZS5kaXNwbGF5LnNjcm9sbGVyLFwiZHJvcFwiLGkuZHJvcCl9fWZ1bmN0aW9uIENhKGUpe2Uub3B0aW9ucy5saW5lV3JhcHBpbmc/KFAoZS5kaXNwbGF5LndyYXBwZXIsXCJDb2RlTWlycm9yLXdyYXBcIiksZS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbldpZHRoPVwiXCIsZS5kaXNwbGF5LnNpemVyV2lkdGg9bnVsbCk6KE0oZS5kaXNwbGF5LndyYXBwZXIsXCJDb2RlTWlycm9yLXdyYXBcIiksWGUoZSkpLG9yKGUpLEpyKGUpLEhuKGUpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gV3IoZSl9LDEwMCl9ZnVuY3Rpb24geGEoZSx0KXt2YXIgcj10aGlzO2lmKCEodGhpcyBpbnN0YW5jZW9mIHhhKSlyZXR1cm4gbmV3IHhhKGUsdCk7dGhpcy5vcHRpb25zPXQ9dD96KHQpOnt9LHooYmEsdCwhMSksaGkodCk7dmFyIGk9dC52YWx1ZTtcInN0cmluZ1wiPT10eXBlb2YgaT9pPW5ldyBNbyhpLHQubW9kZSxudWxsLHQubGluZVNlcGFyYXRvcix0LmRpcmVjdGlvbik6dC5tb2RlJiYoaS5tb2RlT3B0aW9uPXQubW9kZSksdGhpcy5kb2M9aTt2YXIgbz1uZXcgeGEuaW5wdXRTdHlsZXNbdC5pbnB1dFN0eWxlXSh0aGlzKSx1PXRoaXMuZGlzcGxheT1uZXcgZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy5pbnB1dD1yLGkuc2Nyb2xsYmFyRmlsbGVyPVQoXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyXCIpLGkuc2Nyb2xsYmFyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsXCJ0cnVlXCIpLGkuZ3V0dGVyRmlsbGVyPVQoXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyXCIpLGkuZ3V0dGVyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsXCJ0cnVlXCIpLGkubGluZURpdj1PKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItY29kZVwiKSxpLnNlbGVjdGlvbkRpdj1UKFwiZGl2XCIsbnVsbCxudWxsLFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAxXCIpLGkuY3Vyc29yRGl2PVQoXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1jdXJzb3JzXCIpLGkubWVhc3VyZT1UKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItbWVhc3VyZVwiKSxpLmxpbmVNZWFzdXJlPVQoXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpLGkubGluZVNwYWNlPU8oXCJkaXZcIixbaS5tZWFzdXJlLGkubGluZU1lYXN1cmUsaS5zZWxlY3Rpb25EaXYsaS5jdXJzb3JEaXYsaS5saW5lRGl2XSxudWxsLFwicG9zaXRpb246IHJlbGF0aXZlOyBvdXRsaW5lOiBub25lXCIpO3ZhciBvPU8oXCJkaXZcIixbaS5saW5lU3BhY2VdLFwiQ29kZU1pcnJvci1saW5lc1wiKTtpLm1vdmVyPVQoXCJkaXZcIixbb10sbnVsbCxcInBvc2l0aW9uOiByZWxhdGl2ZVwiKSxpLnNpemVyPVQoXCJkaXZcIixbaS5tb3Zlcl0sXCJDb2RlTWlycm9yLXNpemVyXCIpLGkuc2l6ZXJXaWR0aD1udWxsLGkuaGVpZ2h0Rm9yY2VyPVQoXCJkaXZcIixudWxsLG51bGwsXCJwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogXCIraitcInB4OyB3aWR0aDogMXB4O1wiKSxpLmd1dHRlcnM9VChcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWd1dHRlcnNcIiksaS5saW5lR3V0dGVyPW51bGwsaS5zY3JvbGxlcj1UKFwiZGl2XCIsW2kuc2l6ZXIsaS5oZWlnaHRGb3JjZXIsaS5ndXR0ZXJzXSxcIkNvZGVNaXJyb3Itc2Nyb2xsXCIpLGkuc2Nyb2xsZXIuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIixcIi0xXCIpLGkud3JhcHBlcj1UKFwiZGl2XCIsW2kuc2Nyb2xsYmFyRmlsbGVyLGkuZ3V0dGVyRmlsbGVyLGkuc2Nyb2xsZXJdLFwiQ29kZU1pcnJvclwiKSxhJiZzPDgmJihpLmd1dHRlcnMuc3R5bGUuekluZGV4PS0xLGkuc2Nyb2xsZXIuc3R5bGUucGFkZGluZ1JpZ2h0PTApLGx8fG4mJm18fChpLnNjcm9sbGVyLmRyYWdnYWJsZT0hMCksZSYmKGUuYXBwZW5kQ2hpbGQ/ZS5hcHBlbmRDaGlsZChpLndyYXBwZXIpOmUoaS53cmFwcGVyKSksaS52aWV3RnJvbT1pLnZpZXdUbz10LmZpcnN0LGkucmVwb3J0ZWRWaWV3RnJvbT1pLnJlcG9ydGVkVmlld1RvPXQuZmlyc3QsaS52aWV3PVtdLGkucmVuZGVyZWRWaWV3PW51bGwsaS5leHRlcm5hbE1lYXN1cmVkPW51bGwsaS52aWV3T2Zmc2V0PTAsaS5sYXN0V3JhcEhlaWdodD1pLmxhc3RXcmFwV2lkdGg9MCxpLnVwZGF0ZUxpbmVOdW1iZXJzPW51bGwsaS5uYXRpdmVCYXJXaWR0aD1pLmJhckhlaWdodD1pLmJhcldpZHRoPTAsaS5zY3JvbGxiYXJzQ2xpcHBlZD0hMSxpLmxpbmVOdW1XaWR0aD1pLmxpbmVOdW1Jbm5lcldpZHRoPWkubGluZU51bUNoYXJzPW51bGwsaS5hbGlnbldpZGdldHM9ITEsaS5jYWNoZWRDaGFyV2lkdGg9aS5jYWNoZWRUZXh0SGVpZ2h0PWkuY2FjaGVkUGFkZGluZ0g9bnVsbCxpLm1heExpbmU9bnVsbCxpLm1heExpbmVMZW5ndGg9MCxpLm1heExpbmVDaGFuZ2VkPSExLGkud2hlZWxEWD1pLndoZWVsRFk9aS53aGVlbFN0YXJ0WD1pLndoZWVsU3RhcnRZPW51bGwsaS5zaGlmdD0hMSxpLnNlbEZvckNvbnRleHRNZW51PW51bGwsaS5hY3RpdmVUb3VjaD1udWxsLHIuaW5pdChpKX0oZSxpLG8pO2Zvcih2YXIgYyBpbiB1LndyYXBwZXIuQ29kZU1pcnJvcj10aGlzLGNpKHRoaXMpLHZhKHRoaXMpLHQubGluZVdyYXBwaW5nJiYodGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lKz1cIiBDb2RlTWlycm9yLXdyYXBcIiksRnIodGhpcyksdGhpcy5zdGF0ZT17a2V5TWFwczpbXSxvdmVybGF5czpbXSxtb2RlR2VuOjAsb3ZlcndyaXRlOiExLGRlbGF5aW5nQmx1ckV2ZW50OiExLGZvY3VzZWQ6ITEsc3VwcHJlc3NFZGl0czohMSxwYXN0ZUluY29taW5nOiExLGN1dEluY29taW5nOiExLHNlbGVjdGluZ1RleHQ6ITEsZHJhZ2dpbmdUZXh0OiExLGhpZ2hsaWdodDpuZXcgSCxrZXlTZXE6bnVsbCxzcGVjaWFsQ2hhcnM6bnVsbH0sdC5hdXRvZm9jdXMmJiFtJiZ1LmlucHV0LmZvY3VzKCksYSYmczwxMSYmc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiByLmRpc3BsYXkuaW5wdXQucmVzZXQoITApfSwyMCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kaXNwbGF5O2V0KHQuc2Nyb2xsZXIsXCJtb3VzZWRvd25cIixYcihlLGhhKSksZXQodC5zY3JvbGxlcixcImRibGNsaWNrXCIsYSYmczwxMT9YcihlLGZ1bmN0aW9uKHQpe2lmKCFpdChlLHQpKXt2YXIgbj1hcihlLHQpO2lmKG4mJiFwYShlLHQpJiYhd24oZS5kaXNwbGF5LHQpKXtsdCh0KTt2YXIgcj1lLmZpbmRXb3JkQXQobik7VmkoZS5kb2Msci5hbmNob3Isci5oZWFkKX19fSk6ZnVuY3Rpb24odCl7cmV0dXJuIGl0KGUsdCl8fGx0KHQpfSksZXQodC5zY3JvbGxlcixcImNvbnRleHRtZW51XCIsZnVuY3Rpb24odCl7cmV0dXJuIGdhKGUsdCl9KTt2YXIgbixyPXtlbmQ6MH07ZnVuY3Rpb24gaSgpe3QuYWN0aXZlVG91Y2gmJihuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hY3RpdmVUb3VjaD1udWxsfSwxZTMpLChyPXQuYWN0aXZlVG91Y2gpLmVuZD0rbmV3IERhdGUpfWZ1bmN0aW9uIG8oZSx0KXtpZihudWxsPT10LmxlZnQpcmV0dXJuITA7dmFyIG49dC5sZWZ0LWUubGVmdCxyPXQudG9wLWUudG9wO3JldHVybiBuKm4rcipyPjQwMH1ldCh0LnNjcm9sbGVyLFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGkpe2lmKCFpdChlLGkpJiYhZnVuY3Rpb24oZSl7aWYoMSE9ZS50b3VjaGVzLmxlbmd0aClyZXR1cm4hMTt2YXIgdD1lLnRvdWNoZXNbMF07cmV0dXJuIHQucmFkaXVzWDw9MSYmdC5yYWRpdXNZPD0xfShpKSYmIXBhKGUsaSkpe3QuaW5wdXQuZW5zdXJlUG9sbGVkKCksY2xlYXJUaW1lb3V0KG4pO3ZhciBvPStuZXcgRGF0ZTt0LmFjdGl2ZVRvdWNoPXtzdGFydDpvLG1vdmVkOiExLHByZXY6by1yLmVuZDw9MzAwP3I6bnVsbH0sMT09aS50b3VjaGVzLmxlbmd0aCYmKHQuYWN0aXZlVG91Y2gubGVmdD1pLnRvdWNoZXNbMF0ucGFnZVgsdC5hY3RpdmVUb3VjaC50b3A9aS50b3VjaGVzWzBdLnBhZ2VZKX19KSxldCh0LnNjcm9sbGVyLFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oKXt0LmFjdGl2ZVRvdWNoJiYodC5hY3RpdmVUb3VjaC5tb3ZlZD0hMCl9KSxldCh0LnNjcm9sbGVyLFwidG91Y2hlbmRcIixmdW5jdGlvbihuKXt2YXIgcj10LmFjdGl2ZVRvdWNoO2lmKHImJiF3bih0LG4pJiZudWxsIT1yLmxlZnQmJiFyLm1vdmVkJiZuZXcgRGF0ZS1yLnN0YXJ0PDMwMCl7dmFyIGEscz1lLmNvb3Jkc0NoYXIodC5hY3RpdmVUb3VjaCxcInBhZ2VcIik7YT0hci5wcmV2fHxvKHIsci5wcmV2KT9uZXcgYmkocyxzKTohci5wcmV2LnByZXZ8fG8ocixyLnByZXYucHJldik/ZS5maW5kV29yZEF0KHMpOm5ldyBiaShnZShzLmxpbmUsMCksQ2UoZS5kb2MsZ2Uocy5saW5lKzEsMCkpKSxlLnNldFNlbGVjdGlvbihhLmFuY2hvcixhLmhlYWQpLGUuZm9jdXMoKSxsdChuKX1pKCl9KSxldCh0LnNjcm9sbGVyLFwidG91Y2hjYW5jZWxcIixpKSxldCh0LnNjcm9sbGVyLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXt0LnNjcm9sbGVyLmNsaWVudEhlaWdodCYmKFRyKGUsdC5zY3JvbGxlci5zY3JvbGxUb3ApLE5yKGUsdC5zY3JvbGxlci5zY3JvbGxMZWZ0LCEwKSxydChlLFwic2Nyb2xsXCIsZSkpfSksZXQodC5zY3JvbGxlcixcIm1vdXNld2hlZWxcIixmdW5jdGlvbih0KXtyZXR1cm4gdmkoZSx0KX0pLGV0KHQuc2Nyb2xsZXIsXCJET01Nb3VzZVNjcm9sbFwiLGZ1bmN0aW9uKHQpe3JldHVybiB2aShlLHQpfSksZXQodC53cmFwcGVyLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtyZXR1cm4gdC53cmFwcGVyLnNjcm9sbFRvcD10LndyYXBwZXIuc2Nyb2xsTGVmdD0wfSksdC5kcmFnRnVuY3Rpb25zPXtlbnRlcjpmdW5jdGlvbih0KXtpdChlLHQpfHxodCh0KX0sb3ZlcjpmdW5jdGlvbih0KXtpdChlLHQpfHwoZnVuY3Rpb24oZSx0KXt2YXIgbj1hcihlLHQpO2lmKG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtjcihlLG4sciksZS5kaXNwbGF5LmRyYWdDdXJzb3J8fChlLmRpc3BsYXkuZHJhZ0N1cnNvcj1UKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItY3Vyc29ycyBDb2RlTWlycm9yLWRyYWdjdXJzb3JzXCIpLGUuZGlzcGxheS5saW5lU3BhY2UuaW5zZXJ0QmVmb3JlKGUuZGlzcGxheS5kcmFnQ3Vyc29yLGUuZGlzcGxheS5jdXJzb3JEaXYpKSxMKGUuZGlzcGxheS5kcmFnQ3Vyc29yLHIpfX0oZSx0KSxodCh0KSl9LHN0YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKGEmJighZS5zdGF0ZS5kcmFnZ2luZ1RleHR8fCtuZXcgRGF0ZS1TbzwxMDApKWh0KHQpO2Vsc2UgaWYoIWl0KGUsdCkmJiF3bihlLmRpc3BsYXksdCkmJih0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLGUuZ2V0U2VsZWN0aW9uKCkpLHQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQ9XCJjb3B5TW92ZVwiLHQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSYmIWQpKXt2YXIgbj1UKFwiaW1nXCIsbnVsbCxudWxsLFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwOyB0b3A6IDA7XCIpO24uc3JjPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIixoJiYobi53aWR0aD1uLmhlaWdodD0xLGUuZGlzcGxheS53cmFwcGVyLmFwcGVuZENoaWxkKG4pLG4uX3RvcD1uLm9mZnNldFRvcCksdC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKG4sMCwwKSxoJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9fShlLHQpfSxkcm9wOlhyKGUsTG8pLGxlYXZlOmZ1bmN0aW9uKHQpe2l0KGUsdCl8fFRvKGUpfX07dmFyIGw9dC5pbnB1dC5nZXRGaWVsZCgpO2V0KGwsXCJrZXl1cFwiLGZ1bmN0aW9uKHQpe3JldHVybiBhYS5jYWxsKGUsdCl9KSxldChsLFwia2V5ZG93blwiLFhyKGUsb2EpKSxldChsLFwia2V5cHJlc3NcIixYcihlLHNhKSksZXQobCxcImZvY3VzXCIsZnVuY3Rpb24odCl7cmV0dXJuIHZyKGUsdCl9KSxldChsLFwiYmx1clwiLGZ1bmN0aW9uKHQpe3JldHVybiBtcihlLHQpfSl9KHRoaXMpLEVvKCksQnIodGhpcyksdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZT0hMCxPaSh0aGlzLGkpLHQuYXV0b2ZvY3VzJiYhbXx8dGhpcy5oYXNGb2N1cygpP3NldFRpbWVvdXQoUih2cix0aGlzKSwyMCk6bXIodGhpcykseWEpeWEuaGFzT3duUHJvcGVydHkoYykmJnlhW2NdKHIsdFtjXSxtYSk7Q3IodGhpcyksdC5maW5pc2hJbml0JiZ0LmZpbmlzaEluaXQodGhpcyk7Zm9yKHZhciBmPTA7ZjxrYS5sZW5ndGg7KytmKWthW2ZdKHIpO2pyKHRoaXMpLGwmJnQubGluZVdyYXBwaW5nJiZcIm9wdGltaXplbGVnaWJpbGl0eVwiPT1nZXRDb21wdXRlZFN0eWxlKHUubGluZURpdikudGV4dFJlbmRlcmluZyYmKHUubGluZURpdi5zdHlsZS50ZXh0UmVuZGVyaW5nPVwiYXV0b1wiKX14YS5kZWZhdWx0cz1iYSx4YS5vcHRpb25IYW5kbGVycz15YTt2YXIga2E9W107ZnVuY3Rpb24gSWEoZSx0LG4scil7dmFyIGksbz1lLmRvYztudWxsPT1uJiYobj1cImFkZFwiKSxcInNtYXJ0XCI9PW4mJihvLm1vZGUuaW5kZW50P2k9enQoZSx0KS5zdGF0ZTpuPVwicHJldlwiKTt2YXIgYT1lLm9wdGlvbnMudGFiU2l6ZSxzPXNlKG8sdCksbD1GKHMudGV4dCxudWxsLGEpO3Muc3RhdGVBZnRlciYmKHMuc3RhdGVBZnRlcj1udWxsKTt2YXIgdSxjPXMudGV4dC5tYXRjaCgvXlxccyovKVswXTtpZihyfHwvXFxTLy50ZXN0KHMudGV4dCkpe2lmKFwic21hcnRcIj09biYmKCh1PW8ubW9kZS5pbmRlbnQoaSxzLnRleHQuc2xpY2UoYy5sZW5ndGgpLHMudGV4dCkpPT1HfHx1PjE1MCkpe2lmKCFyKXJldHVybjtuPVwicHJldlwifX1lbHNlIHU9MCxuPVwibm90XCI7XCJwcmV2XCI9PW4/dT10Pm8uZmlyc3Q/RihzZShvLHQtMSkudGV4dCxudWxsLGEpOjA6XCJhZGRcIj09bj91PWwrZS5vcHRpb25zLmluZGVudFVuaXQ6XCJzdWJ0cmFjdFwiPT1uP3U9bC1lLm9wdGlvbnMuaW5kZW50VW5pdDpcIm51bWJlclwiPT10eXBlb2YgbiYmKHU9bCtuKSx1PU1hdGgubWF4KDAsdSk7dmFyIGg9XCJcIixkPTA7aWYoZS5vcHRpb25zLmluZGVudFdpdGhUYWJzKWZvcih2YXIgZj1NYXRoLmZsb29yKHUvYSk7ZjstLWYpZCs9YSxoKz1cIlxcdFwiO2lmKGQ8dSYmKGgrPVgodS1kKSksaCE9YylyZXR1cm4gdW8obyxoLGdlKHQsMCksZ2UodCxjLmxlbmd0aCksXCIraW5wdXRcIikscy5zdGF0ZUFmdGVyPW51bGwsITA7Zm9yKHZhciBwPTA7cDxvLnNlbC5yYW5nZXMubGVuZ3RoO3ArKyl7dmFyIGc9by5zZWwucmFuZ2VzW3BdO2lmKGcuaGVhZC5saW5lPT10JiZnLmhlYWQuY2g8Yy5sZW5ndGgpe3ZhciB2PWdlKHQsYy5sZW5ndGgpO1ppKG8scCxuZXcgYmkodix2KSk7YnJlYWt9fX14YS5kZWZpbmVJbml0SG9vaz1mdW5jdGlvbihlKXtyZXR1cm4ga2EucHVzaChlKX07dmFyIE1hPW51bGw7ZnVuY3Rpb24gU2EoZSl7TWE9ZX1mdW5jdGlvbiBMYShlLHQsbixyLGkpe3ZhciBvPWUuZG9jO2UuZGlzcGxheS5zaGlmdD0hMSxyfHwocj1vLnNlbCk7dmFyIGEscz1lLnN0YXRlLnBhc3RlSW5jb21pbmd8fFwicGFzdGVcIj09aSxsPXl0KHQpLHU9bnVsbDtpZihzJiZyLnJhbmdlcy5sZW5ndGg+MSlpZihNYSYmTWEudGV4dC5qb2luKFwiXFxuXCIpPT10KXtpZihyLnJhbmdlcy5sZW5ndGglTWEudGV4dC5sZW5ndGg9PTApe3U9W107Zm9yKHZhciBjPTA7YzxNYS50ZXh0Lmxlbmd0aDtjKyspdS5wdXNoKG8uc3BsaXRMaW5lcyhNYS50ZXh0W2NdKSl9fWVsc2UgbC5sZW5ndGg9PXIucmFuZ2VzLmxlbmd0aCYmZS5vcHRpb25zLnBhc3RlTGluZXNQZXJTZWxlY3Rpb24mJih1PUsobCxmdW5jdGlvbihlKXtyZXR1cm5bZV19KSk7Zm9yKHZhciBoPXIucmFuZ2VzLmxlbmd0aC0xO2g+PTA7aC0tKXt2YXIgZD1yLnJhbmdlc1toXSxmPWQuZnJvbSgpLHA9ZC50bygpO2QuZW1wdHkoKSYmKG4mJm4+MD9mPWdlKGYubGluZSxmLmNoLW4pOmUuc3RhdGUub3ZlcndyaXRlJiYhcz9wPWdlKHAubGluZSxNYXRoLm1pbihzZShvLHAubGluZSkudGV4dC5sZW5ndGgscC5jaCtfKGwpLmxlbmd0aCkpOnMmJk1hJiZNYS5saW5lV2lzZSYmTWEudGV4dC5qb2luKFwiXFxuXCIpPT10JiYoZj1wPWdlKGYubGluZSwwKSkpLGE9ZS5jdXJPcC51cGRhdGVJbnB1dDt2YXIgZz17ZnJvbTpmLHRvOnAsdGV4dDp1P3VbaCV1Lmxlbmd0aF06bCxvcmlnaW46aXx8KHM/XCJwYXN0ZVwiOmUuc3RhdGUuY3V0SW5jb21pbmc/XCJjdXRcIjpcIitpbnB1dFwiKX07aW8oZS5kb2MsZyksc24oZSxcImlucHV0UmVhZFwiLGUsZyl9dCYmIXMmJk9hKGUsdCksSXIoZSksZS5jdXJPcC51cGRhdGVJbnB1dD1hLGUuY3VyT3AudHlwaW5nPSEwLGUuc3RhdGUucGFzdGVJbmNvbWluZz1lLnN0YXRlLmN1dEluY29taW5nPSExfWZ1bmN0aW9uIFRhKGUsdCl7dmFyIG49ZS5jbGlwYm9hcmREYXRhJiZlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIik7aWYobilyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHQuaXNSZWFkT25seSgpfHx0Lm9wdGlvbnMuZGlzYWJsZUlucHV0fHxRcih0LGZ1bmN0aW9uKCl7cmV0dXJuIExhKHQsbiwwLG51bGwsXCJwYXN0ZVwiKX0pLCEwfWZ1bmN0aW9uIE9hKGUsdCl7aWYoZS5vcHRpb25zLmVsZWN0cmljQ2hhcnMmJmUub3B0aW9ucy5zbWFydEluZGVudClmb3IodmFyIG49ZS5kb2Muc2VsLHI9bi5yYW5nZXMubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciBpPW4ucmFuZ2VzW3JdO2lmKCEoaS5oZWFkLmNoPjEwMHx8ciYmbi5yYW5nZXNbci0xXS5oZWFkLmxpbmU9PWkuaGVhZC5saW5lKSl7dmFyIG89ZS5nZXRNb2RlQXQoaS5oZWFkKSxhPSExO2lmKG8uZWxlY3RyaWNDaGFycyl7Zm9yKHZhciBzPTA7czxvLmVsZWN0cmljQ2hhcnMubGVuZ3RoO3MrKylpZih0LmluZGV4T2Yoby5lbGVjdHJpY0NoYXJzLmNoYXJBdChzKSk+LTEpe2E9SWEoZSxpLmhlYWQubGluZSxcInNtYXJ0XCIpO2JyZWFrfX1lbHNlIG8uZWxlY3RyaWNJbnB1dCYmby5lbGVjdHJpY0lucHV0LnRlc3Qoc2UoZS5kb2MsaS5oZWFkLmxpbmUpLnRleHQuc2xpY2UoMCxpLmhlYWQuY2gpKSYmKGE9SWEoZSxpLmhlYWQubGluZSxcInNtYXJ0XCIpKTthJiZzbihlLFwiZWxlY3RyaWNJbnB1dFwiLGUsaS5oZWFkLmxpbmUpfX19ZnVuY3Rpb24gTmEoZSl7Zm9yKHZhciB0PVtdLG49W10scj0wO3I8ZS5kb2Muc2VsLnJhbmdlcy5sZW5ndGg7cisrKXt2YXIgaT1lLmRvYy5zZWwucmFuZ2VzW3JdLmhlYWQubGluZSxvPXthbmNob3I6Z2UoaSwwKSxoZWFkOmdlKGkrMSwwKX07bi5wdXNoKG8pLHQucHVzaChlLmdldFJhbmdlKG8uYW5jaG9yLG8uaGVhZCkpfXJldHVybnt0ZXh0OnQscmFuZ2VzOm59fWZ1bmN0aW9uIEVhKGUsdCl7ZS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLFwib2ZmXCIpLGUuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIixcIm9mZlwiKSxlLnNldEF0dHJpYnV0ZShcInNwZWxsY2hlY2tcIiwhIXQpfWZ1bmN0aW9uIFBhKCl7dmFyIGU9VChcInRleHRhcmVhXCIsbnVsbCxudWxsLFwicG9zaXRpb246IGFic29sdXRlOyBib3R0b206IC0xZW07IHBhZGRpbmc6IDA7IHdpZHRoOiAxcHg7IGhlaWdodDogMWVtOyBvdXRsaW5lOiBub25lXCIpLHQ9VChcImRpdlwiLFtlXSxudWxsLFwib3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogM3B4OyBoZWlnaHQ6IDBweDtcIik7cmV0dXJuIGw/ZS5zdHlsZS53aWR0aD1cIjEwMDBweFwiOmUuc2V0QXR0cmlidXRlKFwid3JhcFwiLFwib2ZmXCIpLGcmJihlLnN0eWxlLmJvcmRlcj1cIjFweCBzb2xpZCBibGFja1wiKSxFYShlKSx0fWZ1bmN0aW9uIERhKGUsdCxuLHIsaSl7dmFyIG89dCxhPW4scz1zZShlLHQubGluZSk7ZnVuY3Rpb24gbChyKXt2YXIgbztpZihudWxsPT0obz1pP2Z1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXFlKHQsZS5kb2MuZGlyZWN0aW9uKTtpZighaSlyZXR1cm4gWG8odCxuLHIpO24uY2g+PXQudGV4dC5sZW5ndGg/KG4uY2g9dC50ZXh0Lmxlbmd0aCxuLnN0aWNreT1cImJlZm9yZVwiKTpuLmNoPD0wJiYobi5jaD0wLG4uc3RpY2t5PVwiYWZ0ZXJcIik7dmFyIG89S2UoaSxuLmNoLG4uc3RpY2t5KSxhPWlbb107aWYoXCJsdHJcIj09ZS5kb2MuZGlyZWN0aW9uJiZhLmxldmVsJTI9PTAmJihyPjA/YS50bz5uLmNoOmEuZnJvbTxuLmNoKSlyZXR1cm4gWG8odCxuLHIpO3ZhciBzLGw9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gUW8odCxlIGluc3RhbmNlb2YgZ2U/ZS5jaDplLG4pfSx1PWZ1bmN0aW9uKG4pe3JldHVybiBlLm9wdGlvbnMubGluZVdyYXBwaW5nPyhzPXN8fE5uKGUsdCksSm4oZSx0LHMsbikpOntiZWdpbjowLGVuZDp0LnRleHQubGVuZ3RofX0sYz11KFwiYmVmb3JlXCI9PW4uc3RpY2t5P2wobiwtMSk6bi5jaCk7aWYoXCJydGxcIj09ZS5kb2MuZGlyZWN0aW9ufHwxPT1hLmxldmVsKXt2YXIgaD0xPT1hLmxldmVsPT1yPDAsZD1sKG4saD8xOi0xKTtpZihudWxsIT1kJiYoaD9kPD1hLnRvJiZkPD1jLmVuZDpkPj1hLmZyb20mJmQ+PWMuYmVnaW4pKXt2YXIgZj1oP1wiYmVmb3JlXCI6XCJhZnRlclwiO3JldHVybiBuZXcgZ2Uobi5saW5lLGQsZil9fXZhciBwPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9uZXcgZ2Uobi5saW5lLGwoZSwxKSxcImJlZm9yZVwiKTpuZXcgZ2Uobi5saW5lLGUsXCJhZnRlclwiKX07ZT49MCYmZTxpLmxlbmd0aDtlKz10KXt2YXIgYT1pW2VdLHM9dD4wPT0oMSE9YS5sZXZlbCksdT1zP3IuYmVnaW46bChyLmVuZCwtMSk7aWYoYS5mcm9tPD11JiZ1PGEudG8pcmV0dXJuIG8odSxzKTtpZih1PXM/YS5mcm9tOmwoYS50bywtMSksci5iZWdpbjw9dSYmdTxyLmVuZClyZXR1cm4gbyh1LHMpfX0sZz1wKG8rcixyLGMpO2lmKGcpcmV0dXJuIGc7dmFyIHY9cj4wP2MuZW5kOmwoYy5iZWdpbiwtMSk7cmV0dXJuIG51bGw9PXZ8fHI+MCYmdj09dC50ZXh0Lmxlbmd0aHx8IShnPXAocj4wPzA6aS5sZW5ndGgtMSxyLHUodikpKT9udWxsOmd9KGUuY20scyx0LG4pOlhvKHMsdCxuKSkpe2lmKHJ8fCFmdW5jdGlvbigpe3ZhciByPXQubGluZStuO3JldHVybiEocjxlLmZpcnN0fHxyPj1lLmZpcnN0K2Uuc2l6ZSkmJih0PW5ldyBnZShyLHQuY2gsdC5zdGlja3kpLHM9c2UoZSxyKSl9KCkpcmV0dXJuITE7dD1fbyhpLGUuY20scyx0LmxpbmUsbil9ZWxzZSB0PW87cmV0dXJuITB9aWYoXCJjaGFyXCI9PXIpbCgpO2Vsc2UgaWYoXCJjb2x1bW5cIj09cilsKCEwKTtlbHNlIGlmKFwid29yZFwiPT1yfHxcImdyb3VwXCI9PXIpZm9yKHZhciB1PW51bGwsYz1cImdyb3VwXCI9PXIsaD1lLmNtJiZlLmNtLmdldEhlbHBlcih0LFwid29yZENoYXJzXCIpLGQ9ITA7IShuPDApfHxsKCFkKTtkPSExKXt2YXIgZj1zLnRleHQuY2hhckF0KHQuY2gpfHxcIlxcblwiLHA9dGUoZixoKT9cIndcIjpjJiZcIlxcblwiPT1mP1wiblwiOiFjfHwvXFxzLy50ZXN0KGYpP251bGw6XCJwXCI7aWYoIWN8fGR8fHB8fChwPVwic1wiKSx1JiZ1IT1wKXtuPDAmJihuPTEsbCgpLHQuc3RpY2t5PVwiYWZ0ZXJcIik7YnJlYWt9aWYocCYmKHU9cCksbj4wJiYhbCghZCkpYnJlYWt9dmFyIGc9ZW8oZSx0LG8sYSwhMCk7cmV0dXJuIG1lKG8sZykmJihnLmhpdFNpZGU9ITApLGd9ZnVuY3Rpb24gV2EoZSx0LG4scil7dmFyIGksbyxhPWUuZG9jLHM9dC5sZWZ0O2lmKFwicGFnZVwiPT1yKXt2YXIgbD1NYXRoLm1pbihlLmRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSx1PU1hdGgubWF4KGwtLjUqZXIoZS5kaXNwbGF5KSwzKTtpPShuPjA/dC5ib3R0b206dC50b3ApK24qdX1lbHNlXCJsaW5lXCI9PXImJihpPW4+MD90LmJvdHRvbSszOnQudG9wLTMpO2Zvcig7KG89X24oZSxzLGkpKS5vdXRzaWRlOyl7aWYobjwwP2k8PTA6aT49YS5oZWlnaHQpe28uaGl0U2lkZT0hMDticmVha31pKz01Km59cmV0dXJuIG99dmFyIFJhPWZ1bmN0aW9uKGUpe3RoaXMuY209ZSx0aGlzLmxhc3RBbmNob3JOb2RlPXRoaXMubGFzdEFuY2hvck9mZnNldD10aGlzLmxhc3RGb2N1c05vZGU9dGhpcy5sYXN0Rm9jdXNPZmZzZXQ9bnVsbCx0aGlzLnBvbGxpbmc9bmV3IEgsdGhpcy5jb21wb3Npbmc9bnVsbCx0aGlzLmdyYWNlUGVyaW9kPSExLHRoaXMucmVhZERPTVRpbWVvdXQ9bnVsbH07ZnVuY3Rpb24gemEoZSx0KXt2YXIgbj1PbihlLHQubGluZSk7aWYoIW58fG4uaGlkZGVuKXJldHVybiBudWxsO3ZhciByPXNlKGUuZG9jLHQubGluZSksaT1MbihuLHIsdC5saW5lKSxvPXFlKHIsZS5kb2MuZGlyZWN0aW9uKSxhPVwibGVmdFwiO2lmKG8pe3ZhciBzPUtlKG8sdC5jaCk7YT1zJTI/XCJyaWdodFwiOlwibGVmdFwifXZhciBsPVduKGkubWFwLHQuY2gsYSk7cmV0dXJuIGwub2Zmc2V0PVwicmlnaHRcIj09bC5jb2xsYXBzZT9sLmVuZDpsLnN0YXJ0LGx9ZnVuY3Rpb24gRmEoZSx0KXtyZXR1cm4gdCYmKGUuYmFkPSEwKSxlfWZ1bmN0aW9uIEhhKGUsdCxuKXt2YXIgcjtpZih0PT1lLmRpc3BsYXkubGluZURpdil7aWYoIShyPWUuZGlzcGxheS5saW5lRGl2LmNoaWxkTm9kZXNbbl0pKXJldHVybiBGYShlLmNsaXBQb3MoZ2UoZS5kaXNwbGF5LnZpZXdUby0xKSksITApO3Q9bnVsbCxuPTB9ZWxzZSBmb3Iocj10OztyPXIucGFyZW50Tm9kZSl7aWYoIXJ8fHI9PWUuZGlzcGxheS5saW5lRGl2KXJldHVybiBudWxsO2lmKHIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlPT1lLmRpc3BsYXkubGluZURpdilicmVha31mb3IodmFyIGk9MDtpPGUuZGlzcGxheS52aWV3Lmxlbmd0aDtpKyspe3ZhciBvPWUuZGlzcGxheS52aWV3W2ldO2lmKG8ubm9kZT09cilyZXR1cm4gQmEobyx0LG4pfX1mdW5jdGlvbiBCYShlLHQsbil7dmFyIHI9ZS50ZXh0LmZpcnN0Q2hpbGQsaT0hMTtpZighdHx8IU4ocix0KSlyZXR1cm4gRmEoZ2UoaGUoZS5saW5lKSwwKSwhMCk7aWYodD09ciYmKGk9ITAsdD1yLmNoaWxkTm9kZXNbbl0sbj0wLCF0KSl7dmFyIG89ZS5yZXN0P18oZS5yZXN0KTplLmxpbmU7cmV0dXJuIEZhKGdlKGhlKG8pLG8udGV4dC5sZW5ndGgpLGkpfXZhciBhPTM9PXQubm9kZVR5cGU/dDpudWxsLHM9dDtmb3IoYXx8MSE9dC5jaGlsZE5vZGVzLmxlbmd0aHx8MyE9dC5maXJzdENoaWxkLm5vZGVUeXBlfHwoYT10LmZpcnN0Q2hpbGQsbiYmKG49YS5ub2RlVmFsdWUubGVuZ3RoKSk7cy5wYXJlbnROb2RlIT1yOylzPXMucGFyZW50Tm9kZTt2YXIgbD1lLm1lYXN1cmUsdT1sLm1hcHM7ZnVuY3Rpb24gYyh0LG4scil7Zm9yKHZhciBpPS0xO2k8KHU/dS5sZW5ndGg6MCk7aSsrKWZvcih2YXIgbz1pPDA/bC5tYXA6dVtpXSxhPTA7YTxvLmxlbmd0aDthKz0zKXt2YXIgcz1vW2ErMl07aWYocz09dHx8cz09bil7dmFyIGM9aGUoaTwwP2UubGluZTplLnJlc3RbaV0pLGg9b1thXStyO3JldHVybihyPDB8fHMhPXQpJiYoaD1vW2ErKHI/MTowKV0pLGdlKGMsaCl9fX12YXIgaD1jKGEscyxuKTtpZihoKXJldHVybiBGYShoLGkpO2Zvcih2YXIgZD1zLm5leHRTaWJsaW5nLGY9YT9hLm5vZGVWYWx1ZS5sZW5ndGgtbjowO2Q7ZD1kLm5leHRTaWJsaW5nKXtpZihoPWMoZCxkLmZpcnN0Q2hpbGQsMCkpcmV0dXJuIEZhKGdlKGgubGluZSxoLmNoLWYpLGkpO2YrPWQudGV4dENvbnRlbnQubGVuZ3RofWZvcih2YXIgcD1zLnByZXZpb3VzU2libGluZyxnPW47cDtwPXAucHJldmlvdXNTaWJsaW5nKXtpZihoPWMocCxwLmZpcnN0Q2hpbGQsLTEpKXJldHVybiBGYShnZShoLmxpbmUsaC5jaCtnKSxpKTtnKz1wLnRleHRDb250ZW50Lmxlbmd0aH19UmEucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMscj1uLmNtLGk9bi5kaXY9ZS5saW5lRGl2O2Z1bmN0aW9uIG8oZSl7aWYoIWl0KHIsZSkpe2lmKHIuc29tZXRoaW5nU2VsZWN0ZWQoKSlTYSh7bGluZVdpc2U6ITEsdGV4dDpyLmdldFNlbGVjdGlvbnMoKX0pLFwiY3V0XCI9PWUudHlwZSYmci5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsbnVsbCxcImN1dFwiKTtlbHNle2lmKCFyLm9wdGlvbnMubGluZVdpc2VDb3B5Q3V0KXJldHVybjt2YXIgdD1OYShyKTtTYSh7bGluZVdpc2U6ITAsdGV4dDp0LnRleHR9KSxcImN1dFwiPT1lLnR5cGUmJnIub3BlcmF0aW9uKGZ1bmN0aW9uKCl7ci5zZXRTZWxlY3Rpb25zKHQucmFuZ2VzLDAsViksci5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsbnVsbCxcImN1dFwiKX0pfWlmKGUuY2xpcGJvYXJkRGF0YSl7ZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpO3ZhciBvPU1hLnRleHQuam9pbihcIlxcblwiKTtpZihlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcIlRleHRcIixvKSxlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIik9PW8pcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpfXZhciBhPVBhKCkscz1hLmZpcnN0Q2hpbGQ7ci5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoYSxyLmRpc3BsYXkubGluZVNwYWNlLmZpcnN0Q2hpbGQpLHMudmFsdWU9TWEudGV4dC5qb2luKFwiXFxuXCIpO3ZhciBsPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7VyhzKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5kaXNwbGF5LmxpbmVTcGFjZS5yZW1vdmVDaGlsZChhKSxsLmZvY3VzKCksbD09aSYmbi5zaG93UHJpbWFyeVNlbGVjdGlvbigpfSw1MCl9fUVhKGksci5vcHRpb25zLnNwZWxsY2hlY2spLGV0KGksXCJwYXN0ZVwiLGZ1bmN0aW9uKGUpe2l0KHIsZSl8fFRhKGUscil8fHM8PTExJiZzZXRUaW1lb3V0KFhyKHIsZnVuY3Rpb24oKXtyZXR1cm4gdC51cGRhdGVGcm9tRE9NKCl9KSwyMCl9KSxldChpLFwiY29tcG9zaXRpb25zdGFydFwiLGZ1bmN0aW9uKGUpe3QuY29tcG9zaW5nPXtkYXRhOmUuZGF0YSxkb25lOiExfX0pLGV0KGksXCJjb21wb3NpdGlvbnVwZGF0ZVwiLGZ1bmN0aW9uKGUpe3QuY29tcG9zaW5nfHwodC5jb21wb3Npbmc9e2RhdGE6ZS5kYXRhLGRvbmU6ITF9KX0pLGV0KGksXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKGUpe3QuY29tcG9zaW5nJiYoZS5kYXRhIT10LmNvbXBvc2luZy5kYXRhJiZ0LnJlYWRGcm9tRE9NU29vbigpLHQuY29tcG9zaW5nLmRvbmU9ITApfSksZXQoaSxcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe3JldHVybiBuLmZvcmNlQ29tcG9zaXRpb25FbmQoKX0pLGV0KGksXCJpbnB1dFwiLGZ1bmN0aW9uKCl7dC5jb21wb3Npbmd8fHQucmVhZEZyb21ET01Tb29uKCl9KSxldChpLFwiY29weVwiLG8pLGV0KGksXCJjdXRcIixvKX0sUmEucHJvdG90eXBlLnByZXBhcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT11cih0aGlzLmNtLCExKTtyZXR1cm4gZS5mb2N1cz10aGlzLmNtLnN0YXRlLmZvY3VzZWQsZX0sUmEucHJvdG90eXBlLnNob3dTZWxlY3Rpb249ZnVuY3Rpb24oZSx0KXtlJiZ0aGlzLmNtLmRpc3BsYXkudmlldy5sZW5ndGgmJigoZS5mb2N1c3x8dCkmJnRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKSx0aGlzLnNob3dNdWx0aXBsZVNlbGVjdGlvbnMoZSkpfSxSYS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY20uZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCl9LFJhLnByb3RvdHlwZS5zaG93UHJpbWFyeVNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uKCksdD10aGlzLmNtLHI9dC5kb2Muc2VsLnByaW1hcnkoKSxpPXIuZnJvbSgpLG89ci50bygpO2lmKHQuZGlzcGxheS52aWV3VG89PXQuZGlzcGxheS52aWV3RnJvbXx8aS5saW5lPj10LmRpc3BsYXkudmlld1RvfHxvLmxpbmU8dC5kaXNwbGF5LnZpZXdGcm9tKWUucmVtb3ZlQWxsUmFuZ2VzKCk7ZWxzZXt2YXIgYT1IYSh0LGUuYW5jaG9yTm9kZSxlLmFuY2hvck9mZnNldCkscz1IYSh0LGUuZm9jdXNOb2RlLGUuZm9jdXNPZmZzZXQpO2lmKCFhfHxhLmJhZHx8IXN8fHMuYmFkfHwwIT12ZShBZShhLHMpLGkpfHwwIT12ZSh5ZShhLHMpLG8pKXt2YXIgbD10LmRpc3BsYXkudmlldyx1PWkubGluZT49dC5kaXNwbGF5LnZpZXdGcm9tJiZ6YSh0LGkpfHx7bm9kZTpsWzBdLm1lYXN1cmUubWFwWzJdLG9mZnNldDowfSxjPW8ubGluZTx0LmRpc3BsYXkudmlld1RvJiZ6YSh0LG8pO2lmKCFjKXt2YXIgaD1sW2wubGVuZ3RoLTFdLm1lYXN1cmUsZD1oLm1hcHM/aC5tYXBzW2gubWFwcy5sZW5ndGgtMV06aC5tYXA7Yz17bm9kZTpkW2QubGVuZ3RoLTFdLG9mZnNldDpkW2QubGVuZ3RoLTJdLWRbZC5sZW5ndGgtM119fWlmKHUmJmMpe3ZhciBmLHA9ZS5yYW5nZUNvdW50JiZlLmdldFJhbmdlQXQoMCk7dHJ5e2Y9SSh1Lm5vZGUsdS5vZmZzZXQsYy5vZmZzZXQsYy5ub2RlKX1jYXRjaChlKXt9ZiYmKCFuJiZ0LnN0YXRlLmZvY3VzZWQ/KGUuY29sbGFwc2UodS5ub2RlLHUub2Zmc2V0KSxmLmNvbGxhcHNlZHx8KGUucmVtb3ZlQWxsUmFuZ2VzKCksZS5hZGRSYW5nZShmKSkpOihlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UoZikpLHAmJm51bGw9PWUuYW5jaG9yTm9kZT9lLmFkZFJhbmdlKHApOm4mJnRoaXMuc3RhcnRHcmFjZVBlcmlvZCgpKSx0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKCl9ZWxzZSBlLnJlbW92ZUFsbFJhbmdlcygpfX19LFJhLnByb3RvdHlwZS5zdGFydEdyYWNlUGVyaW9kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQodGhpcy5ncmFjZVBlcmlvZCksdGhpcy5ncmFjZVBlcmlvZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ncmFjZVBlcmlvZD0hMSxlLnNlbGVjdGlvbkNoYW5nZWQoKSYmZS5jbS5vcGVyYXRpb24oZnVuY3Rpb24oKXtyZXR1cm4gZS5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwfSl9LDIwKX0sUmEucHJvdG90eXBlLnNob3dNdWx0aXBsZVNlbGVjdGlvbnM9ZnVuY3Rpb24oZSl7TCh0aGlzLmNtLmRpc3BsYXkuY3Vyc29yRGl2LGUuY3Vyc29ycyksTCh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LGUuc2VsZWN0aW9uKX0sUmEucHJvdG90eXBlLnJlbWVtYmVyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb24oKTt0aGlzLmxhc3RBbmNob3JOb2RlPWUuYW5jaG9yTm9kZSx0aGlzLmxhc3RBbmNob3JPZmZzZXQ9ZS5hbmNob3JPZmZzZXQsdGhpcy5sYXN0Rm9jdXNOb2RlPWUuZm9jdXNOb2RlLHRoaXMubGFzdEZvY3VzT2Zmc2V0PWUuZm9jdXNPZmZzZXR9LFJhLnByb3RvdHlwZS5zZWxlY3Rpb25JbkVkaXRvcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoIWUucmFuZ2VDb3VudClyZXR1cm4hMTt2YXIgdD1lLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIE4odGhpcy5kaXYsdCl9LFJhLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe1wibm9jdXJzb3JcIiE9dGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5JiYodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpfHx0aGlzLnNob3dTZWxlY3Rpb24odGhpcy5wcmVwYXJlU2VsZWN0aW9uKCksITApLHRoaXMuZGl2LmZvY3VzKCkpfSxSYS5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3RoaXMuZGl2LmJsdXIoKX0sUmEucHJvdG90eXBlLmdldEZpZWxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2fSxSYS5wcm90b3R5cGUuc3VwcG9ydHNUb3VjaD1mdW5jdGlvbigpe3JldHVybiEwfSxSYS5wcm90b3R5cGUucmVjZWl2ZWRGb2N1cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpP3RoaXMucG9sbFNlbGVjdGlvbigpOlFyKHRoaXMuY20sZnVuY3Rpb24oKXtyZXR1cm4gZS5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwfSksdGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLGZ1bmN0aW9uIHQoKXtlLmNtLnN0YXRlLmZvY3VzZWQmJihlLnBvbGxTZWxlY3Rpb24oKSxlLnBvbGxpbmcuc2V0KGUuY20ub3B0aW9ucy5wb2xsSW50ZXJ2YWwsdCkpfSl9LFJhLnByb3RvdHlwZS5zZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gZS5hbmNob3JOb2RlIT10aGlzLmxhc3RBbmNob3JOb2RlfHxlLmFuY2hvck9mZnNldCE9dGhpcy5sYXN0QW5jaG9yT2Zmc2V0fHxlLmZvY3VzTm9kZSE9dGhpcy5sYXN0Rm9jdXNOb2RlfHxlLmZvY3VzT2Zmc2V0IT10aGlzLmxhc3RGb2N1c09mZnNldH0sUmEucHJvdG90eXBlLnBvbGxTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLnJlYWRET01UaW1lb3V0JiYhdGhpcy5ncmFjZVBlcmlvZCYmdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCkpe3ZhciBlPXRoaXMuZ2V0U2VsZWN0aW9uKCksdD10aGlzLmNtO2lmKHYmJmMmJnRoaXMuY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aCYmZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWU7dDt0PXQucGFyZW50Tm9kZSlpZigvQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlci8udGVzdCh0LmNsYXNzTmFtZSkpcmV0dXJuITA7cmV0dXJuITF9KGUuYW5jaG9yTm9kZSkpcmV0dXJuIHRoaXMuY20udHJpZ2dlck9uS2V5RG93bih7dHlwZTpcImtleWRvd25cIixrZXlDb2RlOjgscHJldmVudERlZmF1bHQ6TWF0aC5hYnN9KSx0aGlzLmJsdXIoKSx2b2lkIHRoaXMuZm9jdXMoKTtpZighdGhpcy5jb21wb3Npbmcpe3RoaXMucmVtZW1iZXJTZWxlY3Rpb24oKTt2YXIgbj1IYSh0LGUuYW5jaG9yTm9kZSxlLmFuY2hvck9mZnNldCkscj1IYSh0LGUuZm9jdXNOb2RlLGUuZm9jdXNPZmZzZXQpO24mJnImJlFyKHQsZnVuY3Rpb24oKXtYaSh0LmRvYyxBaShuLHIpLFYpLChuLmJhZHx8ci5iYWQpJiYodC5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwKX0pfX19LFJhLnByb3RvdHlwZS5wb2xsQ29udGVudD1mdW5jdGlvbigpe251bGwhPXRoaXMucmVhZERPTVRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5yZWFkRE9NVGltZW91dCksdGhpcy5yZWFkRE9NVGltZW91dD1udWxsKTt2YXIgZSx0LG4scj10aGlzLmNtLGk9ci5kaXNwbGF5LG89ci5kb2Muc2VsLnByaW1hcnkoKSxhPW8uZnJvbSgpLHM9by50bygpO2lmKDA9PWEuY2gmJmEubGluZT5yLmZpcnN0TGluZSgpJiYoYT1nZShhLmxpbmUtMSxzZShyLmRvYyxhLmxpbmUtMSkubGVuZ3RoKSkscy5jaD09c2Uoci5kb2Mscy5saW5lKS50ZXh0Lmxlbmd0aCYmcy5saW5lPHIubGFzdExpbmUoKSYmKHM9Z2Uocy5saW5lKzEsMCkpLGEubGluZTxpLnZpZXdGcm9tfHxzLmxpbmU+aS52aWV3VG8tMSlyZXR1cm4hMTthLmxpbmU9PWkudmlld0Zyb218fDA9PShlPXNyKHIsYS5saW5lKSk/KHQ9aGUoaS52aWV3WzBdLmxpbmUpLG49aS52aWV3WzBdLm5vZGUpOih0PWhlKGkudmlld1tlXS5saW5lKSxuPWkudmlld1tlLTFdLm5vZGUubmV4dFNpYmxpbmcpO3ZhciBsLHUsYz1zcihyLHMubGluZSk7aWYoYz09aS52aWV3Lmxlbmd0aC0xPyhsPWkudmlld1RvLTEsdT1pLmxpbmVEaXYubGFzdENoaWxkKToobD1oZShpLnZpZXdbYysxXS5saW5lKS0xLHU9aS52aWV3W2MrMV0ubm9kZS5wcmV2aW91c1NpYmxpbmcpLCFuKXJldHVybiExO2Zvcih2YXIgaD1yLmRvYy5zcGxpdExpbmVzKGZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89XCJcIixhPSExLHM9ZS5kb2MubGluZVNlcGFyYXRvcigpLGw9ITE7ZnVuY3Rpb24gdSgpe2EmJihvKz1zLGwmJihvKz1zKSxhPWw9ITEpfWZ1bmN0aW9uIGMoZSl7ZSYmKHUoKSxvKz1lKX1mdW5jdGlvbiBoKHQpe2lmKDE9PXQubm9kZVR5cGUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKFwiY20tdGV4dFwiKTtpZihuKXJldHVybiB2b2lkIGMobik7dmFyIG8sZD10LmdldEF0dHJpYnV0ZShcImNtLW1hcmtlclwiKTtpZihkKXt2YXIgZj1lLmZpbmRNYXJrcyhnZShyLDApLGdlKGkrMSwwKSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PWV9fSgrZCkpO3JldHVybiB2b2lkKGYubGVuZ3RoJiYobz1mWzBdLmZpbmQoMCkpJiZjKGxlKGUuZG9jLG8uZnJvbSxvLnRvKS5qb2luKHMpKSl9aWYoXCJmYWxzZVwiPT10LmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm47dmFyIHA9L14ocHJlfGRpdnxwfGxpfHRhYmxlfGJyKSQvaS50ZXN0KHQubm9kZU5hbWUpO2lmKCEvXmJyJC9pLnRlc3QodC5ub2RlTmFtZSkmJjA9PXQudGV4dENvbnRlbnQubGVuZ3RoKXJldHVybjtwJiZ1KCk7Zm9yKHZhciBnPTA7Zzx0LmNoaWxkTm9kZXMubGVuZ3RoO2crKyloKHQuY2hpbGROb2Rlc1tnXSk7L14ocHJlfHApJC9pLnRlc3QodC5ub2RlTmFtZSkmJihsPSEwKSxwJiYoYT0hMCl9ZWxzZSAzPT10Lm5vZGVUeXBlJiZjKHQubm9kZVZhbHVlLnJlcGxhY2UoL1xcdTIwMGIvZyxcIlwiKS5yZXBsYWNlKC9cXHUwMGEwL2csXCIgXCIpKX1mb3IoO2godCksdCE9bjspdD10Lm5leHRTaWJsaW5nLGw9ITE7cmV0dXJuIG99KHIsbix1LHQsbCkpLGQ9bGUoci5kb2MsZ2UodCwwKSxnZShsLHNlKHIuZG9jLGwpLnRleHQubGVuZ3RoKSk7aC5sZW5ndGg+MSYmZC5sZW5ndGg+MTspaWYoXyhoKT09XyhkKSloLnBvcCgpLGQucG9wKCksbC0tO2Vsc2V7aWYoaFswXSE9ZFswXSlicmVhaztoLnNoaWZ0KCksZC5zaGlmdCgpLHQrK31mb3IodmFyIGY9MCxwPTAsZz1oWzBdLHY9ZFswXSxtPU1hdGgubWluKGcubGVuZ3RoLHYubGVuZ3RoKTtmPG0mJmcuY2hhckNvZGVBdChmKT09di5jaGFyQ29kZUF0KGYpOykrK2Y7Zm9yKHZhciBiPV8oaCkseT1fKGQpLEE9TWF0aC5taW4oYi5sZW5ndGgtKDE9PWgubGVuZ3RoP2Y6MCkseS5sZW5ndGgtKDE9PWQubGVuZ3RoP2Y6MCkpO3A8QSYmYi5jaGFyQ29kZUF0KGIubGVuZ3RoLXAtMSk9PXkuY2hhckNvZGVBdCh5Lmxlbmd0aC1wLTEpOykrK3A7aWYoMT09aC5sZW5ndGgmJjE9PWQubGVuZ3RoJiZ0PT1hLmxpbmUpZm9yKDtmJiZmPmEuY2gmJmIuY2hhckNvZGVBdChiLmxlbmd0aC1wLTEpPT15LmNoYXJDb2RlQXQoeS5sZW5ndGgtcC0xKTspZi0tLHArKztoW2gubGVuZ3RoLTFdPWIuc2xpY2UoMCxiLmxlbmd0aC1wKS5yZXBsYWNlKC9eXFx1MjAwYisvLFwiXCIpLGhbMF09aFswXS5zbGljZShmKS5yZXBsYWNlKC9cXHUyMDBiKyQvLFwiXCIpO3ZhciB3PWdlKHQsZiksQz1nZShsLGQubGVuZ3RoP18oZCkubGVuZ3RoLXA6MCk7cmV0dXJuIGgubGVuZ3RoPjF8fGhbMF18fHZlKHcsQyk/KHVvKHIuZG9jLGgsdyxDLFwiK2lucHV0XCIpLCEwKTp2b2lkIDB9LFJhLnByb3RvdHlwZS5lbnN1cmVQb2xsZWQ9ZnVuY3Rpb24oKXt0aGlzLmZvcmNlQ29tcG9zaXRpb25FbmQoKX0sUmEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKCl9LFJhLnByb3RvdHlwZS5mb3JjZUNvbXBvc2l0aW9uRW5kPWZ1bmN0aW9uKCl7dGhpcy5jb21wb3NpbmcmJihjbGVhclRpbWVvdXQodGhpcy5yZWFkRE9NVGltZW91dCksdGhpcy5jb21wb3Npbmc9bnVsbCx0aGlzLnVwZGF0ZUZyb21ET00oKSx0aGlzLmRpdi5ibHVyKCksdGhpcy5kaXYuZm9jdXMoKSl9LFJhLnByb3RvdHlwZS5yZWFkRnJvbURPTVNvb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzO251bGw9PXRoaXMucmVhZERPTVRpbWVvdXQmJih0aGlzLnJlYWRET01UaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihlLnJlYWRET01UaW1lb3V0PW51bGwsZS5jb21wb3Npbmcpe2lmKCFlLmNvbXBvc2luZy5kb25lKXJldHVybjtlLmNvbXBvc2luZz1udWxsfWUudXBkYXRlRnJvbURPTSgpfSw4MCkpfSxSYS5wcm90b3R5cGUudXBkYXRlRnJvbURPTT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7IXRoaXMuY20uaXNSZWFkT25seSgpJiZ0aGlzLnBvbGxDb250ZW50KCl8fFFyKHRoaXMuY20sZnVuY3Rpb24oKXtyZXR1cm4gSnIoZS5jbSl9KX0sUmEucHJvdG90eXBlLnNldFVuZWRpdGFibGU9ZnVuY3Rpb24oZSl7ZS5jb250ZW50RWRpdGFibGU9XCJmYWxzZVwifSxSYS5wcm90b3R5cGUub25LZXlQcmVzcz1mdW5jdGlvbihlKXswPT1lLmNoYXJDb2RlfHx0aGlzLmNvbXBvc2luZ3x8KGUucHJldmVudERlZmF1bHQoKSx0aGlzLmNtLmlzUmVhZE9ubHkoKXx8WHIodGhpcy5jbSxMYSkodGhpcy5jbSxTdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PWUuY2hhckNvZGU/ZS5rZXlDb2RlOmUuY2hhckNvZGUpLDApKX0sUmEucHJvdG90eXBlLnJlYWRPbmx5Q2hhbmdlZD1mdW5jdGlvbihlKXt0aGlzLmRpdi5jb250ZW50RWRpdGFibGU9U3RyaW5nKFwibm9jdXJzb3JcIiE9ZSl9LFJhLnByb3RvdHlwZS5vbkNvbnRleHRNZW51PWZ1bmN0aW9uKCl7fSxSYS5wcm90b3R5cGUucmVzZXRQb3NpdGlvbj1mdW5jdGlvbigpe30sUmEucHJvdG90eXBlLm5lZWRzQ29udGVudEF0dHJpYnV0ZT0hMDt2YXIgamE9ZnVuY3Rpb24oZSl7dGhpcy5jbT1lLHRoaXMucHJldklucHV0PVwiXCIsdGhpcy5wb2xsaW5nRmFzdD0hMSx0aGlzLnBvbGxpbmc9bmV3IEgsdGhpcy5oYXNTZWxlY3Rpb249ITEsdGhpcy5jb21wb3Npbmc9bnVsbH07amEucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMscj10aGlzLmNtO3RoaXMuY3JlYXRlRmllbGQoZSk7dmFyIGk9dGhpcy50ZXh0YXJlYTtmdW5jdGlvbiBvKGUpe2lmKCFpdChyLGUpKXtpZihyLnNvbWV0aGluZ1NlbGVjdGVkKCkpU2Eoe2xpbmVXaXNlOiExLHRleHQ6ci5nZXRTZWxlY3Rpb25zKCl9KTtlbHNle2lmKCFyLm9wdGlvbnMubGluZVdpc2VDb3B5Q3V0KXJldHVybjt2YXIgdD1OYShyKTtTYSh7bGluZVdpc2U6ITAsdGV4dDp0LnRleHR9KSxcImN1dFwiPT1lLnR5cGU/ci5zZXRTZWxlY3Rpb25zKHQucmFuZ2VzLG51bGwsVik6KG4ucHJldklucHV0PVwiXCIsaS52YWx1ZT10LnRleHQuam9pbihcIlxcblwiKSxXKGkpKX1cImN1dFwiPT1lLnR5cGUmJihyLnN0YXRlLmN1dEluY29taW5nPSEwKX19ZS53cmFwcGVyLmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIsZS53cmFwcGVyLmZpcnN0Q2hpbGQpLGcmJihpLnN0eWxlLndpZHRoPVwiMHB4XCIpLGV0KGksXCJpbnB1dFwiLGZ1bmN0aW9uKCl7YSYmcz49OSYmdC5oYXNTZWxlY3Rpb24mJih0Lmhhc1NlbGVjdGlvbj1udWxsKSxuLnBvbGwoKX0pLGV0KGksXCJwYXN0ZVwiLGZ1bmN0aW9uKGUpe2l0KHIsZSl8fFRhKGUscil8fChyLnN0YXRlLnBhc3RlSW5jb21pbmc9ITAsbi5mYXN0UG9sbCgpKX0pLGV0KGksXCJjdXRcIixvKSxldChpLFwiY29weVwiLG8pLGV0KGUuc2Nyb2xsZXIsXCJwYXN0ZVwiLGZ1bmN0aW9uKHQpe3duKGUsdCl8fGl0KHIsdCl8fChyLnN0YXRlLnBhc3RlSW5jb21pbmc9ITAsbi5mb2N1cygpKX0pLGV0KGUubGluZVNwYWNlLFwic2VsZWN0c3RhcnRcIixmdW5jdGlvbih0KXt3bihlLHQpfHxsdCh0KX0pLGV0KGksXCJjb21wb3NpdGlvbnN0YXJ0XCIsZnVuY3Rpb24oKXt2YXIgZT1yLmdldEN1cnNvcihcImZyb21cIik7bi5jb21wb3NpbmcmJm4uY29tcG9zaW5nLnJhbmdlLmNsZWFyKCksbi5jb21wb3Npbmc9e3N0YXJ0OmUscmFuZ2U6ci5tYXJrVGV4dChlLHIuZ2V0Q3Vyc29yKFwidG9cIikse2NsYXNzTmFtZTpcIkNvZGVNaXJyb3ItY29tcG9zaW5nXCJ9KX19KSxldChpLFwiY29tcG9zaXRpb25lbmRcIixmdW5jdGlvbigpe24uY29tcG9zaW5nJiYobi5wb2xsKCksbi5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKSxuLmNvbXBvc2luZz1udWxsKX0pfSxqYS5wcm90b3R5cGUuY3JlYXRlRmllbGQ9ZnVuY3Rpb24oZSl7dGhpcy53cmFwcGVyPVBhKCksdGhpcy50ZXh0YXJlYT10aGlzLndyYXBwZXIuZmlyc3RDaGlsZH0samEucHJvdG90eXBlLnByZXBhcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNtLHQ9ZS5kaXNwbGF5LG49ZS5kb2Mscj11cihlKTtpZihlLm9wdGlvbnMubW92ZUlucHV0V2l0aEN1cnNvcil7dmFyIGk9WW4oZSxuLnNlbC5wcmltYXJ5KCkuaGVhZCxcImRpdlwiKSxvPXQud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXQubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyLnRlVG9wPU1hdGgubWF4KDAsTWF0aC5taW4odC53cmFwcGVyLmNsaWVudEhlaWdodC0xMCxpLnRvcCthLnRvcC1vLnRvcCkpLHIudGVMZWZ0PU1hdGgubWF4KDAsTWF0aC5taW4odC53cmFwcGVyLmNsaWVudFdpZHRoLTEwLGkubGVmdCthLmxlZnQtby5sZWZ0KSl9cmV0dXJuIHJ9LGphLnByb3RvdHlwZS5zaG93U2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY20sbj10LmRpc3BsYXk7TChuLmN1cnNvckRpdixlLmN1cnNvcnMpLEwobi5zZWxlY3Rpb25EaXYsZS5zZWxlY3Rpb24pLG51bGwhPWUudGVUb3AmJih0aGlzLndyYXBwZXIuc3R5bGUudG9wPWUudGVUb3ArXCJweFwiLHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0PWUudGVMZWZ0K1wicHhcIil9LGphLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlKXtpZighdGhpcy5jb250ZXh0TWVudVBlbmRpbmcmJiF0aGlzLmNvbXBvc2luZyl7dmFyIHQ9dGhpcy5jbTtpZih0LnNvbWV0aGluZ1NlbGVjdGVkKCkpe3RoaXMucHJldklucHV0PVwiXCI7dmFyIG49dC5nZXRTZWxlY3Rpb24oKTt0aGlzLnRleHRhcmVhLnZhbHVlPW4sdC5zdGF0ZS5mb2N1c2VkJiZXKHRoaXMudGV4dGFyZWEpLGEmJnM+PTkmJih0aGlzLmhhc1NlbGVjdGlvbj1uKX1lbHNlIGV8fCh0aGlzLnByZXZJbnB1dD10aGlzLnRleHRhcmVhLnZhbHVlPVwiXCIsYSYmcz49OSYmKHRoaXMuaGFzU2VsZWN0aW9uPW51bGwpKX19LGphLnByb3RvdHlwZS5nZXRGaWVsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRhcmVhfSxqYS5wcm90b3R5cGUuc3VwcG9ydHNUb3VjaD1mdW5jdGlvbigpe3JldHVybiExfSxqYS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtpZihcIm5vY3Vyc29yXCIhPXRoaXMuY20ub3B0aW9ucy5yZWFkT25seSYmKCFtfHxFKCkhPXRoaXMudGV4dGFyZWEpKXRyeXt0aGlzLnRleHRhcmVhLmZvY3VzKCl9Y2F0Y2goZSl7fX0samEucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXt0aGlzLnRleHRhcmVhLmJsdXIoKX0samEucHJvdG90eXBlLnJlc2V0UG9zaXRpb249ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIuc3R5bGUudG9wPXRoaXMud3JhcHBlci5zdHlsZS5sZWZ0PTB9LGphLnByb3RvdHlwZS5yZWNlaXZlZEZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5zbG93UG9sbCgpfSxqYS5wcm90b3R5cGUuc2xvd1BvbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucG9sbGluZ0Zhc3R8fHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCxmdW5jdGlvbigpe2UucG9sbCgpLGUuY20uc3RhdGUuZm9jdXNlZCYmZS5zbG93UG9sbCgpfSl9LGphLnByb3RvdHlwZS5mYXN0UG9sbD1mdW5jdGlvbigpe3ZhciBlPSExLHQ9dGhpczt0LnBvbGxpbmdGYXN0PSEwLHQucG9sbGluZy5zZXQoMjAsZnVuY3Rpb24gbigpe3ZhciByPXQucG9sbCgpO3J8fGU/KHQucG9sbGluZ0Zhc3Q9ITEsdC5zbG93UG9sbCgpKTooZT0hMCx0LnBvbGxpbmcuc2V0KDYwLG4pKX0pfSxqYS5wcm90b3R5cGUucG9sbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmNtLG49dGhpcy50ZXh0YXJlYSxyPXRoaXMucHJldklucHV0O2lmKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nfHwhdC5zdGF0ZS5mb2N1c2VkfHxBdChuKSYmIXImJiF0aGlzLmNvbXBvc2luZ3x8dC5pc1JlYWRPbmx5KCl8fHQub3B0aW9ucy5kaXNhYmxlSW5wdXR8fHQuc3RhdGUua2V5U2VxKXJldHVybiExO3ZhciBpPW4udmFsdWU7aWYoaT09ciYmIXQuc29tZXRoaW5nU2VsZWN0ZWQoKSlyZXR1cm4hMTtpZihhJiZzPj05JiZ0aGlzLmhhc1NlbGVjdGlvbj09PWl8fGImJi9bXFx1ZjcwMC1cXHVmN2ZmXS8udGVzdChpKSlyZXR1cm4gdC5kaXNwbGF5LmlucHV0LnJlc2V0KCksITE7aWYodC5kb2Muc2VsPT10LmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUpe3ZhciBvPWkuY2hhckNvZGVBdCgwKTtpZig4MjAzIT1vfHxyfHwocj1cIuKAi1wiKSw4NjY2PT1vKXJldHVybiB0aGlzLnJlc2V0KCksdGhpcy5jbS5leGVjQ29tbWFuZChcInVuZG9cIil9Zm9yKHZhciBsPTAsdT1NYXRoLm1pbihyLmxlbmd0aCxpLmxlbmd0aCk7bDx1JiZyLmNoYXJDb2RlQXQobCk9PWkuY2hhckNvZGVBdChsKTspKytsO3JldHVybiBRcih0LGZ1bmN0aW9uKCl7TGEodCxpLnNsaWNlKGwpLHIubGVuZ3RoLWwsbnVsbCxlLmNvbXBvc2luZz9cIipjb21wb3NlXCI6bnVsbCksaS5sZW5ndGg+MWUzfHxpLmluZGV4T2YoXCJcXG5cIik+LTE/bi52YWx1ZT1lLnByZXZJbnB1dD1cIlwiOmUucHJldklucHV0PWksZS5jb21wb3NpbmcmJihlLmNvbXBvc2luZy5yYW5nZS5jbGVhcigpLGUuY29tcG9zaW5nLnJhbmdlPXQubWFya1RleHQoZS5jb21wb3Npbmcuc3RhcnQsdC5nZXRDdXJzb3IoXCJ0b1wiKSx7Y2xhc3NOYW1lOlwiQ29kZU1pcnJvci1jb21wb3NpbmdcIn0pKX0pLCEwfSxqYS5wcm90b3R5cGUuZW5zdXJlUG9sbGVkPWZ1bmN0aW9uKCl7dGhpcy5wb2xsaW5nRmFzdCYmdGhpcy5wb2xsKCkmJih0aGlzLnBvbGxpbmdGYXN0PSExKX0samEucHJvdG90eXBlLm9uS2V5UHJlc3M9ZnVuY3Rpb24oKXthJiZzPj05JiYodGhpcy5oYXNTZWxlY3Rpb249bnVsbCksdGhpcy5mYXN0UG9sbCgpfSxqYS5wcm90b3R5cGUub25Db250ZXh0TWVudT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5jbSxyPW4uZGlzcGxheSxpPXQudGV4dGFyZWEsbz1hcihuLGUpLHU9ci5zY3JvbGxlci5zY3JvbGxUb3A7aWYobyYmIWgpe3ZhciBjPW4ub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnU7YyYmLTE9PW4uZG9jLnNlbC5jb250YWlucyhvKSYmWHIobixYaSkobi5kb2MsQWkobyksVik7dmFyIGQ9aS5zdHlsZS5jc3NUZXh0LGY9dC53cmFwcGVyLnN0eWxlLmNzc1RleHQ7dC53cmFwcGVyLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjogYWJzb2x1dGVcIjt2YXIgcCxnPXQud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihpLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7XFxuICAgICAgdG9wOiBcIisoZS5jbGllbnRZLWcudG9wLTUpK1wicHg7IGxlZnQ6IFwiKyhlLmNsaWVudFgtZy5sZWZ0LTUpK1wicHg7XFxuICAgICAgei1pbmRleDogMTAwMDsgYmFja2dyb3VuZDogXCIrKGE/XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIC4wNSlcIjpcInRyYW5zcGFyZW50XCIpK1wiO1xcbiAgICAgIG91dGxpbmU6IG5vbmU7IGJvcmRlci13aWR0aDogMDsgb3V0bGluZTogbm9uZTsgb3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogLjA1OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NSk7XCIsbCYmKHA9d2luZG93LnNjcm9sbFkpLHIuaW5wdXQuZm9jdXMoKSxsJiZ3aW5kb3cuc2Nyb2xsVG8obnVsbCxwKSxyLmlucHV0LnJlc2V0KCksbi5zb21ldGhpbmdTZWxlY3RlZCgpfHwoaS52YWx1ZT10LnByZXZJbnB1dD1cIiBcIiksdC5jb250ZXh0TWVudVBlbmRpbmc9ITAsci5zZWxGb3JDb250ZXh0TWVudT1uLmRvYy5zZWwsY2xlYXJUaW1lb3V0KHIuZGV0ZWN0aW5nU2VsZWN0QWxsKSxhJiZzPj05JiZtKCkseCl7aHQoZSk7dmFyIHY9ZnVuY3Rpb24oKXtudCh3aW5kb3csXCJtb3VzZXVwXCIsdiksc2V0VGltZW91dChiLDIwKX07ZXQod2luZG93LFwibW91c2V1cFwiLHYpfWVsc2Ugc2V0VGltZW91dChiLDUwKX1mdW5jdGlvbiBtKCl7aWYobnVsbCE9aS5zZWxlY3Rpb25TdGFydCl7dmFyIGU9bi5zb21ldGhpbmdTZWxlY3RlZCgpLG89XCLigItcIisoZT9pLnZhbHVlOlwiXCIpO2kudmFsdWU9XCLih5pcIixpLnZhbHVlPW8sdC5wcmV2SW5wdXQ9ZT9cIlwiOlwi4oCLXCIsaS5zZWxlY3Rpb25TdGFydD0xLGkuc2VsZWN0aW9uRW5kPW8ubGVuZ3RoLHIuc2VsRm9yQ29udGV4dE1lbnU9bi5kb2Muc2VsfX1mdW5jdGlvbiBiKCl7aWYodC5jb250ZXh0TWVudVBlbmRpbmc9ITEsdC53cmFwcGVyLnN0eWxlLmNzc1RleHQ9ZixpLnN0eWxlLmNzc1RleHQ9ZCxhJiZzPDkmJnIuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3Aoci5zY3JvbGxlci5zY3JvbGxUb3A9dSksbnVsbCE9aS5zZWxlY3Rpb25TdGFydCl7KCFhfHxhJiZzPDkpJiZtKCk7dmFyIGU9MCxvPWZ1bmN0aW9uKCl7ci5zZWxGb3JDb250ZXh0TWVudT09bi5kb2Muc2VsJiYwPT1pLnNlbGVjdGlvblN0YXJ0JiZpLnNlbGVjdGlvbkVuZD4wJiZcIuKAi1wiPT10LnByZXZJbnB1dD9YcihuLG5vKShuKTplKys8MTA/ci5kZXRlY3RpbmdTZWxlY3RBbGw9c2V0VGltZW91dChvLDUwMCk6KHIuc2VsRm9yQ29udGV4dE1lbnU9bnVsbCxyLmlucHV0LnJlc2V0KCkpfTtyLmRldGVjdGluZ1NlbGVjdEFsbD1zZXRUaW1lb3V0KG8sMjAwKX19fSxqYS5wcm90b3R5cGUucmVhZE9ubHlDaGFuZ2VkPWZ1bmN0aW9uKGUpe2V8fHRoaXMucmVzZXQoKSx0aGlzLnRleHRhcmVhLmRpc2FibGVkPVwibm9jdXJzb3JcIj09ZX0samEucHJvdG90eXBlLnNldFVuZWRpdGFibGU9ZnVuY3Rpb24oKXt9LGphLnByb3RvdHlwZS5uZWVkc0NvbnRlbnRBdHRyaWJ1dGU9ITEsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcHRpb25IYW5kbGVycztmdW5jdGlvbiBuKG4scixpLG8pe2UuZGVmYXVsdHNbbl09cixpJiYodFtuXT1vP2Z1bmN0aW9uKGUsdCxuKXtuIT1tYSYmaShlLHQsbil9OmkpfWUuZGVmaW5lT3B0aW9uPW4sZS5Jbml0PW1hLG4oXCJ2YWx1ZVwiLFwiXCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZXRWYWx1ZSh0KX0sITApLG4oXCJtb2RlXCIsbnVsbCxmdW5jdGlvbihlLHQpe2UuZG9jLm1vZGVPcHRpb249dCxJaShlKX0sITApLG4oXCJpbmRlbnRVbml0XCIsMixJaSwhMCksbihcImluZGVudFdpdGhUYWJzXCIsITEpLG4oXCJzbWFydEluZGVudFwiLCEwKSxuKFwidGFiU2l6ZVwiLDQsZnVuY3Rpb24oZSl7TWkoZSksSG4oZSksSnIoZSl9LCEwKSxuKFwibGluZVNlcGFyYXRvclwiLG51bGwsZnVuY3Rpb24oZSx0KXtpZihlLmRvYy5saW5lU2VwPXQsdCl7dmFyIG49W10scj1lLmRvYy5maXJzdDtlLmRvYy5pdGVyKGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0wOzspe3ZhciBvPWUudGV4dC5pbmRleE9mKHQsaSk7aWYoLTE9PW8pYnJlYWs7aT1vK3QubGVuZ3RoLG4ucHVzaChnZShyLG8pKX1yKyt9KTtmb3IodmFyIGk9bi5sZW5ndGgtMTtpPj0wO2ktLSl1byhlLmRvYyx0LG5baV0sZ2UobltpXS5saW5lLG5baV0uY2grdC5sZW5ndGgpKX19KSxuKFwic3BlY2lhbENoYXJzXCIsL1tcXHUwMDAwLVxcdTAwMWZcXHUwMDdmLVxcdTAwOWZcXHUwMGFkXFx1MDYxY1xcdTIwMGItXFx1MjAwZlxcdTIwMjhcXHUyMDI5XFx1ZmVmZl0vZyxmdW5jdGlvbihlLHQsbil7ZS5zdGF0ZS5zcGVjaWFsQ2hhcnM9bmV3IFJlZ0V4cCh0LnNvdXJjZSsodC50ZXN0KFwiXFx0XCIpP1wiXCI6XCJ8XFx0XCIpLFwiZ1wiKSxuIT1tYSYmZS5yZWZyZXNoKCl9KSxuKFwic3BlY2lhbENoYXJQbGFjZWhvbGRlclwiLEp0LGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZnJlc2goKX0sITApLG4oXCJlbGVjdHJpY0NoYXJzXCIsITApLG4oXCJpbnB1dFN0eWxlXCIsbT9cImNvbnRlbnRlZGl0YWJsZVwiOlwidGV4dGFyZWFcIixmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3JcIil9LCEwKSxuKFwic3BlbGxjaGVja1wiLCExLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0SW5wdXRGaWVsZCgpLnNwZWxsY2hlY2s9dH0sITApLG4oXCJydGxNb3ZlVmlzdWFsbHlcIiwhQSksbihcIndob2xlTGluZVVwZGF0ZUJlZm9yZVwiLCEwKSxuKFwidGhlbWVcIixcImRlZmF1bHRcIixmdW5jdGlvbihlKXt2YShlKSxBYShlKX0sITApLG4oXCJrZXlNYXBcIixcImRlZmF1bHRcIixmdW5jdGlvbihlLHQsbil7dmFyIHI9Wm8odCksaT1uIT1tYSYmWm8obik7aSYmaS5kZXRhY2gmJmkuZGV0YWNoKGUsciksci5hdHRhY2gmJnIuYXR0YWNoKGUsaXx8bnVsbCl9KSxuKFwiZXh0cmFLZXlzXCIsbnVsbCksbihcImNvbmZpZ3VyZU1vdXNlXCIsbnVsbCksbihcImxpbmVXcmFwcGluZ1wiLCExLENhLCEwKSxuKFwiZ3V0dGVyc1wiLFtdLGZ1bmN0aW9uKGUpe2hpKGUub3B0aW9ucyksQWEoZSl9LCEwKSxuKFwiZml4ZWRHdXR0ZXJcIiwhMCxmdW5jdGlvbihlLHQpe2UuZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQ9dD9ycihlLmRpc3BsYXkpK1wicHhcIjpcIjBcIixlLnJlZnJlc2goKX0sITApLG4oXCJjb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhclwiLCExLGZ1bmN0aW9uKGUpe3JldHVybiBXcihlKX0sITApLG4oXCJzY3JvbGxiYXJTdHlsZVwiLFwibmF0aXZlXCIsZnVuY3Rpb24oZSl7RnIoZSksV3IoZSksZS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGUuZG9jLnNjcm9sbFRvcCksZS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsTGVmdChlLmRvYy5zY3JvbGxMZWZ0KX0sITApLG4oXCJsaW5lTnVtYmVyc1wiLCExLGZ1bmN0aW9uKGUpe2hpKGUub3B0aW9ucyksQWEoZSl9LCEwKSxuKFwiZmlyc3RMaW5lTnVtYmVyXCIsMSxBYSwhMCksbihcImxpbmVOdW1iZXJGb3JtYXR0ZXJcIixmdW5jdGlvbihlKXtyZXR1cm4gZX0sQWEsITApLG4oXCJzaG93Q3Vyc29yV2hlblNlbGVjdGluZ1wiLCExLGxyLCEwKSxuKFwicmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51XCIsITApLG4oXCJsaW5lV2lzZUNvcHlDdXRcIiwhMCksbihcInBhc3RlTGluZXNQZXJTZWxlY3Rpb25cIiwhMCksbihcInNlbGVjdGlvbnNNYXlUb3VjaFwiLCExKSxuKFwicmVhZE9ubHlcIiwhMSxmdW5jdGlvbihlLHQpe1wibm9jdXJzb3JcIj09dCYmKG1yKGUpLGUuZGlzcGxheS5pbnB1dC5ibHVyKCkpLGUuZGlzcGxheS5pbnB1dC5yZWFkT25seUNoYW5nZWQodCl9KSxuKFwiZGlzYWJsZUlucHV0XCIsITEsZnVuY3Rpb24oZSx0KXt0fHxlLmRpc3BsYXkuaW5wdXQucmVzZXQoKX0sITApLG4oXCJkcmFnRHJvcFwiLCEwLHdhKSxuKFwiYWxsb3dEcm9wRmlsZVR5cGVzXCIsbnVsbCksbihcImN1cnNvckJsaW5rUmF0ZVwiLDUzMCksbihcImN1cnNvclNjcm9sbE1hcmdpblwiLDApLG4oXCJjdXJzb3JIZWlnaHRcIiwxLGxyLCEwKSxuKFwic2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZVwiLCEwLGxyLCEwKSxuKFwid29ya1RpbWVcIiwxMDApLG4oXCJ3b3JrRGVsYXlcIiwxMDApLG4oXCJmbGF0dGVuU3BhbnNcIiwhMCxNaSwhMCksbihcImFkZE1vZGVDbGFzc1wiLCExLE1pLCEwKSxuKFwicG9sbEludGVydmFsXCIsMTAwKSxuKFwidW5kb0RlcHRoXCIsMjAwLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZG9jLmhpc3RvcnkudW5kb0RlcHRoPXR9KSxuKFwiaGlzdG9yeUV2ZW50RGVsYXlcIiwxMjUwKSxuKFwidmlld3BvcnRNYXJnaW5cIiwxMCxmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWZyZXNoKCl9LCEwKSxuKFwibWF4SGlnaGxpZ2h0TGVuZ3RoXCIsMWU0LE1pLCEwKSxuKFwibW92ZUlucHV0V2l0aEN1cnNvclwiLCEwLGZ1bmN0aW9uKGUsdCl7dHx8ZS5kaXNwbGF5LmlucHV0LnJlc2V0UG9zaXRpb24oKX0pLG4oXCJ0YWJpbmRleFwiLG51bGwsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkudGFiSW5kZXg9dHx8XCJcIn0pLG4oXCJhdXRvZm9jdXNcIixudWxsKSxuKFwiZGlyZWN0aW9uXCIsXCJsdHJcIixmdW5jdGlvbihlLHQpe3JldHVybiBlLmRvYy5zZXREaXJlY3Rpb24odCl9LCEwKSxuKFwicGhyYXNlc1wiLG51bGwpfSh4YSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcHRpb25IYW5kbGVycyxuPWUuaGVscGVycz17fTtlLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZSxmb2N1czpmdW5jdGlvbigpe3dpbmRvdy5mb2N1cygpLHRoaXMuZGlzcGxheS5pbnB1dC5mb2N1cygpfSxzZXRPcHRpb246ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzLm9wdGlvbnMsaT1yW2VdO3JbZV09PW4mJlwibW9kZVwiIT1lfHwocltlXT1uLHQuaGFzT3duUHJvcGVydHkoZSkmJlhyKHRoaXMsdFtlXSkodGhpcyxuLGkpLHJ0KHRoaXMsXCJvcHRpb25DaGFuZ2VcIix0aGlzLGUpKX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnNbZV19LGdldERvYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY30sYWRkS2V5TWFwOmZ1bmN0aW9uKGUsdCl7dGhpcy5zdGF0ZS5rZXlNYXBzW3Q/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKFpvKGUpKX0scmVtb3ZlS2V5TWFwOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnN0YXRlLmtleU1hcHMsbj0wO248dC5sZW5ndGg7KytuKWlmKHRbbl09PWV8fHRbbl0ubmFtZT09ZSlyZXR1cm4gdC5zcGxpY2UobiwxKSwhMH0sYWRkT3ZlcmxheTpfcihmdW5jdGlvbih0LG4pe3ZhciByPXQudG9rZW4/dDplLmdldE1vZGUodGhpcy5vcHRpb25zLHQpO2lmKHIuc3RhcnRTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLlwiKTshZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLGk9bih0KTtyPGUubGVuZ3RoJiZuKGVbcl0pPD1pOylyKys7ZS5zcGxpY2UociwwLHQpfSh0aGlzLnN0YXRlLm92ZXJsYXlzLHttb2RlOnIsbW9kZVNwZWM6dCxvcGFxdWU6biYmbi5vcGFxdWUscHJpb3JpdHk6biYmbi5wcmlvcml0eXx8MH0sZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJpb3JpdHl9KSx0aGlzLnN0YXRlLm1vZGVHZW4rKyxKcih0aGlzKX0pLHJlbW92ZU92ZXJsYXk6X3IoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuc3RhdGUub3ZlcmxheXMsbj0wO248dC5sZW5ndGg7KytuKXt2YXIgcj10W25dLm1vZGVTcGVjO2lmKHI9PWV8fFwic3RyaW5nXCI9PXR5cGVvZiBlJiZyLm5hbWU9PWUpcmV0dXJuIHQuc3BsaWNlKG4sMSksdGhpcy5zdGF0ZS5tb2RlR2VuKyssdm9pZCBKcih0aGlzKX19KSxpbmRlbnRMaW5lOl9yKGZ1bmN0aW9uKGUsdCxuKXtcInN0cmluZ1wiIT10eXBlb2YgdCYmXCJudW1iZXJcIiE9dHlwZW9mIHQmJih0PW51bGw9PXQ/dGhpcy5vcHRpb25zLnNtYXJ0SW5kZW50P1wic21hcnRcIjpcInByZXZcIjp0P1wiYWRkXCI6XCJzdWJ0cmFjdFwiKSxmZSh0aGlzLmRvYyxlKSYmSWEodGhpcyxlLHQsbil9KSxpbmRlbnRTZWxlY3Rpb246X3IoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZG9jLnNlbC5yYW5nZXMsbj0tMSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBpPXRbcl07aWYoaS5lbXB0eSgpKWkuaGVhZC5saW5lPm4mJihJYSh0aGlzLGkuaGVhZC5saW5lLGUsITApLG49aS5oZWFkLmxpbmUscj09dGhpcy5kb2Muc2VsLnByaW1JbmRleCYmSXIodGhpcykpO2Vsc2V7dmFyIG89aS5mcm9tKCksYT1pLnRvKCkscz1NYXRoLm1heChuLG8ubGluZSk7bj1NYXRoLm1pbih0aGlzLmxhc3RMaW5lKCksYS5saW5lLShhLmNoPzA6MSkpKzE7Zm9yKHZhciBsPXM7bDxuOysrbClJYSh0aGlzLGwsZSk7dmFyIHU9dGhpcy5kb2Muc2VsLnJhbmdlczswPT1vLmNoJiZ0Lmxlbmd0aD09dS5sZW5ndGgmJnVbcl0uZnJvbSgpLmNoPjAmJlppKHRoaXMuZG9jLHIsbmV3IGJpKG8sdVtyXS50bygpKSxWKX19fSksZ2V0VG9rZW5BdDpmdW5jdGlvbihlLHQpe3JldHVybiBHdCh0aGlzLGUsdCl9LGdldExpbmVUb2tlbnM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gR3QodGhpcyxnZShlKSx0LCEwKX0sZ2V0VG9rZW5UeXBlQXQ6ZnVuY3Rpb24oZSl7ZT1DZSh0aGlzLmRvYyxlKTt2YXIgdCxuPVJ0KHRoaXMsc2UodGhpcy5kb2MsZS5saW5lKSkscj0wLGk9KG4ubGVuZ3RoLTEpLzIsbz1lLmNoO2lmKDA9PW8pdD1uWzJdO2Vsc2UgZm9yKDs7KXt2YXIgYT1yK2k+PjE7aWYoKGE/blsyKmEtMV06MCk+PW8paT1hO2Vsc2V7aWYoIShuWzIqYSsxXTxvKSl7dD1uWzIqYSsyXTticmVha31yPWErMX19dmFyIHM9dD90LmluZGV4T2YoXCJvdmVybGF5IFwiKTotMTtyZXR1cm4gczwwP3Q6MD09cz9udWxsOnQuc2xpY2UoMCxzLTEpfSxnZXRNb2RlQXQ6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5kb2MubW9kZTtyZXR1cm4gbi5pbm5lck1vZGU/ZS5pbm5lck1vZGUobix0aGlzLmdldFRva2VuQXQodCkuc3RhdGUpLm1vZGU6bn0sZ2V0SGVscGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2V0SGVscGVycyhlLHQpWzBdfSxnZXRIZWxwZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoIW4uaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIHI7dmFyIGk9blt0XSxvPXRoaXMuZ2V0TW9kZUF0KGUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvW3RdKWlbb1t0XV0mJnIucHVzaChpW29bdF1dKTtlbHNlIGlmKG9bdF0pZm9yKHZhciBhPTA7YTxvW3RdLmxlbmd0aDthKyspe3ZhciBzPWlbb1t0XVthXV07cyYmci5wdXNoKHMpfWVsc2Ugby5oZWxwZXJUeXBlJiZpW28uaGVscGVyVHlwZV0/ci5wdXNoKGlbby5oZWxwZXJUeXBlXSk6aVtvLm5hbWVdJiZyLnB1c2goaVtvLm5hbWVdKTtmb3IodmFyIGw9MDtsPGkuX2dsb2JhbC5sZW5ndGg7bCsrKXt2YXIgdT1pLl9nbG9iYWxbbF07dS5wcmVkKG8sdGhpcykmJi0xPT1CKHIsdS52YWwpJiZyLnB1c2godS52YWwpfXJldHVybiByfSxnZXRTdGF0ZUFmdGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5kb2M7cmV0dXJuIHp0KHRoaXMsKGU9d2UobixudWxsPT1lP24uZmlyc3Qrbi5zaXplLTE6ZSkpKzEsdCkuc3RhdGV9LGN1cnNvckNvb3JkczpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZG9jLnNlbC5wcmltYXJ5KCk7cmV0dXJuIFluKHRoaXMsbnVsbD09ZT9uLmhlYWQ6XCJvYmplY3RcIj09dHlwZW9mIGU/Q2UodGhpcy5kb2MsZSk6ZT9uLmZyb20oKTpuLnRvKCksdHx8XCJwYWdlXCIpfSxjaGFyQ29vcmRzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFpuKHRoaXMsQ2UodGhpcy5kb2MsZSksdHx8XCJwYWdlXCIpfSxjb29yZHNDaGFyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9uKHRoaXMsKGU9VW4odGhpcyxlLHR8fFwicGFnZVwiKSkubGVmdCxlLnRvcCl9LGxpbmVBdEhlaWdodDpmdW5jdGlvbihlLHQpe3JldHVybiBlPVVuKHRoaXMse3RvcDplLGxlZnQ6MH0sdHx8XCJwYWdlXCIpLnRvcCxkZSh0aGlzLmRvYyxlK3RoaXMuZGlzcGxheS52aWV3T2Zmc2V0KX0saGVpZ2h0QXRMaW5lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPSExO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXt2YXIgbz10aGlzLmRvYy5maXJzdCt0aGlzLmRvYy5zaXplLTE7ZTx0aGlzLmRvYy5maXJzdD9lPXRoaXMuZG9jLmZpcnN0OmU+byYmKGU9byxpPSEwKSxyPXNlKHRoaXMuZG9jLGUpfWVsc2Ugcj1lO3JldHVybiBWbih0aGlzLHIse3RvcDowLGxlZnQ6MH0sdHx8XCJwYWdlXCIsbnx8aSkudG9wKyhpP3RoaXMuZG9jLmhlaWdodC1ZZShyKTowKX0sZGVmYXVsdFRleHRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZXIodGhpcy5kaXNwbGF5KX0sZGVmYXVsdENoYXJXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0cih0aGlzLmRpc3BsYXkpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybntmcm9tOnRoaXMuZGlzcGxheS52aWV3RnJvbSx0bzp0aGlzLmRpc3BsYXkudmlld1RvfX0sYWRkV2lkZ2V0OmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89dGhpcy5kaXNwbGF5LGE9KGU9WW4odGhpcyxDZSh0aGlzLmRvYyxlKSkpLmJvdHRvbSxzPWUubGVmdDtpZih0LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIixcInRydWVcIiksdGhpcy5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUodCksby5zaXplci5hcHBlbmRDaGlsZCh0KSxcIm92ZXJcIj09cilhPWUudG9wO2Vsc2UgaWYoXCJhYm92ZVwiPT1yfHxcIm5lYXJcIj09cil7dmFyIGw9TWF0aC5tYXgoby53cmFwcGVyLmNsaWVudEhlaWdodCx0aGlzLmRvYy5oZWlnaHQpLHU9TWF0aC5tYXgoby5zaXplci5jbGllbnRXaWR0aCxvLmxpbmVTcGFjZS5jbGllbnRXaWR0aCk7KFwiYWJvdmVcIj09cnx8ZS5ib3R0b20rdC5vZmZzZXRIZWlnaHQ+bCkmJmUudG9wPnQub2Zmc2V0SGVpZ2h0P2E9ZS50b3AtdC5vZmZzZXRIZWlnaHQ6ZS5ib3R0b20rdC5vZmZzZXRIZWlnaHQ8PWwmJihhPWUuYm90dG9tKSxzK3Qub2Zmc2V0V2lkdGg+dSYmKHM9dS10Lm9mZnNldFdpZHRoKX10LnN0eWxlLnRvcD1hK1wicHhcIix0LnN0eWxlLmxlZnQ9dC5zdHlsZS5yaWdodD1cIlwiLFwicmlnaHRcIj09aT8ocz1vLnNpemVyLmNsaWVudFdpZHRoLXQub2Zmc2V0V2lkdGgsdC5zdHlsZS5yaWdodD1cIjBweFwiKTooXCJsZWZ0XCI9PWk/cz0wOlwibWlkZGxlXCI9PWkmJihzPShvLnNpemVyLmNsaWVudFdpZHRoLXQub2Zmc2V0V2lkdGgpLzIpLHQuc3R5bGUubGVmdD1zK1wicHhcIiksbiYmZnVuY3Rpb24oZSx0KXt2YXIgbj14cihlLHQpO251bGwhPW4uc2Nyb2xsVG9wJiZUcihlLG4uc2Nyb2xsVG9wKSxudWxsIT1uLnNjcm9sbExlZnQmJk5yKGUsbi5zY3JvbGxMZWZ0KX0odGhpcyx7bGVmdDpzLHRvcDphLHJpZ2h0OnMrdC5vZmZzZXRXaWR0aCxib3R0b206YSt0Lm9mZnNldEhlaWdodH0pfSx0cmlnZ2VyT25LZXlEb3duOl9yKG9hKSx0cmlnZ2VyT25LZXlQcmVzczpfcihzYSksdHJpZ2dlck9uS2V5VXA6YWEsdHJpZ2dlck9uTW91c2VEb3duOl9yKGhhKSxleGVjQ29tbWFuZDpmdW5jdGlvbihlKXtpZihLby5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gS29bZV0uY2FsbChudWxsLHRoaXMpfSx0cmlnZ2VyRWxlY3RyaWM6X3IoZnVuY3Rpb24oZSl7T2EodGhpcyxlKX0pLGZpbmRQb3NIOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPTE7dDwwJiYoaT0tMSx0PS10KTtmb3IodmFyIG89Q2UodGhpcy5kb2MsZSksYT0wO2E8dCYmIShvPURhKHRoaXMuZG9jLG8saSxuLHIpKS5oaXRTaWRlOysrYSk7cmV0dXJuIG99LG1vdmVIOl9yKGZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0aGlzLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyKXtyZXR1cm4gbi5kaXNwbGF5LnNoaWZ0fHxuLmRvYy5leHRlbmR8fHIuZW1wdHkoKT9EYShuLmRvYyxyLmhlYWQsZSx0LG4ub3B0aW9ucy5ydGxNb3ZlVmlzdWFsbHkpOmU8MD9yLmZyb20oKTpyLnRvKCl9LFopfSksZGVsZXRlSDpfcihmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZG9jLnNlbCxyPXRoaXMuZG9jO24uc29tZXRoaW5nU2VsZWN0ZWQoKT9yLnJlcGxhY2VTZWxlY3Rpb24oXCJcIixudWxsLFwiK2RlbGV0ZVwiKTpZbyh0aGlzLGZ1bmN0aW9uKG4pe3ZhciBpPURhKHIsbi5oZWFkLGUsdCwhMSk7cmV0dXJuIGU8MD97ZnJvbTppLHRvOm4uaGVhZH06e2Zyb206bi5oZWFkLHRvOml9fSl9KSxmaW5kUG9zVjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT0xLG89cjt0PDAmJihpPS0xLHQ9LXQpO2Zvcih2YXIgYT1DZSh0aGlzLmRvYyxlKSxzPTA7czx0Oysrcyl7dmFyIGw9WW4odGhpcyxhLFwiZGl2XCIpO2lmKG51bGw9PW8/bz1sLmxlZnQ6bC5sZWZ0PW8sKGE9V2EodGhpcyxsLGksbikpLmhpdFNpZGUpYnJlYWt9cmV0dXJuIGF9LG1vdmVWOl9yKGZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPXRoaXMuZG9jLGk9W10sbz0hdGhpcy5kaXNwbGF5LnNoaWZ0JiYhci5leHRlbmQmJnIuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7aWYoci5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oYSl7aWYobylyZXR1cm4gZTwwP2EuZnJvbSgpOmEudG8oKTt2YXIgcz1ZbihuLGEuaGVhZCxcImRpdlwiKTtudWxsIT1hLmdvYWxDb2x1bW4mJihzLmxlZnQ9YS5nb2FsQ29sdW1uKSxpLnB1c2gocy5sZWZ0KTt2YXIgbD1XYShuLHMsZSx0KTtyZXR1cm5cInBhZ2VcIj09dCYmYT09ci5zZWwucHJpbWFyeSgpJiZrcihuLFpuKG4sbCxcImRpdlwiKS50b3Atcy50b3ApLGx9LFopLGkubGVuZ3RoKWZvcih2YXIgYT0wO2E8ci5zZWwucmFuZ2VzLmxlbmd0aDthKyspci5zZWwucmFuZ2VzW2FdLmdvYWxDb2x1bW49aVthXX0pLGZpbmRXb3JkQXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kb2Msbj1zZSh0LGUubGluZSkudGV4dCxyPWUuY2gsaT1lLmNoO2lmKG4pe3ZhciBvPXRoaXMuZ2V0SGVscGVyKGUsXCJ3b3JkQ2hhcnNcIik7XCJiZWZvcmVcIiE9ZS5zdGlja3kmJmkhPW4ubGVuZ3RofHwhcj8rK2k6LS1yO2Zvcih2YXIgYT1uLmNoYXJBdChyKSxzPXRlKGEsbyk/ZnVuY3Rpb24oZSl7cmV0dXJuIHRlKGUsbyl9Oi9cXHMvLnRlc3QoYSk/ZnVuY3Rpb24oZSl7cmV0dXJuL1xccy8udGVzdChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIS9cXHMvLnRlc3QoZSkmJiF0ZShlKX07cj4wJiZzKG4uY2hhckF0KHItMSkpOyktLXI7Zm9yKDtpPG4ubGVuZ3RoJiZzKG4uY2hhckF0KGkpKTspKytpfXJldHVybiBuZXcgYmkoZ2UoZS5saW5lLHIpLGdlKGUubGluZSxpKSl9LHRvZ2dsZU92ZXJ3cml0ZTpmdW5jdGlvbihlKXtudWxsIT1lJiZlPT10aGlzLnN0YXRlLm92ZXJ3cml0ZXx8KCh0aGlzLnN0YXRlLm92ZXJ3cml0ZT0hdGhpcy5zdGF0ZS5vdmVyd3JpdGUpP1AodGhpcy5kaXNwbGF5LmN1cnNvckRpdixcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpOk0odGhpcy5kaXNwbGF5LmN1cnNvckRpdixcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpLHJ0KHRoaXMsXCJvdmVyd3JpdGVUb2dnbGVcIix0aGlzLHRoaXMuc3RhdGUub3ZlcndyaXRlKSl9LGhhc0ZvY3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpPT1FKCl9LGlzUmVhZE9ubHk6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLm9wdGlvbnMucmVhZE9ubHkmJiF0aGlzLmRvYy5jYW50RWRpdCl9LHNjcm9sbFRvOl9yKGZ1bmN0aW9uKGUsdCl7TXIodGhpcyxlLHQpfSksZ2V0U2Nyb2xsSW5mbzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGlzcGxheS5zY3JvbGxlcjtyZXR1cm57bGVmdDplLnNjcm9sbExlZnQsdG9wOmUuc2Nyb2xsVG9wLGhlaWdodDplLnNjcm9sbEhlaWdodC1Jbih0aGlzKS10aGlzLmRpc3BsYXkuYmFySGVpZ2h0LHdpZHRoOmUuc2Nyb2xsV2lkdGgtSW4odGhpcyktdGhpcy5kaXNwbGF5LmJhcldpZHRoLGNsaWVudEhlaWdodDpTbih0aGlzKSxjbGllbnRXaWR0aDpNbih0aGlzKX19LHNjcm9sbEludG9WaWV3Ol9yKGZ1bmN0aW9uKGUsdCl7bnVsbD09ZT8oZT17ZnJvbTp0aGlzLmRvYy5zZWwucHJpbWFyeSgpLmhlYWQsdG86bnVsbH0sbnVsbD09dCYmKHQ9dGhpcy5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbikpOlwibnVtYmVyXCI9PXR5cGVvZiBlP2U9e2Zyb206Z2UoZSwwKSx0bzpudWxsfTpudWxsPT1lLmZyb20mJihlPXtmcm9tOmUsdG86bnVsbH0pLGUudG98fChlLnRvPWUuZnJvbSksZS5tYXJnaW49dHx8MCxudWxsIT1lLmZyb20ubGluZT9mdW5jdGlvbihlLHQpe1NyKGUpLGUuY3VyT3Auc2Nyb2xsVG9Qb3M9dH0odGhpcyxlKTpMcih0aGlzLGUuZnJvbSxlLnRvLGUubWFyZ2luKX0pLHNldFNpemU6X3IoZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV8fC9eXFxkKyQvLnRlc3QoU3RyaW5nKGUpKT9lK1wicHhcIjplfTtudWxsIT1lJiYodGhpcy5kaXNwbGF5LndyYXBwZXIuc3R5bGUud2lkdGg9cihlKSksbnVsbCE9dCYmKHRoaXMuZGlzcGxheS53cmFwcGVyLnN0eWxlLmhlaWdodD1yKHQpKSx0aGlzLm9wdGlvbnMubGluZVdyYXBwaW5nJiZGbih0aGlzKTt2YXIgaT10aGlzLmRpc3BsYXkudmlld0Zyb207dGhpcy5kb2MuaXRlcihpLHRoaXMuZGlzcGxheS52aWV3VG8sZnVuY3Rpb24oZSl7aWYoZS53aWRnZXRzKWZvcih2YXIgdD0wO3Q8ZS53aWRnZXRzLmxlbmd0aDt0KyspaWYoZS53aWRnZXRzW3RdLm5vSFNjcm9sbCl7cXIobixpLFwid2lkZ2V0XCIpO2JyZWFrfSsraX0pLHRoaXMuY3VyT3AuZm9yY2VVcGRhdGU9ITAscnQodGhpcyxcInJlZnJlc2hcIix0aGlzKX0pLG9wZXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gUXIodGhpcyxlKX0sc3RhcnRPcGVyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gQnIodGhpcyl9LGVuZE9wZXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiBqcih0aGlzKX0scmVmcmVzaDpfcihmdW5jdGlvbigpe3ZhciBlPXRoaXMuZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0O0pyKHRoaXMpLHRoaXMuY3VyT3AuZm9yY2VVcGRhdGU9ITAsSG4odGhpcyksTXIodGhpcyx0aGlzLmRvYy5zY3JvbGxMZWZ0LHRoaXMuZG9jLnNjcm9sbFRvcCksbGkodGhpcyksKG51bGw9PWV8fE1hdGguYWJzKGUtZXIodGhpcy5kaXNwbGF5KSk+LjUpJiZvcih0aGlzKSxydCh0aGlzLFwicmVmcmVzaFwiLHRoaXMpfSksc3dhcERvYzpfcihmdW5jdGlvbihlKXt2YXIgdD10aGlzLmRvYztyZXR1cm4gdC5jbT1udWxsLE9pKHRoaXMsZSksSG4odGhpcyksdGhpcy5kaXNwbGF5LmlucHV0LnJlc2V0KCksTXIodGhpcyxlLnNjcm9sbExlZnQsZS5zY3JvbGxUb3ApLHRoaXMuY3VyT3AuZm9yY2VTY3JvbGw9ITAsc24odGhpcyxcInN3YXBEb2NcIix0aGlzLHQpLHR9KSxwaHJhc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLnBocmFzZXM7cmV0dXJuIHQmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpP3RbZV06ZX0sZ2V0SW5wdXRGaWVsZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKX0sZ2V0V3JhcHBlckVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LndyYXBwZXJ9LGdldFNjcm9sbGVyRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuc2Nyb2xsZXJ9LGdldEd1dHRlckVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5Lmd1dHRlcnN9fSxzdChlKSxlLnJlZ2lzdGVySGVscGVyPWZ1bmN0aW9uKHQscixpKXtuLmhhc093blByb3BlcnR5KHQpfHwoblt0XT1lW3RdPXtfZ2xvYmFsOltdfSksblt0XVtyXT1pfSxlLnJlZ2lzdGVyR2xvYmFsSGVscGVyPWZ1bmN0aW9uKHQscixpLG8pe2UucmVnaXN0ZXJIZWxwZXIodCxyLG8pLG5bdF0uX2dsb2JhbC5wdXNoKHtwcmVkOmksdmFsOm99KX19KHhhKTt2YXIgR2E9XCJpdGVyIGluc2VydCByZW1vdmUgY29weSBnZXRFZGl0b3IgY29uc3RydWN0b3JcIi5zcGxpdChcIiBcIik7Zm9yKHZhciBWYSBpbiBNby5wcm90b3R5cGUpTW8ucHJvdG90eXBlLmhhc093blByb3BlcnR5KFZhKSYmQihHYSxWYSk8MCYmKHhhLnByb3RvdHlwZVtWYV09ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcy5kb2MsYXJndW1lbnRzKX19KE1vLnByb3RvdHlwZVtWYV0pKTtyZXR1cm4gc3QoTW8pLHhhLmlucHV0U3R5bGVzPXt0ZXh0YXJlYTpqYSxjb250ZW50ZWRpdGFibGU6UmF9LHhhLmRlZmluZU1vZGU9ZnVuY3Rpb24oZSl7eGEuZGVmYXVsdHMubW9kZXx8XCJudWxsXCI9PWV8fCh4YS5kZWZhdWx0cy5tb2RlPWUpLGZ1bmN0aW9uKGUsdCl7YXJndW1lbnRzLmxlbmd0aD4yJiYodC5kZXBlbmRlbmNpZXM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSx4dFtlXT10fS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHhhLmRlZmluZU1JTUU9ZnVuY3Rpb24oZSx0KXtrdFtlXT10fSx4YS5kZWZpbmVNb2RlKFwibnVsbFwiLGZ1bmN0aW9uKCl7cmV0dXJue3Rva2VuOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNraXBUb0VuZCgpfX19KSx4YS5kZWZpbmVNSU1FKFwidGV4dC9wbGFpblwiLFwibnVsbFwiKSx4YS5kZWZpbmVFeHRlbnNpb249ZnVuY3Rpb24oZSx0KXt4YS5wcm90b3R5cGVbZV09dH0seGEuZGVmaW5lRG9jRXh0ZW5zaW9uPWZ1bmN0aW9uKGUsdCl7TW8ucHJvdG90eXBlW2VdPXR9LHhhLmZyb21UZXh0QXJlYT1mdW5jdGlvbihlLHQpe2lmKCh0PXQ/eih0KTp7fSkudmFsdWU9ZS52YWx1ZSwhdC50YWJpbmRleCYmZS50YWJJbmRleCYmKHQudGFiaW5kZXg9ZS50YWJJbmRleCksIXQucGxhY2Vob2xkZXImJmUucGxhY2Vob2xkZXImJih0LnBsYWNlaG9sZGVyPWUucGxhY2Vob2xkZXIpLG51bGw9PXQuYXV0b2ZvY3VzKXt2YXIgbj1FKCk7dC5hdXRvZm9jdXM9bj09ZXx8bnVsbCE9ZS5nZXRBdHRyaWJ1dGUoXCJhdXRvZm9jdXNcIikmJm49PWRvY3VtZW50LmJvZHl9ZnVuY3Rpb24gcigpe2UudmFsdWU9cy5nZXRWYWx1ZSgpfXZhciBpO2lmKGUuZm9ybSYmKGV0KGUuZm9ybSxcInN1Ym1pdFwiLHIpLCF0LmxlYXZlU3VibWl0TWV0aG9kQWxvbmUpKXt2YXIgbz1lLmZvcm07aT1vLnN1Ym1pdDt0cnl7dmFyIGE9by5zdWJtaXQ9ZnVuY3Rpb24oKXtyKCksby5zdWJtaXQ9aSxvLnN1Ym1pdCgpLG8uc3VibWl0PWF9fWNhdGNoKGUpe319dC5maW5pc2hJbml0PWZ1bmN0aW9uKHQpe3Quc2F2ZT1yLHQuZ2V0VGV4dEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sdC50b1RleHRBcmVhPWZ1bmN0aW9uKCl7dC50b1RleHRBcmVhPWlzTmFOLHIoKSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5nZXRXcmFwcGVyRWxlbWVudCgpKSxlLnN0eWxlLmRpc3BsYXk9XCJcIixlLmZvcm0mJihudChlLmZvcm0sXCJzdWJtaXRcIixyKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZvcm0uc3VibWl0JiYoZS5mb3JtLnN1Ym1pdD1pKSl9fSxlLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIHM9eGEoZnVuY3Rpb24odCl7cmV0dXJuIGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlLm5leHRTaWJsaW5nKX0sdCk7cmV0dXJuIHN9LGZ1bmN0aW9uKGUpe2Uub2ZmPW50LGUub249ZXQsZS53aGVlbEV2ZW50UGl4ZWxzPWdpLGUuRG9jPU1vLGUuc3BsaXRMaW5lcz15dCxlLmNvdW50Q29sdW1uPUYsZS5maW5kQ29sdW1uPVksZS5pc1dvcmRDaGFyPWVlLGUuUGFzcz1HLGUuc2lnbmFsPXJ0LGUuTGluZT1adCxlLmNoYW5nZUVuZD13aSxlLnNjcm9sbGJhck1vZGVsPXpyLGUuUG9zPWdlLGUuY21wUG9zPXZlLGUubW9kZXM9eHQsZS5taW1lTW9kZXM9a3QsZS5yZXNvbHZlTW9kZT1JdCxlLmdldE1vZGU9TXQsZS5tb2RlRXh0ZW5zaW9ucz1TdCxlLmV4dGVuZE1vZGU9THQsZS5jb3B5U3RhdGU9VHQsZS5zdGFydFN0YXRlPU50LGUuaW5uZXJNb2RlPU90LGUuY29tbWFuZHM9S28sZS5rZXlNYXA9Rm8sZS5rZXlOYW1lPVVvLGUuaXNNb2RpZmllcktleT1HbyxlLmxvb2t1cEtleT1qbyxlLm5vcm1hbGl6ZUtleU1hcD1CbyxlLlN0cmluZ1N0cmVhbT1FdCxlLlNoYXJlZFRleHRNYXJrZXI9Q28sZS5UZXh0TWFya2VyPUFvLGUuTGluZVdpZGdldD1tbyxlLmVfcHJldmVudERlZmF1bHQ9bHQsZS5lX3N0b3BQcm9wYWdhdGlvbj11dCxlLmVfc3RvcD1odCxlLmFkZENsYXNzPVAsZS5jb250YWlucz1OLGUucm1DbGFzcz1NLGUua2V5TmFtZXM9RG99KHhhKSx4YS52ZXJzaW9uPVwiNS40Mi4wXCIseGF9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCk7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dC5lbHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKSxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoO24ubGVuZ3RoOyl7dmFyIHI9bi5zaGlmdCgpO2EodCxyKX1yZXR1cm4gdH07dC5FdmVudHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7byh0aGlzLGUpLHRoaXMuY2FjaGU9e319cmV0dXJuIGkoZSxbe2tleTpcInB1Ymxpc2hcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7aWYodGhpcy5jYWNoZVtlXSlmb3IodmFyIHI9dGhpcy5jYWNoZVtlXSxpPXIubGVuZ3RoO2ktLTspcltpXS5hcHBseShufHx0aGlzLHR8fFtdKX19LHtrZXk6XCJzdWJzY3JpYmVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhY2hlW2VdfHwodGhpcy5jYWNoZVtlXT1bXSksdGhpcy5jYWNoZVtlXS5wdXNoKHQpLFtlLHRdfX0se2tleTpcInVuc3Vic2NyaWJlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzBdO2lmKHRoaXMuY2FjaGVbbl0pZm9yKHZhciByPXRoaXMuY2FjaGVbbl0ubGVuZ3RoO3ItLTspaWYodGhpcy5jYWNoZVtuXVtyXT09PWVbMV0pcmV0dXJuIHRoaXMuY2FjaGVbbl0uc3BsaWNlKHIsMSksdCYmZGVsZXRlIHRoaXMuY2FjaGVbbl0sITA7cmV0dXJuITF9fSx7a2V5OlwidW5zdWJzY3JpYmVBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2FjaGU9e319fV0pLGV9KCksdC5FdmVudE1hbmFnZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2lmKG8odGhpcyxlKSwhdClyZXR1cm4hMTt0aGlzLnBhcmVudD10LnBhcmVudCx0aGlzLmNhY2hlPXt9LHRoaXMuYXBwSURBdHRyPVwiZGF0YS1hcHAtZWwtaWRcIn1yZXR1cm4gaShlLFt7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldEF0dHJpYnV0ZSh0aGlzLmFwcElEQXR0cil8fGUuZ2V0QXR0cmlidXRlKFwiaWRcIik7cnx8KHI9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguZmxvb3IoKDErTWF0aC5yYW5kb20oKSkqTWF0aC5wb3coMTYsZSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9KDE2KSxlLnNldEF0dHJpYnV0ZSh0aGlzLmFwcElEQXR0cixyKSksciBpbiB0aGlzLmNhY2hlfHwodGhpcy5jYWNoZVtyXT17fSk7dmFyIGk9dGhpcy5jYWNoZVtyXTt0IGluIGl8fChpW3RdPVtdKTt2YXIgbz1pW3RdLGE9bi5iaW5kKHRoaXMucGFyZW50KTtvLnB1c2goYSksZS5hZGRFdmVudExpc3RlbmVyKHQsYSl9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldEF0dHJpYnV0ZSh0aGlzLmFwcElEQXR0cil8fGUuZ2V0QXR0cmlidXRlKFwiaWRcIik7aWYobiYmbiBpbiB0aGlzLmNhY2hlJiZ0IGluIHRoaXMuY2FjaGVbbl0pe3ZhciByPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxzPXRoaXMuY2FjaGVbbl1bdF1bU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIGw9YS52YWx1ZTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxsKX19Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX19fX0se2tleTpcInVuYmluZEFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuY2FjaGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKHR8fCh0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIqW1wiK3RoaXMuYXBwSURBdHRyK1wiPSdcIitlK1wiJ11cIikpLHQpZm9yKHZhciBuIGluIHRoaXMuY2FjaGVbZV0pe3ZhciByPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxzPXRoaXMuY2FjaGVbZV1bbl1bU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1zLm5leHQoKSkuZG9uZSk7cj0hMCl7dmFyIGw9YS52YWx1ZTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIobixsKX19Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX19fX19XSksZX0oKTtmdW5jdGlvbiBhKGUsdCl7aWYobnVsbCE9dClpZihcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCllLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSllLmFwcGVuZENoaWxkKHQpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgbj10Lmxlbmd0aCxpPTA7aTxuO2krKylhKGUsdFtpXSk7ZWxzZSFmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihcInN0eWxlXCI9PT1uP3MoZSx0LnN0eWxlKTplLnNldEF0dHJpYnV0ZShuLHRbbl0pKX0oZSx0KX1mdW5jdGlvbiBzKGUsdCl7aWYodClpZihcIm9iamVjdFwiPT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKSlmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZS5zdHlsZVtuXT10W25dKTtlbHNlIGUuc3R5bGUuY3NzVGV4dD10fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzFdfHxcIlwiLHI9ZVszXTtpZighcilyZXR1cm4gbjtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlKSkpKStcIiAqL1wifShyKSxvPXIuc291cmNlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK3Iuc291cmNlUm9vdCtlK1wiICovXCJ9KTtyZXR1cm5bbl0uY29uY2F0KG8pLmNvbmNhdChbaV0pLmpvaW4oXCJcXG5cIil9cmV0dXJuW25dLmpvaW4oXCJcXG5cIil9KHQsZSk7cmV0dXJuIHRbMl0/XCJAbWVkaWEgXCIrdFsyXStcIntcIituK1wifVwiOm59KS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxuKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTtmb3IodmFyIHI9e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYocltvXT0hMCl9Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIGE9ZVtpXTtcIm51bWJlclwiPT10eXBlb2YgYVswXSYmclthWzBdXXx8KG4mJiFhWzJdP2FbMl09bjpuJiYoYVsyXT1cIihcIithWzJdK1wiKSBhbmQgKFwiK24rXCIpXCIpLHQucHVzaChhKSl9fSx0fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9LGk9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0fX0oZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2J9KSxvPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGUoKTtpZih2b2lkIDA9PT10W2VdKXt2YXIgcj1mdW5jdGlvbihlLHQpe3JldHVybiB0P3QucXVlcnlTZWxlY3RvcihlKTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpfS5jYWxsKHRoaXMsZSxuKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJnIgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e3I9ci5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaChlKXtyPW51bGx9dFtlXT1yfXJldHVybiB0W2VdfX0oKSxhPW51bGwscz0wLGw9W10sdT1uKDIxKTtmdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0sbz1yW2kuaWRdO2lmKG8pe28ucmVmcysrO2Zvcih2YXIgYT0wO2E8by5wYXJ0cy5sZW5ndGg7YSsrKW8ucGFydHNbYV0oaS5wYXJ0c1thXSk7Zm9yKDthPGkucGFydHMubGVuZ3RoO2ErKylvLnBhcnRzLnB1c2godihpLnBhcnRzW2FdLHQpKX1lbHNle3ZhciBzPVtdO2ZvcihhPTA7YTxpLnBhcnRzLmxlbmd0aDthKyspcy5wdXNoKHYoaS5wYXJ0c1thXSx0KSk7cltpLmlkXT17aWQ6aS5pZCxyZWZzOjEscGFydHM6c319fX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciBuPVtdLHI9e30saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldLGE9dC5iYXNlP29bMF0rdC5iYXNlOm9bMF0scz17Y3NzOm9bMV0sbWVkaWE6b1syXSxzb3VyY2VNYXA6b1szXX07clthXT9yW2FdLnBhcnRzLnB1c2gocyk6bi5wdXNoKHJbYV09e2lkOmEscGFydHM6W3NdfSl9cmV0dXJuIG59ZnVuY3Rpb24gZChlLHQpe3ZhciBuPW8oZS5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTt2YXIgcj1sW2wubGVuZ3RoLTFdO2lmKFwidG9wXCI9PT1lLmluc2VydEF0KXI/ci5uZXh0U2libGluZz9uLmluc2VydEJlZm9yZSh0LHIubmV4dFNpYmxpbmcpOm4uYXBwZW5kQ2hpbGQodCk6bi5pbnNlcnRCZWZvcmUodCxuLmZpcnN0Q2hpbGQpLGwucHVzaCh0KTtlbHNlIGlmKFwiYm90dG9tXCI9PT1lLmluc2VydEF0KW4uYXBwZW5kQ2hpbGQodCk7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5pbnNlcnRBdHx8IWUuaW5zZXJ0QXQuYmVmb3JlKXRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO3ZhciBpPW8oZS5pbnNlcnRBdC5iZWZvcmUsbik7bi5pbnNlcnRCZWZvcmUodCxpKX19ZnVuY3Rpb24gZihlKXtpZihudWxsPT09ZS5wYXJlbnROb2RlKXJldHVybiExO2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTt2YXIgdD1sLmluZGV4T2YoZSk7dD49MCYmbC5zcGxpY2UodCwxKX1mdW5jdGlvbiBwKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtpZih2b2lkIDA9PT1lLmF0dHJzLnR5cGUmJihlLmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiKSx2b2lkIDA9PT1lLmF0dHJzLm5vbmNlKXt2YXIgcj1mdW5jdGlvbigpezA7cmV0dXJuIG4ubmN9KCk7ciYmKGUuYXR0cnMubm9uY2U9cil9cmV0dXJuIGcodCxlLmF0dHJzKSxkKGUsdCksdH1mdW5jdGlvbiBnKGUsdCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXtlLnNldEF0dHJpYnV0ZShuLHRbbl0pfSl9ZnVuY3Rpb24gdihlLHQpe3ZhciBuLHIsaSxvO2lmKHQudHJhbnNmb3JtJiZlLmNzcyl7aWYoIShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJhbnNmb3JtP3QudHJhbnNmb3JtKGUuY3NzKTp0LnRyYW5zZm9ybS5kZWZhdWx0KGUuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTtlLmNzcz1vfWlmKHQuc2luZ2xldG9uKXt2YXIgbD1zKys7bj1hfHwoYT1wKHQpKSxyPWIuYmluZChudWxsLG4sbCwhMSksaT1iLmJpbmQobnVsbCxuLGwsITApfWVsc2UgZS5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksZS5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsZyh0LGUuYXR0cnMpLGQoZSx0KSx0fSh0KSxyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLmNzcyxpPW4uc291cmNlTWFwLG89dm9pZCAwPT09dC5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJmk7KHQuY29udmVydFRvQWJzb2x1dGVVcmxzfHxvKSYmKHI9dShyKSk7aSYmKHIrPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkpKStcIiAqL1wiKTt2YXIgYT1uZXcgQmxvYihbcl0se3R5cGU6XCJ0ZXh0L2Nzc1wifSkscz1lLmhyZWY7ZS5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYSkscyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX0uYmluZChudWxsLG4sdCksaT1mdW5jdGlvbigpe2Yobiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj1wKHQpLHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmNzcyxyPXQubWVkaWE7ciYmZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLHIpO2lmKGUuc3R5bGVTaGVldCllLnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19LmJpbmQobnVsbCxuKSxpPWZ1bmN0aW9uKCl7ZihuKX0pO3JldHVybiByKGUpLGZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuY3NzPT09ZS5jc3MmJnQubWVkaWE9PT1lLm1lZGlhJiZ0LnNvdXJjZU1hcD09PWUuc291cmNlTWFwKXJldHVybjtyKGU9dCl9ZWxzZSBpKCl9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBERUJVRyYmREVCVUcmJlwib2JqZWN0XCIhPXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7KHQ9dHx8e30pLmF0dHJzPVwib2JqZWN0XCI9PXR5cGVvZiB0LmF0dHJzP3QuYXR0cnM6e30sdC5zaW5nbGV0b258fFwiYm9vbGVhblwiPT10eXBlb2YgdC5zaW5nbGV0b258fCh0LnNpbmdsZXRvbj1pKCkpLHQuaW5zZXJ0SW50b3x8KHQuaW5zZXJ0SW50bz1cImhlYWRcIiksdC5pbnNlcnRBdHx8KHQuaW5zZXJ0QXQ9XCJib3R0b21cIik7dmFyIG49aChlLHQpO3JldHVybiBjKG4sdCksZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTsocz1yW2EuaWRdKS5yZWZzLS0saS5wdXNoKHMpfWUmJmMoaChlLHQpLHQpO2ZvcihvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzO2lmKDA9PT0ocz1pW29dKS5yZWZzKXtmb3IodmFyIGw9MDtsPHMucGFydHMubGVuZ3RoO2wrKylzLnBhcnRzW2xdKCk7ZGVsZXRlIHJbcy5pZF19fX19O3ZhciBtPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIGVbdF09bixlLmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfX0oKTtmdW5jdGlvbiBiKGUsdCxuLHIpe3ZhciBpPW4/XCJcIjpyLmNzcztpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9bSh0LGkpO2Vsc2V7dmFyIG89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaSksYT1lLmNoaWxkTm9kZXM7YVt0XSYmZS5yZW1vdmVDaGlsZChhW3RdKSxhLmxlbmd0aD9lLmluc2VydEJlZm9yZShvLGFbdF0pOmUuYXBwZW5kQ2hpbGQobyl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuQXBwPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLGk9big1KSxvPW4oMTQpLGE9bigxNSkscz1uKDEpLGw9KG4oNiksbig5KSksdT1uKDEwKSxjPW4oMTgpO24oMzgpO3QuQXBwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe2lmKGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7ZG9jdW1lbnRWaWV3TWFyZ2luOjEwMCxkb2N1bWVudFZpZXdQYWdlQm9yZGVyOjEsZG9jdW1lbnRWaWV3U1ZHOiExLGVuYWJsZURvY3VtZW50OiEwLGVuYWJsZUVkaXRvcjohMCxlbmFibGVSZXNwb25zaXZlOiEwLGRlZmF1bHRWaWV3OlwicmVzcG9uc2l2ZVwifSxuKSwhKHQmJnQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkpdGhyb3dcIkFsbCBBcHAgb2JqZWN0cyBtdXN0IGJlIGluaXRpYWxpemVkIHdpdGggYSAnZWxlbWVudCcgcGFyYW1ldGVyIHRoYXQgaXMgYSBIVE1MRGl2RWxlbWVudCBlbGVtZW50LlwiO2Zvcih0aGlzLmVsZW1lbnQ9dCx0aGlzLnpvb21MZXZlbHM9WzUsMTAsMjAsMzUsNzUsMTAwLDE1MCwyMDBdO3RoaXMuZWxlbWVudC5maXJzdENoaWxkOyl0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZC5yZW1vdmUoKTt0aGlzLmV2ZW50TWFuYWdlcj1uZXcgcy5FdmVudE1hbmFnZXIoe3BhcmVudDp0aGlzfSksdGhpcy5ldmVudHM9bmV3IHMuRXZlbnRzLHRoaXMudWk9e30sdGhpcy51aS53cmFwcGVyPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS13cmFwcGVyXCJ9KSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy51aS53cmFwcGVyKSx0aGlzLmNyZWF0ZVRvb2xiYXIoKSx0aGlzLnVpLnZpZXdzPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS12aWV3c1wifSksdGhpcy51aS53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudWkudmlld3MpLHRoaXMudWkueG1sPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS14bWxcIn0pLHRoaXMudWkud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLnVpLnhtbCksdGhpcy51cGRhdGVEaW1lbnNpb25zKCExKSx0aGlzLnVpLmxvYWRlcj0oMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktbG9hZGluZ1wifSksdGhpcy51aS52aWV3cy5hcHBlbmRDaGlsZCh0aGlzLnVpLmxvYWRlciksdGhpcy51aS5sb2FkZXIudGV4dD0oMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktbG9hZGluZy10ZXh0XCJ9KSx0aGlzLnVpLmxvYWRlci5hcHBlbmRDaGlsZCh0aGlzLnVpLmxvYWRlci50ZXh0KSx0aGlzLmNvbnRyb2xsZXI9bnVsbCx0aGlzLnZhbGlkYXRvcj1udWxsLHRoaXMucmVzaXplVGltZXIsd2luZG93Lm9ucmVzaXplPXRoaXMub25SZXNpemUuYmluZCh0aGlzKSx0aGlzLmNyZWF0ZUNvbnRyb2xsZXIoKX1yZXR1cm4gcihlLFt7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ldmVudE1hbmFnZXIudW5iaW5kQWxsKCksdGhpcy5ldmVudHMudW5zdWJzY3JpYmVBbGwoKX19LHtrZXk6XCJjb250cm9sbGVyTG9hZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jcmVhdGVWYWxpZGF0b3IoKX19LHtrZXk6XCJ2YWxpZGF0b3JMb2FkQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmxvYWRTY2hlbWEoKX19LHtrZXk6XCJ2YWxpZGF0b3JTZXRTY2hlbWFDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY3JlYXRlVmlld3MoKX19LHtrZXk6XCJsb2FkRGF0YUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy52aWV3LmxvYWREYXRhQ2FsbGJhY2soZSksdGhpcy54bWxFZGl0b3ImJnRoaXMueG1sRWRpdG9yLnNldERhdGEodGhpcy5tZWkpfX0se2tleTpcImNyZWF0ZUNvbnRyb2xsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhcnRMb2FkaW5nKFwiTG9hZGluZyBWZXJvdmlvIC4uLlwiKSx0aGlzLmNvbnRyb2xsZXI9bmV3IGkuQ29udHJvbGxlcih0aGlzLHRoaXMuY29udHJvbGxlckxvYWRDYWxsYmFjayx0aGlzLm9wdGlvbnMpfX0se2tleTpcImNyZWF0ZVZhbGlkYXRvclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGFydExvYWRpbmcoXCJMb2FkaW5nIHRoZSBYTUwgdmFsaWRhdG9yIC4uLlwiKSx0aGlzLnZhbGlkYXRvcj1uZXcgdS5WYWxpZGF0b3IodGhpcyx0aGlzLnZhbGlkYXRvckxvYWRDYWxsYmFjayx0aGlzLm9wdGlvbnMpfX0se2tleTpcImNyZWF0ZVZpZXdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXJ0TG9hZGluZyhcIkxvYWRpbmcgdGhlIHZpZXdzIC4uLlwiKSx0aGlzLnZpZXc9bnVsbCx0aGlzLm9wdGlvbnMuZW5hYmxlRG9jdW1lbnQmJih0aGlzLnVpLnZpZXcxPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS12aWV3XCJ9KSx0aGlzLnVpLnZpZXdzLmFwcGVuZENoaWxkKHRoaXMudWkudmlldzEpLHRoaXMudmlld0RvY3VtZW50PW5ldyBvLkRvY3VtZW50Vmlldyh0aGlzLnVpLnZpZXcxLHRoaXMuY29udHJvbGxlcix0aGlzLm9wdGlvbnMpLFwiZG9jdW1lbnRcIj09PXRoaXMub3B0aW9ucy5kZWZhdWx0VmlldyYmKHRoaXMudmlldz10aGlzLnZpZXdEb2N1bWVudCkpLHRoaXMub3B0aW9ucy5lbmFibGVFZGl0b3ImJih0aGlzLnVpLnZpZXcyPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS12aWV3XCJ9KSx0aGlzLnVpLnZpZXdzLmFwcGVuZENoaWxkKHRoaXMudWkudmlldzIpLHRoaXMudmlld0VkaXRvcj1uZXcgYS5FZGl0b3JWaWV3KHRoaXMudWkudmlldzIsdGhpcy5jb250cm9sbGVyLHRoaXMub3B0aW9ucyksXCJlZGl0b3JcIj09PXRoaXMub3B0aW9ucy5kZWZhdWx0VmlldyYmKHRoaXMudmlldz10aGlzLnZpZXdFZGl0b3IpKSx0aGlzLm9wdGlvbnMuZW5hYmxlUmVzcG9uc2l2ZSYmKHRoaXMudWkudmlldzM9KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLXZpZXdcIn0pLHRoaXMudWkudmlld3MuYXBwZW5kQ2hpbGQodGhpcy51aS52aWV3MyksdGhpcy52aWV3UmVzcG9uc2l2ZT1uZXcgbC5SZXNwb25zaXZlVmlldyh0aGlzLnVpLnZpZXczLHRoaXMuY29udHJvbGxlcix0aGlzLm9wdGlvbnMpLFwicmVzcG9uc2l2ZVwiPT09dGhpcy5vcHRpb25zLmRlZmF1bHRWaWV3JiYodGhpcy52aWV3PXRoaXMudmlld1Jlc3BvbnNpdmUpKSwhdGhpcy52aWV3KXRocm93XCJObyB2aWV3IGVuYWJsZWQgb3IgdW5rbm93biBkZWZhdWx0IHZpZXcgJ1wiK3RoaXMub3B0aW9ucy5kZWZhdWx0VmlldytcIicgc2VsZWN0ZWQuXCI7dGhpcy54bWxFZGl0b3I9bmV3IGMuWE1MRWRpdG9yKHRoaXMudWkueG1sLHRoaXMudmFsaWRhdG9yLHRoaXMub3B0aW9ucyksdGhpcy54bWxFZGl0b3IuQ01lZGl0b3Iub3B0aW9ucy5oaW50T3B0aW9ucy5zY2hlbWFJbmZvPXRoaXMudmFsaWRhdG9yLnJuZy50YWdzLHRoaXMudXBkYXRlRGltZW5zaW9ucyghMSksdGhpcy5lbmRMb2FkaW5nKCksdGhpcy52aWV3LmFjdGl2YXRlKCksdGhpcy52aWV3PT10aGlzLnZpZXdFZGl0b3ImJnRoaXMueG1sRWRpdG9yLmFjdGl2YXRlKCksdGhpcy51cGRhdGVEaW1lbnNpb25zKCksdGhpcy51cGRhdGVUb29sYmFyKCksdGhpcy5tZWkmJnRoaXMubG9hZE1FSSgpfX0se2tleTpcImNyZWF0ZVRvb2xiYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudWkudG9vbGJhcj0oMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktdG9vbGJhclwifSksdGhpcy51aS53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudWkudG9vbGJhcik7dmFyIGU9KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLXN1Ym1lbnVcIn0pO3RoaXMudWkudG9vbGJhci5hcHBlbmRDaGlsZChlKSx0aGlzLnVpLnZpZXdTZWxlY3Rvcj0oMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktYnRuLXZpZXctc2VsZWN0b3JcIn0pLGUuYXBwZW5kQ2hpbGQodGhpcy51aS52aWV3U2VsZWN0b3IpO3ZhciB0PSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1zdWJtZW51LWNvbnRlbnRcIn0pO2UuYXBwZW5kQ2hpbGQodCksdGhpcy51aS52aWV3RG9jdW1lbnQ9KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLWJ0bi12aWV3LWRvY3VtZW50XCJ9KSx0aGlzLnVpLnZpZXdEb2N1bWVudC5kYXRhc2V0LnZpZXc9XCJkb2N1bWVudFwiLHQuYXBwZW5kQ2hpbGQodGhpcy51aS52aWV3RG9jdW1lbnQpLHRoaXMudWkudmlld1Jlc3BvbnNpdmU9KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLWJ0bi12aWV3LXJlc3BvbnNpdmVcIn0pLHRoaXMudWkudmlld1Jlc3BvbnNpdmUuZGF0YXNldC52aWV3PVwicmVzcG9uc2l2ZVwiLHQuYXBwZW5kQ2hpbGQodGhpcy51aS52aWV3UmVzcG9uc2l2ZSksdGhpcy51aS52aWV3RWRpdG9yPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1idG4tdmlldy1lZGl0b3JcIn0pLHRoaXMudWkudmlld0VkaXRvci5kYXRhc2V0LnZpZXc9XCJlZGl0b3JcIix0LmFwcGVuZENoaWxkKHRoaXMudWkudmlld0VkaXRvciksdGhpcy51aS5wYWdlQ29udHJvbHM9KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLWJ0bi1ncm91cFwifSksdGhpcy51aS50b29sYmFyLmFwcGVuZENoaWxkKHRoaXMudWkucGFnZUNvbnRyb2xzKSx0aGlzLnVpLnBhZ2VDb250cm9scy5hcHBlbmRDaGlsZCgoMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktc2VwYXJhdG9yXCJ9KSksdGhpcy51aS5wcmV2UGFnZT0oMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktYnRuLXByZXZpb3VzXCJ9KSx0aGlzLnVpLnBhZ2VDb250cm9scy5hcHBlbmRDaGlsZCh0aGlzLnVpLnByZXZQYWdlKSx0aGlzLnVpLm5leHRQYWdlPSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1idG4tbmV4dFwifSksdGhpcy51aS5wYWdlQ29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy51aS5uZXh0UGFnZSksdGhpcy51aS56b29tQ29udHJvbHM9KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLWJ0bi1ncm91cFwifSksdGhpcy51aS50b29sYmFyLmFwcGVuZENoaWxkKHRoaXMudWkuem9vbUNvbnRyb2xzKSx0aGlzLnVpLnpvb21Db250cm9scy5hcHBlbmRDaGlsZCgoMCxzLmVsdCkoXCJkaXZcIix7Y2xhc3M6XCJ2cnYtdWktc2VwYXJhdG9yXCJ9KSksdGhpcy51aS56b29tT3V0PSgwLHMuZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1idG4tem9vbS1vdXRcIn0pLHRoaXMudWkuem9vbUNvbnRyb2xzLmFwcGVuZENoaWxkKHRoaXMudWkuem9vbU91dCksdGhpcy51aS56b29tSW49KDAscy5lbHQpKFwiZGl2XCIse2NsYXNzOlwidnJ2LXVpLWJ0bi16b29tLWluXCJ9KSx0aGlzLnVpLnpvb21Db250cm9scy5hcHBlbmRDaGlsZCh0aGlzLnVpLnpvb21JbiksdGhpcy5ldmVudE1hbmFnZXIuYmluZCh0aGlzLnVpLnByZXZQYWdlLFwiY2xpY2tcIix0aGlzLnByZXZQYWdlKSx0aGlzLmV2ZW50TWFuYWdlci5iaW5kKHRoaXMudWkubmV4dFBhZ2UsXCJjbGlja1wiLHRoaXMubmV4dFBhZ2UpLHRoaXMuZXZlbnRNYW5hZ2VyLmJpbmQodGhpcy51aS56b29tT3V0LFwiY2xpY2tcIix0aGlzLnpvb21PdXQpLHRoaXMuZXZlbnRNYW5hZ2VyLmJpbmQodGhpcy51aS56b29tSW4sXCJjbGlja1wiLHRoaXMuem9vbUluKSx0aGlzLmV2ZW50TWFuYWdlci5iaW5kKHRoaXMudWkudmlld0RvY3VtZW50LFwiY2xpY2tcIix0aGlzLnNldFZpZXcpLHRoaXMuZXZlbnRNYW5hZ2VyLmJpbmQodGhpcy51aS52aWV3UmVzcG9uc2l2ZSxcImNsaWNrXCIsdGhpcy5zZXRWaWV3KSx0aGlzLmV2ZW50TWFuYWdlci5iaW5kKHRoaXMudWkudmlld0VkaXRvcixcImNsaWNrXCIsdGhpcy5zZXRWaWV3KX19LHtrZXk6XCJ1cGRhdGVEaW1lbnNpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdLHQ9d2luZG93LmlubmVySGVpZ2h0LXRoaXMudWkudmlld3Mub2Zmc2V0VG9wO3RoaXMudmlldyYmdGhpcy52aWV3PT09dGhpcy52aWV3RWRpdG9yPyh0aGlzLnVpLnZpZXdzLnN0eWxlLmhlaWdodD10LzIrXCJweFwiLHRoaXMudWkueG1sLnN0eWxlLmhlaWdodD10LzIrXCJweFwiLHRoaXMudWkueG1sLnN0eWxlLnRvcD10aGlzLnVpLnZpZXdzLm9mZnNldFRvcCt0LzItMitcInB4XCIsdGhpcy51aS54bWwuc3R5bGUud2lkdGg9dGhpcy5lbGVtZW50LmNsaWVudFdpZHRoK1wicHhcIik6dGhpcy51aS52aWV3cy5zdHlsZS5oZWlnaHQ9dCtcInB4XCIsdGhpcy51aS52aWV3cy5zdHlsZS53aWR0aD10aGlzLmVsZW1lbnQuY2xpZW50V2lkdGgrXCJweFwiLGUmJih0aGlzLnZpZXcmJnRoaXMudmlldy5vblJlc2l6ZSgpLHRoaXMueG1sRWRpdG9yJiZ0aGlzLnhtbEVkaXRvci5vblJlc2l6ZSgpKX19LHtrZXk6XCJ1cGRhdGVUb29sYmFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVRvb2xiYXJCdG4odGhpcy51aS5wcmV2UGFnZSx0aGlzLnZpZXcuY3VycmVudFBhZ2U+MSksdGhpcy51cGRhdGVUb29sYmFyQnRuKHRoaXMudWkubmV4dFBhZ2UsdGhpcy52aWV3LmN1cnJlbnRQYWdlPHRoaXMuY29udHJvbGxlci5wYWdlQ291bnQpLHRoaXMudXBkYXRlVG9vbGJhckJ0bih0aGlzLnVpLnpvb21PdXQsdGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudD4wJiZ0aGlzLnZpZXcuY3VycmVudFpvb21JbmRleD4wKSx0aGlzLnVwZGF0ZVRvb2xiYXJCdG4odGhpcy51aS56b29tSW4sdGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudD4wJiZ0aGlzLnZpZXcuY3VycmVudFpvb21JbmRleDx0aGlzLnpvb21MZXZlbHMubGVuZ3RoLTEpLHRoaXMudWkucGFnZUNvbnRyb2xzLnN0eWxlLmRpc3BsYXk9dGhpcy52aWV3IGluc3RhbmNlb2Ygby5Eb2N1bWVudFZpZXc/XCJub25lXCI6XCJibG9ja1wiLHRoaXMudXBkYXRlVG9vbGJhclN1Ym1lbnVCdG4odGhpcy51aS52aWV3RG9jdW1lbnQsdGhpcy52aWV3IGluc3RhbmNlb2Ygby5Eb2N1bWVudFZpZXcpLHRoaXMudXBkYXRlVG9vbGJhclN1Ym1lbnVCdG4odGhpcy51aS52aWV3RWRpdG9yLHRoaXMudmlldyBpbnN0YW5jZW9mIGEuRWRpdG9yVmlldyksdGhpcy51cGRhdGVUb29sYmFyU3VibWVudUJ0bih0aGlzLnVpLnZpZXdSZXNwb25zaXZlLHRoaXMudmlldyBpbnN0YW5jZW9mIGwuUmVzcG9uc2l2ZVZpZXcmJiEodGhpcy52aWV3IGluc3RhbmNlb2YgYS5FZGl0b3JWaWV3KSl9fSx7a2V5OlwidXBkYXRlVG9vbGJhckJ0blwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dD9lLmNsYXNzTGlzdC5yZW1vdmUoXCJ2cnYtdWktYnRuLWRpc2FibGVkXCIpOmUuY2xhc3NMaXN0LmFkZChcInZydi11aS1idG4tZGlzYWJsZWRcIil9fSx7a2V5OlwidXBkYXRlVG9vbGJhclN1Ym1lbnVCdG5cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3Q/ZS5jbGFzc0xpc3QuYWRkKFwidnJ2LXVpLWJ0bi1jaGVja2VkXCIpOmUuY2xhc3NMaXN0LnJlbW92ZShcInZydi11aS1idG4tY2hlY2tlZFwiKX19LHtrZXk6XCJvblJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpO3ZhciBlPXRoaXM7dGhpcy5yZXNpemVUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS51cGRhdGVEaW1lbnNpb25zKCl9LDIwMCl9fSx7a2V5OlwibG9hZFNjaGVtYVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGFydExvYWRpbmcoXCJMb2FkaW5nIHRoZSBNRUkgU2NoZW1hIC4uLlwiKSx0aGlzLnZhbGlkYXRvci5zZXRSZWxheE5HU2NoZW1hVVJJKFwiaHR0cHM6Ly9tdXNpYy1lbmNvZGluZy5vcmcvc2NoZW1hLzQuMC4wL21laS1hbGwucm5nXCIsdGhpcy52YWxpZGF0b3JTZXRTY2hlbWFDYWxsYmFjayl9fSx7a2V5OlwibG9hZE1FSVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGFydExvYWRpbmcoXCJMb2FkaW5nIHRoZSBNRUkgZGF0YSAuLi5cIiksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJsb2FkRGF0YVwiLHttZWk6dGhpcy5tZWkrXCJcXG5cIn0sLTEsdGhpcy5sb2FkRGF0YUNhbGxiYWNrKX19LHtrZXk6XCJsb2FkRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubWVpPWV9fSx7a2V5OlwidXBkYXRlRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5tZWk9ZSx0PT10aGlzLmNvbnRyb2xsZXI/KHRoaXMueG1sRWRpdG9yLnNldERhdGEodGhpcy5tZWkpLHRoaXMueG1sRWRpdG9yLnNldEN1cnJlbnQodGhpcy52aWV3LmN1cnJlbnRJZCkpOnQ9PXRoaXMueG1sRWRpdG9yJiZ0aGlzLmNvbnRyb2xsZXIuc2VuZChcImxvYWREYXRhXCIse21laTp0aGlzLm1laStcIlxcblwifSx0aGlzLnZpZXcudmlld0luZGV4LHRoaXMudmlldy5sb2FkRGF0YUNhbGxiYWNrKX19LHtrZXk6XCJ1cGRhdGVDdXJyZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0PT10aGlzLmNvbnRyb2xsZXI/dGhpcy54bWxFZGl0b3Iuc2V0Q3VycmVudChlKTp0PT10aGlzLnhtbEVkaXRvciYmdGhpcy52aWV3LnNldEN1cnJlbnQoZSl9fSx7a2V5Olwic3RhcnRMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy51aS52aWV3cy5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMudWkubG9hZGVyLnN0eWxlLmRpc3BsYXk9XCJmbGV4XCIsdGhpcy51aS5sb2FkZXIudGV4dC5pbm5lckhUTUw9ZX19LHtrZXk6XCJlbmRMb2FkaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVpLnZpZXdzLnN0eWxlLm92ZXJmbG93PVwic2Nyb2xsXCIsdGhpcy51aS5sb2FkZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19LHtrZXk6XCJwcmV2UGFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy52aWV3LmN1cnJlbnRQYWdlPjEmJih0aGlzLnZpZXcuY3VycmVudFBhZ2UtPTEsdGhpcy51cGRhdGVUb29sYmFyKCksdGhpcy52aWV3LnVwZGF0ZVBhZ2UoKSl9fSx7a2V5OlwibmV4dFBhZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlldy5jdXJyZW50UGFnZTx0aGlzLmNvbnRyb2xsZXIucGFnZUNvdW50JiYodGhpcy52aWV3LmN1cnJlbnRQYWdlKz0xLHRoaXMudXBkYXRlVG9vbGJhcigpLHRoaXMudmlldy51cGRhdGVQYWdlKCkpfX0se2tleTpcInpvb21PdXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlldy5jdXJyZW50Wm9vbUluZGV4PjAmJih0aGlzLnZpZXcuY3VycmVudFpvb21JbmRleC09MSx0aGlzLnVwZGF0ZVRvb2xiYXIoKSx0aGlzLnZpZXcudXBkYXRlWm9vbSgpKX19LHtrZXk6XCJ6b29tSW5cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudmlldy5jdXJyZW50Wm9vbUluZGV4PHRoaXMuem9vbUxldmVscy5sZW5ndGgtMSYmKHRoaXMudmlldy5jdXJyZW50Wm9vbUluZGV4Kz0xLHRoaXMudXBkYXRlVG9vbGJhcigpLHRoaXMudmlldy51cGRhdGVab29tKCkpfX0se2tleTpcInNldFZpZXdcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZpZXcuZGVhY3RpdmF0ZSgpLHRoaXMueG1sRWRpdG9yLmRlYWN0aXZhdGUoKSxcImRvY3VtZW50XCI9PWUudGFyZ2V0LmRhdGFzZXQudmlldz90aGlzLnZpZXc9dGhpcy52aWV3RG9jdW1lbnQ6XCJlZGl0b3JcIj09ZS50YXJnZXQuZGF0YXNldC52aWV3P3RoaXMudmlldz10aGlzLnZpZXdFZGl0b3I6XCJyZXNwb25zaXZlXCI9PWUudGFyZ2V0LmRhdGFzZXQudmlldyYmKHRoaXMudmlldz10aGlzLnZpZXdSZXNwb25zaXZlKSx0aGlzLnVwZGF0ZVRvb2xiYXIoKSx0aGlzLnZpZXcuYWN0aXZhdGUoKSx0aGlzLnZpZXc9PXRoaXMudmlld0VkaXRvciYmdGhpcy54bWxFZGl0b3IuYWN0aXZhdGUoKSx0aGlzLnN0YXJ0TG9hZGluZyhcIlN3aXRjaGluZyB2aWV3IC4uLlwiKSx0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKSx0aGlzLmNvbnRyb2xsZXIuc2VuZChcInJlZG9MYXlvdXRcIix7fSx0aGlzLnZpZXcudmlld0luZGV4LHRoaXMudmlldy5yZWRvTGF5b3V0Q2FsbGJhY2spfX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Db250cm9sbGVyPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLGk9KG4oNCksbig3KSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4oMTMpKTt0LkNvbnRyb2xsZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxmdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMsZSxuLHIpKX1yZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX0odCxpLk1lc3Nlbmdlcikscih0LFt7a2V5OlwiaW5pdFdvcmtlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXR0aW5ncz17cGFnZUhlaWdodDoyOTcwLHBhZ2VXaWR0aDoyMTAwLHBhZ2VNYXJnaW5MZWZ0OjUwLHBhZ2VNYXJnaW5SaWdodDo1MCxwYWdlTWFyZ2luVG9wOjUwLHBhZ2VNYXJnaW5Cb3R0b206NTAsc2NhbGU6MTAwfSx0aGlzLnBhZ2VDb3VudD0wLHRoaXMud29ya2VyPW5ldyBvLmRlZmF1bHQsdGhpcy53b3JrZXIub25tZXNzYWdlPXRoaXMub25tZXNzYWdlfX1dKSx0fSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5HZW5lcmljVmlldz12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLHImJmUodCxyKSx0fX0oKSxpPW4oNSksbz1uKDEpO3QuR2VuZXJpY1ZpZXc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtpZihmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksISh0JiZ0IGluc3RhbmNlb2YgSFRNTERpdkVsZW1lbnQpKXRocm93XCJBbGwgR2VuZXJpY1ZpZXcgb2JqZWN0cyBtdXN0IGJlIGluaXRpYWxpemVkIHdpdGggJ2RpdicgcGFyYW1ldGVyIHRoYXQgaXMgYSBIVE1MRGl2RWxlbWVudCBlbGVtZW50LlwiO2lmKHRoaXMuZWxlbWVudD10LCEobiYmbiBpbnN0YW5jZW9mIGkuQ29udHJvbGxlcikpdGhyb3dcIkFsbCBHZW5lcmljVmlldyBvYmplY3RzIG11c3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhICdjb250cm9sbGVyJyBwYXJhbWV0ZXIgdGhhdCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgQ29udHJvbGxlciBjbGFzcy5cIjt0aGlzLmNvbnRyb2xsZXI9bix0aGlzLm9wdGlvbnM9cix0aGlzLnZpZXdJbmRleD10aGlzLmNvbnRyb2xsZXIucmVnaXN0ZXIodGhpcyksdGhpcy51cGRhdGVEaW1lbnNpb25zKCksdGhpcy51aT17fSx0aGlzLmV2ZW50TWFuYWdlcj1uZXcgby5FdmVudE1hbmFnZXIoe3BhcmVudDp0aGlzfSksdGhpcy5iaW5kTGlzdGVuZXJzKCksdGhpcy5ldmVudHM9bmV3IG8uRXZlbnRzLHRoaXMuY3VycmVudFBhZ2U9MSx0aGlzLmN1cnJlbnRab29tSW5kZXg9NCx0aGlzLmN1cnJlbnRTY2FsZT10aGlzLmNvbnRyb2xsZXIuYXBwLnpvb21MZXZlbHNbdGhpcy5jdXJyZW50Wm9vbUluZGV4XSx0aGlzLmN1cnJlbnRJZD1udWxsfXJldHVybiByKGUsW3trZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50TWFuYWdlci51bmJpbmRBbGwoKSx0aGlzLmV2ZW50cy51bnN1YnNjcmliZUFsbCgpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLmJvdW5kTW91c2VNb3ZlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRNb3VzZVVwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5ib3VuZE1vdXNlTW92ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5ib3VuZE1vdXNlVXApfX0se2tleTpcInVwZGF0ZURpbWVuc2lvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQ9dGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0LHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aD10aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS53aWR0aH19LHtrZXk6XCJwYXJzZUFuZFNjYWxlU1ZHXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpO3JldHVybiByLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdCtcInB4XCIpLHIuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLG4rXCJweFwiKSxyLmZpcnN0Q2hpbGR9fSx7a2V5OlwiYmluZExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmJvdW5kTW91c2VNb3ZlPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1vdXNlTW92ZUxpc3RlbmVyKHQpfSx0aGlzLmJvdW5kTW91c2VVcD1mdW5jdGlvbih0KXtyZXR1cm4gZS5tb3VzZVVwTGlzdGVuZXIodCl9LHRoaXMuYm91bmRSZXNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVzaXplQ29tcG9uZW50cyh0KX19fSx7a2V5OlwiYWN0aXZhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn19LHtrZXk6XCJkZWFjdGl2YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19LHtrZXk6XCJ1cGRhdGVWaWV3XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwidXBkYXRlWm9vbVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50U2NhbGU9dGhpcy5jb250cm9sbGVyLmFwcC56b29tTGV2ZWxzW3RoaXMuY3VycmVudFpvb21JbmRleF19fSx7a2V5OlwidXBkYXRlUGFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKX19LHtrZXk6XCJzZXRDdXJyZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jdXJyZW50SWQ9ZSx0aGlzLmNvbnRyb2xsZXIuc2VuZChcImdldFBhZ2VXaXRoRWxlbWVudFwiLHtpZDplfSx0aGlzLnZpZXdJbmRleCx0aGlzLmdldFBhZ2VXaXRoRWxlbWVudENhbGxiYWNrKX19LHtrZXk6XCJsb2FkRGF0YUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudD1lLnBhZ2VDb3VudCx0aGlzLmN1cnJlbnRQYWdlPnRoaXMuY29udHJvbGxlci5wYWdlQ291bnQmJih0aGlzLmN1cnJlbnRQYWdlPXRoaXMuY29udHJvbGxlci5wYWdlQ291bnQpLHRoaXMuY29udHJvbGxlci5hcHAudXBkYXRlVG9vbGJhcigpLHRoaXMudXBkYXRlVmlldygpfX0se2tleTpcInJlZG9MYXlvdXRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY29udHJvbGxlci5hcHAuZW5kTG9hZGluZygpLHRoaXMuY29udHJvbGxlci5wYWdlQ291bnQ9ZS5wYWdlQ291bnQsdGhpcy5jdXJyZW50UGFnZT0xLHRoaXMuY29udHJvbGxlci5hcHAudXBkYXRlVG9vbGJhcigpLHRoaXMudXBkYXRlVmlldygpfX0se2tleTpcImdldFBhZ2VXaXRoRWxlbWVudENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5NZXNzZW5nZXI9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCksaT1uKDQpO3QuTWVzc2VuZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7dmFyIG89dGhpcztpZihmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksISh0JiZ0IGluc3RhbmNlb2YgaS5BcHApKXRocm93XCJBbGwgTWVzc2VuZ2VyIG9iamVjdHMgbXVzdCBiZSBpbml0aWFsaXplZCB3aXRoIGEgJ2FwcCcgcGFyYW1ldGVyIHRoYXQgaXMgYW4gaW5zdGFuY2Ugb2YgdGhlIEFwcCBjbGFzcy5cIjt0aGlzLmFwcD10LHRoaXMub3B0aW9ucz1yLHRoaXMudGlja2V0SWQ9MCx0aGlzLmNhbGxsaXN0PXt9LHRoaXMubm9DYWxsYmFjaz1cIm5vLWNhbGxiYWNrXCIsdGhpcy52aWV3cz1bXSx0aGlzLmxvYWRDYWxsYmFjaz1uLHRoaXMuaW5pdFdvcmtlcigpLHRoaXMud29ya2VyLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGFbMF0sbj1lLmRhdGFbMV0scj1lLmRhdGFbMl07aWYoXCJlcnJvclwiPT09dCljb25zb2xlLmxvZyhcIkVycm9yIG1lc3NhZ2UgZnJvbSB3b3JrZXI6XCIscik7ZWxzZSBpZihcImxvYWRlZFwiPT09dClvLmxvYWRDYWxsYmFjay5jYWxsKG8uYXBwKTtlbHNlIGlmKG8uY2FsbGxpc3Rbbl0uY2FsbGJhY2s9PT1vLm5vQ2FsbGJhY2spO2Vsc2UgaWYoby5jYWxsbGlzdFtuXS5jYWxsYmFjayl7dmFyIGk9by5jYWxsbGlzdFtuXS5jYWxsYmFjaztpZigtMT09PW8uY2FsbGxpc3Rbbl0udmlld0luZGV4KWkuY2FsbChvLmFwcCxyKTtlbHNle3ZhciBhPW8udmlld3Nbby5jYWxsbGlzdFtuXS52aWV3SW5kZXhdO2kuY2FsbChhLHIpfX1lbHNlIGNvbnNvbGUubG9nKFwiVW5leHBlY3RlZCB3b3JrZXIgY2FzZTpcIixlKTtuJiZkZWxldGUgby5jYWxsbGlzdFtuXX19cmV0dXJuIHIoZSxbe2tleTpcImluaXRXb3JrZXJcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJ1cGRhdGVVSVwiLHZhbHVlOmZ1bmN0aW9uKCl7YXBwLnVwZGF0ZX19LHtrZXk6XCJyZWdpc3RlclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZpZXdzLnB1c2goZSktMX19LHtrZXk6XCJzZW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7aWYoLTEhPT1uJiYhKG4gaW4gdGhpcy52aWV3cykpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJUaGF0IHZpZXcgaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgeWV0IVwiKTt0aGlzLmNhbGxsaXN0W3RoaXMudGlja2V0SWRdPXtjYWxsYmFjazpyfHx0aGlzLm5vQ2FsbGJhY2ssdmlld0luZGV4Om59LHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKFtlLHRoaXMudGlja2V0SWQsdF0pLHRoaXMudGlja2V0SWQrK319XSksZX0oKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkw7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dHJ5e3RyeXt2YXIgbjt0cnl7KG49bmV3KHdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyKSkuYXBwZW5kKGUpLG49bi5nZXRCbG9iKCl9Y2F0Y2godCl7bj1uZXcgQmxvYihbZV0pfXJldHVybiBuZXcgV29ya2VyKHIuY3JlYXRlT2JqZWN0VVJMKG4pKX1jYXRjaCh0KXtyZXR1cm4gbmV3IFdvcmtlcihcImRhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdCxcIitlbmNvZGVVUklDb21wb25lbnQoZSkpfX1jYXRjaChlKXtpZighdCl0aHJvdyBFcnJvcihcIklubGluZSB3b3JrZXIgaXMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gbmV3IFdvcmtlcih0KX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5SZXNwb25zaXZlVmlldz12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLHImJmUodCxyKSx0fX0oKSxpPWZ1bmN0aW9uIGUodCxuLHIpe251bGw9PT10JiYodD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTtpZih2b2lkIDA9PT1pKXt2YXIgbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIG51bGw9PT1vP3ZvaWQgMDplKG8sbixyKX1pZihcInZhbHVlXCJpbiBpKXJldHVybiBpLnZhbHVlO3ZhciBhPWkuZ2V0O3JldHVybiB2b2lkIDAhPT1hP2EuY2FsbChyKTp2b2lkIDB9LG89KG4oNSksbigxKSksYT1uKDYpO3QuUmVzcG9uc2l2ZVZpZXc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4scil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTt2YXIgaT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMsZSxuLHIpKTtyZXR1cm4gaS51aS5zdmdXcmFwcGVyPSgwLG8uZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1zdmctd3JhcHBlclwiLHN0eWxlOlwicG9zaXRpb246IGFic29sdXRlXCJ9KSxpLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaS51aS5zdmdXcmFwcGVyKSxpLnVwZGF0ZURpbWVuc2lvbnMoKSxpLmRlYWN0aXZhdGUoKSxpfXJldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfSh0LGEuR2VuZXJpY1ZpZXcpLHIodCxbe2tleTpcImFjdGl2YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpKHQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcImFjdGl2YXRlXCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3MuYnJlYWtzPVwiYXV0b1wiLHRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5ub0Zvb3Rlcj0hMCx0aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3MuYWRqdXN0UGFnZUhlaWdodD0hMCx0aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3Muc2NhbGU9dGhpcy5jdXJyZW50U2NhbGUsdGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnBhZ2VIZWlnaHQ9dGhpcy5lbGVtZW50LmNsaWVudEhlaWdodCooMTAwL3RoaXMuY29udHJvbGxlci5zZXR0aW5ncy5zY2FsZSksdGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnBhZ2VXaWR0aD10aGlzLmVsZW1lbnQuY2xpZW50V2lkdGgqKDEwMC90aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3Muc2NhbGUpLHRoaXMuY29udHJvbGxlci5zZW5kKFwic2V0T3B0aW9uc1wiLHtvcHRpb25zOnRoaXMuY29udHJvbGxlci5zZXR0aW5nc30sdGhpcy52aWV3SW5kZXgpfX0se2tleTpcInVwZGF0ZURpbWVuc2lvbnNcIix2YWx1ZTpmdW5jdGlvbigpe2kodC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwidXBkYXRlRGltZW5zaW9uc1wiLHRoaXMpLmNhbGwodGhpcyksdGhpcy51aSYmdGhpcy5lbGVtZW50JiYodGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnNjYWxlPXRoaXMuY3VycmVudFNjYWxlLHRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5wYWdlSGVpZ2h0PXRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQqKDEwMC90aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3Muc2NhbGUpLHRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5wYWdlV2lkdGg9dGhpcy5lbGVtZW50LmNsaWVudFdpZHRoKigxMDAvdGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnNjYWxlKSl9fSx7a2V5OlwidXBkYXRlVmlld1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250cm9sbGVyLmFwcC5lbmRMb2FkaW5nKCksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJyZW5kZXJUb1NWR1wiLHtwYWdlSW5kZXg6dGhpcy5jdXJyZW50UGFnZX0sdGhpcy52aWV3SW5kZXgsdGhpcy5yZW5kZXJUb1NWR0NhbGxiYWNrKX19LHtrZXk6XCJ1cGRhdGVab29tXCIsdmFsdWU6ZnVuY3Rpb24oKXtpKHQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcInVwZGF0ZVpvb21cIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMudXBkYXRlRGltZW5zaW9ucygpLHRoaXMuY29udHJvbGxlci5zZW5kKFwic2V0T3B0aW9uc1wiLHtvcHRpb25zOnRoaXMuY29udHJvbGxlci5zZXR0aW5nc30sdGhpcy52aWV3SW5kZXgpLHRoaXMuY29udHJvbGxlci5wYWdlQ291bnQ+MCYmdGhpcy5jb250cm9sbGVyLnNlbmQoXCJyZWRvTGF5b3V0XCIse29wdGlvbnM6dGhpcy5jb250cm9sbGVyLnNldHRpbmdzfSx0aGlzLnZpZXdJbmRleCx0aGlzLnJlZG9MYXlvdXRDYWxsYmFjayl9fSx7a2V5OlwidXBkYXRlUGFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250cm9sbGVyLnNlbmQoXCJyZW5kZXJUb1NWR1wiLHtwYWdlSW5kZXg6dGhpcy5jdXJyZW50UGFnZX0sdGhpcy52aWV3SW5kZXgsdGhpcy5yZW5kZXJUb1NWR0NhbGxiYWNrKX19LHtrZXk6XCJvblJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aSh0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJvblJlc2l6ZVwiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJzZXRPcHRpb25zXCIse29wdGlvbnM6dGhpcy5jb250cm9sbGVyLnNldHRpbmdzfSx0aGlzLnZpZXdJbmRleCksdGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudD4wJiZ0aGlzLmNvbnRyb2xsZXIuc2VuZChcInJlZG9MYXlvdXRcIix7b3B0aW9uczp0aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3N9LHRoaXMudmlld0luZGV4LHRoaXMucmVkb0xheW91dENhbGxiYWNrKX19LHtrZXk6XCJyZW5kZXJUb1NWR0NhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250cm9sbGVyLmFwcC5lbmRMb2FkaW5nKCksdGhpcy51aS5zdmdXcmFwcGVyLmlubmVySFRNTD1lLnN2Z319LHtrZXk6XCJyZWRvTGF5b3V0Q2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbnRyb2xsZXIucGFnZUNvdW50PWUucGFnZUNvdW50LHRoaXMuY3VycmVudFBhZ2U+dGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudCYmKHRoaXMuY3VycmVudFBhZ2U9dGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudCksdGhpcy5jb250cm9sbGVyLmFwcC51cGRhdGVUb29sYmFyKCksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJyZW5kZXJUb1NWR1wiLHtwYWdlSW5kZXg6dGhpcy5jdXJyZW50UGFnZX0sdGhpcy52aWV3SW5kZXgsdGhpcy5yZW5kZXJUb1NWR0NhbGxiYWNrKX19LHtrZXk6XCJzeW5jU2Nyb2xsXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy51aS5zdmdXcmFwcGVyLnNjcm9sbFRvcD1lLnRhcmdldC5zY3JvbGxUb3AsdGhpcy51aS5zdmdXcmFwcGVyLnNjcm9sbExlZnQ9ZS50YXJnZXQuc2Nyb2xsTGVmdH19XSksdH0oKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuVmFsaWRhdG9yPXZvaWQgMDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLGk9KG4oNCksbig3KSksbz1uKDE2KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxNykpO3QuVmFsaWRhdG9yPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuLHIpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7dmFyIGk9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH0odGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzLGUsbixyKSk7cmV0dXJuIGkucm5nPW5ldyBvLlJOR0xvYWRlcihpKSxpfXJldHVybiBmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfSh0LGkuTWVzc2VuZ2VyKSxyKHQsW3trZXk6XCJpbml0V29ya2VyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndvcmtlcj1uZXcgYS5kZWZhdWx0LHRoaXMud29ya2VyLm9ubWVzc2FnZT10aGlzLm9ubWVzc2FnZX19LHtrZXk6XCJzZXRSZWxheE5HU2NoZW1hVVJJXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2ZldGNoKFwiaHR0cHM6Ly9tdXNpYy1lbmNvZGluZy5vcmcvc2NoZW1hLzQuMC4wL21laS1hbGwucm5nXCIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dCgpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5zZW5kKFwic2V0UmVsYXhOR1NjaGVtYVwiLHtzY2hlbWE6ZX0sLTEpLGV9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybihuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsXCJ0ZXh0L3htbFwiKX0pLnRoZW4oZnVuY3Rpb24oZSl7bi5ybmcuc2V0UmVsYXhOR1NjaGVtYShlKSx0LmNhbGwobi5hcHApfSkuY2F0Y2goZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJSZXF1ZXN0IGZhaWxlZFwiLGUpfSl9fV0pLHR9KCl9LGZ1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9ZS5Qb3M7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBlLmxpbmUtdC5saW5lfHxlLmNoLXQuY2h9dmFyIHI9XCJBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcIixpPW5ldyBSZWdFeHAoXCI8KC8/KShbXCIrcitcIl1bXCIrcitcIi06LjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSopXCIsXCJnXCIpO2Z1bmN0aW9uIG8oZSx0LG4scil7dGhpcy5saW5lPXQsdGhpcy5jaD1uLHRoaXMuY209ZSx0aGlzLnRleHQ9ZS5nZXRMaW5lKHQpLHRoaXMubWluPXI/TWF0aC5tYXgoci5mcm9tLGUuZmlyc3RMaW5lKCkpOmUuZmlyc3RMaW5lKCksdGhpcy5tYXg9cj9NYXRoLm1pbihyLnRvLTEsZS5sYXN0TGluZSgpKTplLmxhc3RMaW5lKCl9ZnVuY3Rpb24gYShlLG4pe3ZhciByPWUuY20uZ2V0VG9rZW5UeXBlQXQodChlLmxpbmUsbikpO3JldHVybiByJiYvXFxidGFnXFxiLy50ZXN0KHIpfWZ1bmN0aW9uIHMoZSl7aWYoIShlLmxpbmU+PWUubWF4KSlyZXR1cm4gZS5jaD0wLGUudGV4dD1lLmNtLmdldExpbmUoKytlLmxpbmUpLCEwfWZ1bmN0aW9uIGwoZSl7aWYoIShlLmxpbmU8PWUubWluKSlyZXR1cm4gZS50ZXh0PWUuY20uZ2V0TGluZSgtLWUubGluZSksZS5jaD1lLnRleHQubGVuZ3RoLCEwfWZ1bmN0aW9uIHUoZSl7Zm9yKDs7KXt2YXIgdD1lLnRleHQuaW5kZXhPZihcIj5cIixlLmNoKTtpZigtMT09dCl7aWYocyhlKSljb250aW51ZTtyZXR1cm59aWYoYShlLHQrMSkpe3ZhciBuPWUudGV4dC5sYXN0SW5kZXhPZihcIi9cIix0KSxyPW4+LTEmJiEvXFxTLy50ZXN0KGUudGV4dC5zbGljZShuKzEsdCkpO3JldHVybiBlLmNoPXQrMSxyP1wic2VsZkNsb3NlXCI6XCJyZWd1bGFyXCJ9ZS5jaD10KzF9fWZ1bmN0aW9uIGMoZSl7Zm9yKDs7KXt2YXIgdD1lLmNoP2UudGV4dC5sYXN0SW5kZXhPZihcIjxcIixlLmNoLTEpOi0xO2lmKC0xPT10KXtpZihsKGUpKWNvbnRpbnVlO3JldHVybn1pZihhKGUsdCsxKSl7aS5sYXN0SW5kZXg9dCxlLmNoPXQ7dmFyIG49aS5leGVjKGUudGV4dCk7aWYobiYmbi5pbmRleD09dClyZXR1cm4gbn1lbHNlIGUuY2g9dH19ZnVuY3Rpb24gaChlKXtmb3IoOzspe2kubGFzdEluZGV4PWUuY2g7dmFyIHQ9aS5leGVjKGUudGV4dCk7aWYoIXQpe2lmKHMoZSkpY29udGludWU7cmV0dXJufWlmKGEoZSx0LmluZGV4KzEpKXJldHVybiBlLmNoPXQuaW5kZXgrdFswXS5sZW5ndGgsdDtlLmNoPXQuaW5kZXgrMX19ZnVuY3Rpb24gZChlKXtmb3IoOzspe3ZhciB0PWUuY2g/ZS50ZXh0Lmxhc3RJbmRleE9mKFwiPlwiLGUuY2gtMSk6LTE7aWYoLTE9PXQpe2lmKGwoZSkpY29udGludWU7cmV0dXJufWlmKGEoZSx0KzEpKXt2YXIgbj1lLnRleHQubGFzdEluZGV4T2YoXCIvXCIsdCkscj1uPi0xJiYhL1xcUy8udGVzdChlLnRleHQuc2xpY2UobisxLHQpKTtyZXR1cm4gZS5jaD10KzEscj9cInNlbGZDbG9zZVwiOlwicmVndWxhclwifWUuY2g9dH19ZnVuY3Rpb24gZihlLG4pe2Zvcih2YXIgcj1bXTs7KXt2YXIgaSxvPWgoZSksYT1lLmxpbmUscz1lLmNoLShvP29bMF0ubGVuZ3RoOjApO2lmKCFvfHwhKGk9dShlKSkpcmV0dXJuO2lmKFwic2VsZkNsb3NlXCIhPWkpaWYob1sxXSl7Zm9yKHZhciBsPXIubGVuZ3RoLTE7bD49MDstLWwpaWYocltsXT09b1syXSl7ci5sZW5ndGg9bDticmVha31pZihsPDAmJighbnx8bj09b1syXSkpcmV0dXJue3RhZzpvWzJdLGZyb206dChhLHMpLHRvOnQoZS5saW5lLGUuY2gpfX1lbHNlIHIucHVzaChvWzJdKX19ZnVuY3Rpb24gcChlLG4pe2Zvcih2YXIgcj1bXTs7KXt2YXIgaT1kKGUpO2lmKCFpKXJldHVybjtpZihcInNlbGZDbG9zZVwiIT1pKXt2YXIgbz1lLmxpbmUsYT1lLmNoLHM9YyhlKTtpZighcylyZXR1cm47aWYoc1sxXSlyLnB1c2goc1syXSk7ZWxzZXtmb3IodmFyIGw9ci5sZW5ndGgtMTtsPj0wOy0tbClpZihyW2xdPT1zWzJdKXtyLmxlbmd0aD1sO2JyZWFrfWlmKGw8MCYmKCFufHxuPT1zWzJdKSlyZXR1cm57dGFnOnNbMl0sZnJvbTp0KGUubGluZSxlLmNoKSx0bzp0KG8sYSl9fX1lbHNlIGMoZSl9fWUucmVnaXN0ZXJIZWxwZXIoXCJmb2xkXCIsXCJ4bWxcIixmdW5jdGlvbihlLHIpe2Zvcih2YXIgaT1uZXcgbyhlLHIubGluZSwwKTs7KXt2YXIgYT1oKGkpO2lmKCFhfHxpLmxpbmUhPXIubGluZSlyZXR1cm47dmFyIHM9dShpKTtpZighcylyZXR1cm47aWYoIWFbMV0mJlwic2VsZkNsb3NlXCIhPXMpe3ZhciBsPXQoaS5saW5lLGkuY2gpLGM9ZihpLGFbMl0pO3JldHVybiBjJiZuKGMuZnJvbSxsKT4wP3tmcm9tOmwsdG86Yy5mcm9tfTpudWxsfX19KSxlLmZpbmRNYXRjaGluZ1RhZz1mdW5jdGlvbihlLHIsaSl7dmFyIGE9bmV3IG8oZSxyLmxpbmUsci5jaCxpKTtpZigtMSE9YS50ZXh0LmluZGV4T2YoXCI+XCIpfHwtMSE9YS50ZXh0LmluZGV4T2YoXCI8XCIpKXt2YXIgcz11KGEpLGw9cyYmdChhLmxpbmUsYS5jaCksaD1zJiZjKGEpO2lmKHMmJmgmJiEobihhLHIpPjApKXt2YXIgZD17ZnJvbTp0KGEubGluZSxhLmNoKSx0bzpsLHRhZzpoWzJdfTtyZXR1cm5cInNlbGZDbG9zZVwiPT1zP3tvcGVuOmQsY2xvc2U6bnVsbCxhdDpcIm9wZW5cIn06aFsxXT97b3BlbjpwKGEsaFsyXSksY2xvc2U6ZCxhdDpcImNsb3NlXCJ9OihhPW5ldyBvKGUsbC5saW5lLGwuY2gsaSkse29wZW46ZCxjbG9zZTpmKGEsaFsyXSksYXQ6XCJvcGVuXCJ9KX19fSxlLmZpbmRFbmNsb3NpbmdUYWc9ZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBpPW5ldyBvKGUsdC5saW5lLHQuY2gsbik7Oyl7dmFyIGE9cChpLHIpO2lmKCFhKWJyZWFrO3ZhciBzPW5ldyBvKGUsdC5saW5lLHQuY2gsbiksbD1mKHMsYS50YWcpO2lmKGwpcmV0dXJue29wZW46YSxjbG9zZTpsfX19LGUuc2NhbkZvckNsb3NpbmdUYWc9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9bmV3IG8oZSx0LmxpbmUsdC5jaCxyP3tmcm9tOjAsdG86cn06bnVsbCk7cmV0dXJuIGYoaSxuKX19KG4oMCkpfSxmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxuLGksbyl7aWYoaSYmaS5jYWxsKXt2YXIgYT1pO2k9bnVsbH1lbHNlIHZhciBhPXIodCxpLFwicmFuZ2VGaW5kZXJcIik7XCJudW1iZXJcIj09dHlwZW9mIG4mJihuPWUuUG9zKG4sMCkpO3ZhciBzPXIodCxpLFwibWluRm9sZFNpemVcIik7ZnVuY3Rpb24gbChlKXt2YXIgcj1hKHQsbik7aWYoIXJ8fHIudG8ubGluZS1yLmZyb20ubGluZTxzKXJldHVybiBudWxsO2Zvcih2YXIgaT10LmZpbmRNYXJrc0F0KHIuZnJvbSksbD0wO2w8aS5sZW5ndGg7KytsKWlmKGlbbF0uX19pc0ZvbGQmJlwiZm9sZFwiIT09byl7aWYoIWUpcmV0dXJuIG51bGw7ci5jbGVhcmVkPSEwLGlbbF0uY2xlYXIoKX1yZXR1cm4gcn12YXIgdT1sKCEwKTtpZihyKHQsaSxcInNjYW5VcFwiKSlmb3IoOyF1JiZuLmxpbmU+dC5maXJzdExpbmUoKTspbj1lLlBvcyhuLmxpbmUtMSwwKSx1PWwoITEpO2lmKHUmJiF1LmNsZWFyZWQmJlwidW5mb2xkXCIhPT1vKXt2YXIgYz1mdW5jdGlvbihlLHQpe3ZhciBuPXIoZSx0LFwid2lkZ2V0XCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKTsobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSkuYXBwZW5kQ2hpbGQoaSksbi5jbGFzc05hbWU9XCJDb2RlTWlycm9yLWZvbGRtYXJrZXJcIn1lbHNlIG4mJihuPW4uY2xvbmVOb2RlKCEwKSk7cmV0dXJuIG59KHQsaSk7ZS5vbihjLFwibW91c2Vkb3duXCIsZnVuY3Rpb24odCl7aC5jbGVhcigpLGUuZV9wcmV2ZW50RGVmYXVsdCh0KX0pO3ZhciBoPXQubWFya1RleHQodS5mcm9tLHUudG8se3JlcGxhY2VkV2l0aDpjLGNsZWFyT25FbnRlcjpyKHQsaSxcImNsZWFyT25FbnRlclwiKSxfX2lzRm9sZDohMH0pO2gub24oXCJjbGVhclwiLGZ1bmN0aW9uKG4scil7ZS5zaWduYWwodCxcInVuZm9sZFwiLHQsbixyKX0pLGUuc2lnbmFsKHQsXCJmb2xkXCIsdCx1LmZyb20sdS50byl9fWUubmV3Rm9sZEZ1bmN0aW9uPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7dChyLGkse3JhbmdlRmluZGVyOmUsd2lkZ2V0Om59KX19LGUuZGVmaW5lRXh0ZW5zaW9uKFwiZm9sZENvZGVcIixmdW5jdGlvbihlLG4scil7dCh0aGlzLGUsbixyKX0pLGUuZGVmaW5lRXh0ZW5zaW9uKFwiaXNGb2xkZWRcIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5maW5kTWFya3NBdChlKSxuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXS5fX2lzRm9sZClyZXR1cm4hMH0pLGUuY29tbWFuZHMudG9nZ2xlRm9sZD1mdW5jdGlvbihlKXtlLmZvbGRDb2RlKGUuZ2V0Q3Vyc29yKCkpfSxlLmNvbW1hbmRzLmZvbGQ9ZnVuY3Rpb24oZSl7ZS5mb2xkQ29kZShlLmdldEN1cnNvcigpLG51bGwsXCJmb2xkXCIpfSxlLmNvbW1hbmRzLnVuZm9sZD1mdW5jdGlvbihlKXtlLmZvbGRDb2RlKGUuZ2V0Q3Vyc29yKCksbnVsbCxcInVuZm9sZFwiKX0sZS5jb21tYW5kcy5mb2xkQWxsPWZ1bmN0aW9uKHQpe3Qub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuZmlyc3RMaW5lKCkscj10Lmxhc3RMaW5lKCk7bjw9cjtuKyspdC5mb2xkQ29kZShlLlBvcyhuLDApLG51bGwsXCJmb2xkXCIpfSl9LGUuY29tbWFuZHMudW5mb2xkQWxsPWZ1bmN0aW9uKHQpe3Qub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXQuZmlyc3RMaW5lKCkscj10Lmxhc3RMaW5lKCk7bjw9cjtuKyspdC5mb2xkQ29kZShlLlBvcyhuLDApLG51bGwsXCJ1bmZvbGRcIil9KX0sZS5yZWdpc3RlckhlbHBlcihcImZvbGRcIixcImNvbWJpbmVcIixmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIGk9ZVtyXSh0LG4pO2lmKGkpcmV0dXJuIGl9fX0pLGUucmVnaXN0ZXJIZWxwZXIoXCJmb2xkXCIsXCJhdXRvXCIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5nZXRIZWxwZXJzKHQsXCJmb2xkXCIpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXShlLHQpO2lmKGkpcmV0dXJuIGl9fSk7dmFyIG49e3JhbmdlRmluZGVyOmUuZm9sZC5hdXRvLHdpZGdldDpcIuKGlFwiLG1pbkZvbGRTaXplOjAsc2NhblVwOiExLGNsZWFyT25FbnRlcjohMH07ZnVuY3Rpb24gcihlLHQscil7aWYodCYmdm9pZCAwIT09dFtyXSlyZXR1cm4gdFtyXTt2YXIgaT1lLm9wdGlvbnMuZm9sZE9wdGlvbnM7cmV0dXJuIGkmJnZvaWQgMCE9PWlbcl0/aVtyXTpuW3JdfWUuZGVmaW5lT3B0aW9uKFwiZm9sZE9wdGlvbnNcIixudWxsKSxlLmRlZmluZUV4dGVuc2lvbihcImZvbGRPcHRpb25cIixmdW5jdGlvbihlLHQpe3JldHVybiByKHRoaXMsZSx0KX0pfShuKDApKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBuKDgpKCchZnVuY3Rpb24oZSl7dmFyIG89e307ZnVuY3Rpb24gdChyKXtpZihvW3JdKXJldHVybiBvW3JdLmV4cG9ydHM7dmFyIG49b1tyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbcl0uY2FsbChuLmV4cG9ydHMsbixuLmV4cG9ydHMsdCksbi5sPSEwLG4uZXhwb3J0c310Lm09ZSx0LmM9byx0LmQ9ZnVuY3Rpb24oZSxvLHIpe3QubyhlLG8pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LHQucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSx0LnQ9ZnVuY3Rpb24oZSxvKXtpZigxJm8mJihlPXQoZSkpLDgmbylyZXR1cm4gZTtpZig0Jm8mJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0LnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImbyYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBuIGluIGUpdC5kKHIsbixmdW5jdGlvbihvKXtyZXR1cm4gZVtvXX0uYmluZChudWxsLG4pKTtyZXR1cm4gcn0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBvPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobyxcImFcIixvKSxvfSx0Lm89ZnVuY3Rpb24oZSxvKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbyl9LHQucD1cIlwiLHQodC5zPTApfShbZnVuY3Rpb24oZSxvKXtjb25zdCB0PVwiaHR0cHM6Ly93d3cudmVyb3Zpby5vcmcvamF2YXNjcmlwdC9kZXZlbG9wXCI7ZnVuY3Rpb24gcihlLG8sdCl7cG9zdE1lc3NhZ2UoW2Usbyx0XSl9c2VsZi5Nb2R1bGU9e2xvY2F0ZUZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUubG9nKGUpLGAke3R9LyR7ZX1gfSxvblJ1bnRpbWVJbml0aWFsaXplZDpmdW5jdGlvbigpe29uTG9hZCgpfX0sc2VsZi5pbXBvcnRTY3JpcHRzKGAke3R9L3Zlcm92aW8tdG9vbGtpdC13YXNtLmpzYCksc2VsZi5vbkxvYWQ9ZnVuY3Rpb24oKXtzZWxmLnZydlRvb2xraXQ9bmV3IHZlcm92aW8udG9vbGtpdCxjb25zb2xlLmxvZyhgVmVyb3ZpbyAoV0FTTSkgJHtzZWxmLnZydlRvb2xraXQuZ2V0VmVyc2lvbigpfWApLHIoXCJsb2FkZWRcIiwhMSx7fSl9LHNlbGYudnJ2VG9vbGtpdD1udWxsLHNlbGYuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihlKXt2YXIgbz1lLmRhdGFbMF0sdD1lLmRhdGFbMV0sbj1lLmRhdGFbMl07aWYodnJ2VG9vbGtpdClzd2l0Y2gobyl7Y2FzZVwiZWRpdFwiOnRyeXt2cnZUb29sa2l0LmVkaXQobi5hY3Rpb24pO3ZydlRvb2xraXQucmVkb1BhZ2VQaXRjaFBvc0xheW91dCgpO3ZhciBhPXZydlRvb2xraXQucmVuZGVyVG9TVkcobi5wYWdlSW5kZXgpO3IoXCJlZGl0XCIsdCx7cGFnZUluZGV4Om4ucGFnZUluZGV4LHN2ZzphLGNyZWF0ZU92ZXJsYXk6ITF9KX1jYXRjaChlKXtyKFwiZXJyb3JcIix0LHtlcnJvcjpcIkVkaXQgZmFpbGVkOlwiK2V9KX1icmVhaztjYXNlXCJnZXRFbGVtZW50QXR0clwiOnIobytcIi1va1wiLHQse2VsZW1lbnRBdHRyOnZydlRvb2xraXQuZ2V0RWxlbWVudEF0dHIobi5pZCl9KTticmVhaztjYXNlXCJnZXRNRUlcIjpyKG8rXCItb2tcIix0LHttZWk6dnJ2VG9vbGtpdC5nZXRNRUkoLTEsITApfSk7YnJlYWs7Y2FzZVwiZ2V0T3B0aW9uc1wiOnIobytcIi1va1wiLHQse29wdGlvbnM6dnJ2VG9vbGtpdC5nZXRPcHRpb25zKG4uZGVmYXVsdCl9KTticmVhaztjYXNlXCJnZXRQYWdlQ291bnRcIjpyKG8rXCItb2tcIix0LHtwYWdlQ291bnQ6dnJ2VG9vbGtpdC5nZXRQYWdlQ291bnQoKX0pO2JyZWFrO2Nhc2VcImdldFBhZ2VXaXRoRWxlbWVudFwiOnIobytcIi1va1wiLHQse3BhZ2VXaXRoRWxlbWVudDp2cnZUb29sa2l0LmdldFBhZ2VXaXRoRWxlbWVudChuLmlkKSxpZDpuLmlkfSk7YnJlYWs7Y2FzZVwibG9hZERhdGFcIjp2cnZUb29sa2l0LmxvYWREYXRhKG4ubWVpKSxyKG8rXCItb2tcIix0LHtwYWdlQ291bnQ6dnJ2VG9vbGtpdC5nZXRQYWdlQ291bnQoKX0pO2JyZWFrO2Nhc2VcInJlZG9MYXlvdXRcIjp2cnZUb29sa2l0LnJlZG9MYXlvdXQoKSxyKG8rXCItb2tcIix0LHtwYWdlQ291bnQ6dnJ2VG9vbGtpdC5nZXRQYWdlQ291bnQoKX0pO2JyZWFrO2Nhc2VcInJlZG9QYWdlUGl0Y2hQb3NMYXlvdXRcIjp2cnZUb29sa2l0LnJlZG9QYWdlUGl0Y2hQb3NMYXlvdXQoKTticmVhaztjYXNlXCJyZW5kZXJUb1NWR1wiOnRyeXthPXZydlRvb2xraXQucmVuZGVyVG9TVkcobi5wYWdlSW5kZXgpO3IobytcIi1va1wiLHQse3BhZ2VJbmRleDpuLnBhZ2VJbmRleCxzdmc6YSxjcmVhdGVPdmVybGF5OnZvaWQgMD09PW4uZm9yY2VPdmVybGF5fHxuLmZvcmNlT3ZlcmxheX0pfWNhdGNoKGUpe3IoXCJlcnJvclwiLHQse2Vycm9yOlwiUmVuZGVyIG9mIHBhZ2UgXCIrbi5wYWdlSW5kZXgrXCIgZmFpbGVkOlwiK2V9KX1icmVhaztjYXNlXCJzZXRPcHRpb25zXCI6dnJ2VG9vbGtpdC5zZXRPcHRpb25zKG4ub3B0aW9ucyk7YnJlYWs7ZGVmYXVsdDpyKFwiZXJyb3JcIix0LHtlcnJvcjpcIkRpZCBub3QgcmVjb2duaXplIGlucHV0XCIrZS5kYXRhfSl9ZWxzZSByKFwiZXJyb3JcIix0LHtlcnJvcjpcIlRoZSB2ZXJvdmlvLXRvb2xraXQgaGFzIG5vdCBmaW5pc2hlZCBsb2FkaW5nIHlldCFcIn0pfSwhMSl9XSk7JyxuLnArXCJ2ZXJvdmlvLXdvcmtlci5qc1wiKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkRvY3VtZW50Vmlldz12b2lkIDA7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLHImJmUodCxyKSx0fX0oKSxpPWZ1bmN0aW9uIGUodCxuLHIpe251bGw9PT10JiYodD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTtpZih2b2lkIDA9PT1pKXt2YXIgbz1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIG51bGw9PT1vP3ZvaWQgMDplKG8sbixyKX1pZihcInZhbHVlXCJpbiBpKXJldHVybiBpLnZhbHVlO3ZhciBhPWkuZ2V0O3JldHVybiB2b2lkIDAhPT1hP2EuY2FsbChyKTp2b2lkIDB9LG89KG4oNSksbigxKSksYT1uKDYpO3QuRG9jdW1lbnRWaWV3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuLHIpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7dmFyIGk9ZnVuY3Rpb24oZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH0odGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzLGUsbixyKSk7aS51aS5kb2NXcmFwcGVyPSgwLG8uZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1kb2Mtd3JhcHBlclwiLHN0eWxlOlwicG9zaXRpb246IGFic29sdXRlXCJ9KSxpLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaS51aS5kb2NXcmFwcGVyKSxpLnVwZGF0ZURpbWVuc2lvbnMoKSxpLm9ic2VydmVyO3RyeXtpLm9ic2VydmVyPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihpLmhhbmRsZU9ic2VydmVyKSxpLm9ic2VydmVyLnZpZXc9aSxpLnBydW5pbmc9MCxpLm9ic2VydmVyLnBydW5pbmdNYXJnaW49MTB9Y2F0Y2goZSl7Y29uc29sZS5pbmZvKFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgc3VwcG9ydCBpcyBtaXNzaW5nIC0gbG9hZGluZyBhbGwgcGFnZXNcIil9cmV0dXJuIGkuZGVhY3RpdmF0ZSgpLGl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KHQsYS5HZW5lcmljVmlldykscih0LFt7a2V5OlwiYWN0aXZhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2kodC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiYWN0aXZhdGVcIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5icmVha3M9XCJlbmNvZGVkXCIsdGhpcy5jb250cm9sbGVyLnNldHRpbmdzLm5vRm9vdGVyPSExLHRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5hZGp1c3RQYWdlSGVpZ2h0PSExLHRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5zY2FsZT0xMDAsdGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnBhZ2VIZWlnaHQ9Mjk3MCx0aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3MucGFnZVdpZHRoPTIxMDAsdGhpcy5jb250cm9sbGVyLnNlbmQoXCJzZXRPcHRpb25zXCIse29wdGlvbnM6dGhpcy5jb250cm9sbGVyLnNldHRpbmdzfSx0aGlzLnZpZXdJbmRleCl9fSx7a2V5OlwidXBkYXRlRGltZW5zaW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoaSh0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksXCJ1cGRhdGVEaW1lbnNpb25zXCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnVpJiZ0aGlzLnVpLmRvY1dyYXBwZXIpe3RoaXMudWkuY3VycmVudERvY01hcmdpbj10aGlzLm9wdGlvbnMuZG9jdW1lbnRWaWV3TWFyZ2luKnRoaXMuY3VycmVudFNjYWxlLzEwMCx0aGlzLnVpLmN1cnJlbnRQYWdlV2lkdGg9dGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnBhZ2VXaWR0aCp0aGlzLmN1cnJlbnRTY2FsZS8xMDA7dmFyIGU9dGhpcy51aS5jdXJyZW50UGFnZVdpZHRoKzIqdGhpcy51aS5jdXJyZW50RG9jTWFyZ2luKzIqdGhpcy5vcHRpb25zLmRvY3VtZW50Vmlld1BhZ2VCb3JkZXIsbj1wYXJzZUludCh0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS53aWR0aCwxMCk7dGhpcy51aS5jdXJyZW50RG9jV2lkdGg9TWF0aC5tYXgobixlKSx0aGlzLnVpLmRvY1dyYXBwZXIuc3R5bGUud2lkdGg9dGhpcy51aS5jdXJyZW50RG9jV2lkdGgrXCJweFwiLHRoaXMudWkuY3VycmVudFBhZ2VIZWlnaHQ9dGhpcy5jb250cm9sbGVyLnNldHRpbmdzLnBhZ2VIZWlnaHQqdGhpcy5jdXJyZW50U2NhbGUvMTAwO3ZhciByPSh0aGlzLnVpLmN1cnJlbnRQYWdlSGVpZ2h0K3RoaXMudWkuY3VycmVudERvY01hcmdpbisyKnRoaXMub3B0aW9ucy5kb2N1bWVudFZpZXdQYWdlQm9yZGVyKSp0aGlzLmNvbnRyb2xsZXIucGFnZUNvdW50K3RoaXMudWkuY3VycmVudERvY01hcmdpbixvPXBhcnNlSW50KHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCwxMCk7dGhpcy51aS5jdXJyZW50RG9jSGVpZ2h0PU1hdGgubWF4KG8sciksdGhpcy51aS5kb2NXcmFwcGVyLnN0eWxlLmhlaWdodD10aGlzLnVpLmN1cnJlbnREb2NIZWlnaHQrXCJweFwifX19LHtrZXk6XCJ1cGRhdGVWaWV3XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IoO3RoaXMudWkuZG9jV3JhcHBlci5maXJzdENoaWxkOyl0aGlzLnVpLmRvY1dyYXBwZXIuZmlyc3RDaGlsZC5yZW1vdmUoKTt0aGlzLnVwZGF0ZURpbWVuc2lvbnMoKSx0aGlzLmNvbnRyb2xsZXIuYXBwLmVuZExvYWRpbmcoKSx0aGlzLm9ic2VydmVyJiYodGhpcy5vYnNlcnZlci5sYXN0UGFnZUluPTApO2Zvcih2YXIgZT0wO2U8dGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudDtlKyspe3ZhciB0PSgwLG8uZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1wYWdlLXdyYXBwZXJcIn0pO2lmKHRoaXMudWkuZG9jV3JhcHBlci5hcHBlbmRDaGlsZCh0KSwhdGhpcy5vcHRpb25zLmRvY3VtZW50Vmlld1NWRyl7dmFyIG49KDAsby5lbHQpKFwiY2FudmFzXCIse2NsYXNzOlwiXCJ9KTt0LmFwcGVuZENoaWxkKG4pfXQuc3R5bGUuaGVpZ2h0PXRoaXMudWkuY3VycmVudFBhZ2VIZWlnaHQrXCJweFwiLHQuc3R5bGUud2lkdGg9dGhpcy51aS5jdXJyZW50UGFnZVdpZHRoK1wicHhcIix0LnN0eWxlLm1hcmdpblRvcD10aGlzLnVpLmN1cnJlbnREb2NNYXJnaW4rXCJweFwiLHQuc3R5bGUubWFyZ2luQm90dG9tPXRoaXMudWkuY3VycmVudERvY01hcmdpbitcInB4XCIsdC5zdHlsZS5ib3JkZXI9XCJzb2xpZCBcIit0aGlzLm9wdGlvbnMuZG9jdW1lbnRWaWV3UGFnZUJvcmRlcitcInB4IGxpZ2h0Z3JheVwiLHQuZGF0YXNldC5wYWdlPWUrMSx0aGlzLm9ic2VydmVyP3RoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0KTp0aGlzLmNvbnRyb2xsZXIuc2VuZChcInJlbmRlclRvU1ZHXCIse3BhZ2VJbmRleDplKzF9LHRoaXMudmlld0luZGV4LHRoaXMucmVuZGVyVG9TVkdDYWxsYmFjayl9fX0se2tleTpcInVwZGF0ZVpvb21cIix2YWx1ZTpmdW5jdGlvbigpe2lmKGkodC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwidXBkYXRlWm9vbVwiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5vcHRpb25zLmRvY3VtZW50Vmlld1NWRyl7dGhpcy51cGRhdGVEaW1lbnNpb25zKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbnRyb2xsZXIucGFnZUNvdW50O2UrKyl7dmFyIG49dGhpcy51aS5kb2NXcmFwcGVyLmNoaWxkcmVuW2VdO24uc3R5bGUuaGVpZ2h0PXRoaXMudWkuY3VycmVudFBhZ2VIZWlnaHQrXCJweFwiLG4uc3R5bGUud2lkdGg9dGhpcy51aS5jdXJyZW50UGFnZVdpZHRoK1wicHhcIixuLnN0eWxlLm1hcmdpblRvcD10aGlzLnVpLmN1cnJlbnREb2NNYXJnaW4rXCJweFwiLG4uc3R5bGUubWFyZ2luQm90dG9tPXRoaXMudWkuY3VycmVudERvY01hcmdpbitcInB4XCIsbi5maXJzdENoaWxkJiZuLmZpcnN0Q2hpbGQmJihuLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy51aS5jdXJyZW50UGFnZUhlaWdodCtcInB4XCIpLG4uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMudWkuY3VycmVudFBhZ2VXaWR0aCtcInB4XCIpKX19ZWxzZSB0aGlzLnVwZGF0ZVZpZXcoKX19LHtrZXk6XCJyZW5kZXJUb1NWR0NhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy51aS5kb2NXcmFwcGVyLmNoaWxkcmVuW2UucGFnZUluZGV4LTFdO2lmKHRoaXMub3B0aW9ucy5kb2N1bWVudFZpZXdTVkcpe3ZhciBuPXRoaXMucGFyc2VBbmRTY2FsZVNWRyhlLnN2Zyx0aGlzLnVpLmN1cnJlbnRQYWdlSGVpZ2h0LHRoaXMudWkuY3VycmVudFBhZ2VXaWR0aCk7dGhpcy51aS5kb2NXcmFwcGVyLmNoaWxkcmVuW2UucGFnZUluZGV4LTFdLmFwcGVuZENoaWxkKG4pLGNsZWFyVGltZW91dCh0aGlzLnBydW5pbmcpO3ZhciByPXRoaXM7dGhpcy5wcnVuaW5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnBydW5lRG9jdW1lbnQoKX0sMjAwKX1lbHNle3ZhciBpPXQuZmlyc3RFbGVtZW50Q2hpbGQsbz1pLmdldENvbnRleHQoXCIyZFwiKSxhPXNlbGYuVVJMfHxzZWxmLndlYmtpdFVSTCxzPW5ldyBJbWFnZSxsPW5ldyBCbG9iKFtcIlwiK2Uuc3ZnXSx7dHlwZTpcImltYWdlL3N2Zyt4bWxcIn0pLHU9YS5jcmVhdGVPYmplY3RVUkwobCksYz10aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3MucGFnZUhlaWdodCxoPXRoaXMuY29udHJvbGxlci5zZXR0aW5ncy5wYWdlV2lkdGg7aS5oZWlnaHQ9dGhpcy51aS5jdXJyZW50UGFnZUhlaWdodCxpLndpZHRoPXRoaXMudWkuY3VycmVudFBhZ2VXaWR0aCxzLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKHMsMCwwLGgsYywwLDAsaS53aWR0aCxpLmhlaWdodCl9LHMuc3JjPXV9fX0se2tleTpcImhhbmRsZU9ic2VydmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMCxyPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIG8sYT1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KG89YS5uZXh0KCkpLmRvbmUpO249ITApe3ZhciBzPW8udmFsdWU7cy5pc0ludGVyc2VjdGluZyYmKHRoaXMudmlldy5sb2FkUGFnZShzLnRhcmdldCksdGhpcy52aWV3LmxvYWRQYWdlKHMudGFyZ2V0Lm5leHRTaWJsaW5nKSx0aGlzLmxhc3RQYWdlSW49cGFyc2VJbnQocy50YXJnZXQuZGF0YXNldC5wYWdlKSl9fWNhdGNoKGUpe3I9ITAsaT1lfWZpbmFsbHl7dHJ5eyFuJiZhLnJldHVybiYmYS5yZXR1cm4oKX1maW5hbGx5e2lmKHIpdGhyb3cgaX19fX0se2tleTpcImxvYWRQYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7bnVsbCE9PWUmJihlLmRhdGFzZXQubG9hZGVkfHwoZS5kYXRhc2V0LmxvYWRlZD0hMCx0aGlzLmNvbnRyb2xsZXIuc2VuZChcInJlbmRlclRvU1ZHXCIse3BhZ2VJbmRleDplLmRhdGFzZXQucGFnZX0sdGhpcy52aWV3SW5kZXgsdGhpcy5yZW5kZXJUb1NWR0NhbGxiYWNrKSkpfX0se2tleTpcInVwZGF0ZVNldHRpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250cm9sbGVyLnNlbmQoXCJzZXRPcHRpb25zXCIse29wdGlvbnM6dGhpcy5jb250cm9sbGVyLnNldHRpbmdzfSx0aGlzLnZpZXdJbmRleCksZSYmdGhpcy5yZW5kZXJDdXJyZW50UGFnZSgpfX0se2tleTpcInBydW5lRG9jdW1lbnRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5jb250cm9sbGVyLnBhZ2VDb3VudDtlKyspe3ZhciB0PXRoaXMudWkuZG9jV3JhcHBlci5jaGlsZHJlbltlXTtlPHRoaXMub2JzZXJ2ZXIubGFzdFBhZ2VJbi10aGlzLm9ic2VydmVyLnBydW5pbmdNYXJnaW4mJihkZWxldGUgdC5kYXRhc2V0LmxvYWRlZCx0LmlubmVySFRNTD1cIlwiKSxlPnRoaXMub2JzZXJ2ZXIubGFzdFBhZ2VJbit0aGlzLm9ic2VydmVyLnBydW5pbmdNYXJnaW4mJihkZWxldGUgdC5kYXRhc2V0LmxvYWRlZCx0LmlubmVySFRNTD1cIlwiKX19fV0pLHR9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkVkaXRvclZpZXc9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCksaT1uKDkpLG89bigxKTt0LkVkaXRvclZpZXc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4scil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KTt2YXIgaT1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fSh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsKHRoaXMsZSxuLHIpKTtyZXR1cm4gaS51aS5zdmdPdmVybGF5PSgwLG8uZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS1zdmctb3ZlcmxheVwiLHN0eWxlOlwicG9zaXRpb246IGFic29sdXRlXCJ9KSxpLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaS51aS5zdmdPdmVybGF5KSxpLmV2ZW50TWFuYWdlci5iaW5kKGkudWkuc3ZnT3ZlcmxheSxcInNjcm9sbFwiLGkuc3luY1Njcm9sbCksaS5ldmVudE1hbmFnZXIuYmluZChpLnVpLnN2Z092ZXJsYXksXCJjbGlja1wiLGkub2JqZWN0Q2xpY2tMaXN0ZW5lciksaS5tb3VzZU1vdmVUaW1lcj0hMSxpLmRyYWdnaW5nQWN0aXZlPSExLGkuaGlnaGxpZ2h0ZWRDYWNoZT1bXSxpLmRyYWdJbmZvPXt9LGkuZGVhY3RpdmF0ZSgpLGl9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9KHQsaS5SZXNwb25zaXZlVmlldykscih0LFt7a2V5OlwiYWN0aXZhdGVcIix2YWx1ZTpmdW5jdGlvbigpeyhmdW5jdGlvbiBlKHQsbixyKXtudWxsPT09dCYmKHQ9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7aWYodm9pZCAwPT09aSl7dmFyIG89T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3JldHVybiBudWxsPT09bz92b2lkIDA6ZShvLG4scil9aWYoXCJ2YWx1ZVwiaW4gaSlyZXR1cm4gaS52YWx1ZTt2YXIgYT1pLmdldDtyZXR1cm4gdm9pZCAwIT09YT9hLmNhbGwocik6dm9pZCAwfSkodC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiYWN0aXZhdGVcIix0aGlzKS5jYWxsKHRoaXMpfX0se2tleTpcInJlbmRlclRvU1ZHQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNvbnRyb2xsZXIuYXBwLmVuZExvYWRpbmcoKSx0aGlzLnVpLnN2Z1dyYXBwZXIuaW5uZXJIVE1MPWUuc3ZnLGUuY3JlYXRlT3ZlcmxheSYmdGhpcy5jcmVhdGVPdmVybGF5KCksdGhpcy5yZWFwcGx5SGlnaGxpZ2h0cygpfX0se2tleTpcImdldE1FSUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jb250cm9sbGVyLmFwcC51cGRhdGVEYXRhKGUubWVpLHRoaXMuY29udHJvbGxlcil9fSx7a2V5OlwiZ2V0UGFnZVdpdGhFbGVtZW50Q2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXtlLnBhZ2VXaXRoRWxlbWVudD4wJiZlLnBhZ2VXaXRoRWxlbWVudCE9dGhpcy5jdXJyZW50UGFnZSYmKHRoaXMuY3VycmVudFBhZ2U9ZS5wYWdlV2l0aEVsZW1lbnQsdGhpcy51cGRhdGVQYWdlKCkpLHRoaXMucmVzZXRIaWdobGlnaHRzKCksdGhpcy5hY3RpdmF0ZUhpZ2hsaWdodChlLmlkKX19LHtrZXk6XCJjcmVhdGVPdmVybGF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnVpLnN2Z092ZXJsYXkuaW5uZXJIVE1MPXRoaXMudWkuc3ZnV3JhcHBlci5pbm5lckhUTUw7dmFyIGU9ITAsdD0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciByLGk9dGhpcy51aS5zdmdPdmVybGF5LnF1ZXJ5U2VsZWN0b3JBbGwoXCJnXCIpW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KHI9aS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciBvPXIudmFsdWU7by5zdHlsZS5zdHJva2VPcGFjaXR5PTAsby5zdHlsZS5maWxsT3BhY2l0eT0wfX1jYXRjaChlKXt0PSEwLG49ZX1maW5hbGx5e3RyeXshZSYmaS5yZXR1cm4mJmkucmV0dXJuKCl9ZmluYWxseXtpZih0KXRocm93IG59fXZhciBhPSEwLHM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgdSxjPXRoaXMudWkuc3ZnT3ZlcmxheS5xdWVyeVNlbGVjdG9yQWxsKFwicGF0aFwiKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShhPSh1PWMubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgaD11LnZhbHVlO2guc3R5bGUuc3Ryb2tlT3BhY2l0eT0wLGguc3R5bGUuZmlsbE9wYWNpdHk9MH19Y2F0Y2goZSl7cz0hMCxsPWV9ZmluYWxseXt0cnl7IWEmJmMucmV0dXJuJiZjLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBsfX10aGlzLnVpLnN2Z092ZXJsYXkucXVlcnlTZWxlY3RvckFsbChcInRleHRcIik7Zm9yKHZhciBkPXRoaXMudWkuc3ZnT3ZlcmxheS5xdWVyeVNlbGVjdG9yQWxsKFwiLm5vdGVcIiksZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgcD1kW2ZdO3RoaXMuZXZlbnRNYW5hZ2VyLmJpbmQocCxcIm1vdXNlZG93blwiLHRoaXMubW91c2VEb3duTGlzdGVuZXIpLHRoaXMuZXZlbnRNYW5hZ2VyLmJpbmQocCxcInRvdWNoc3RhcnRcIix0aGlzLm1vdXNlRG93bkxpc3RlbmVyKX10aGlzLnJlYXBwbHlIaWdobGlnaHRzKCl9fSx7a2V5OlwiY29tbWl0Q2hhbmdlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5oaWdobGlnaHRlZENhY2hlLmxlbmd0aDt0Kyspe3ZhciBuPXRoaXMuaGlnaGxpZ2h0ZWRDYWNoZVt0XSxyPXRoaXMudWkuc3ZnT3ZlcmxheS5xdWVyeVNlbGVjdG9yKFwiI1wiK24pLGk9dGhpcy5kcmFnSW5mby5zdmdZKyhlLXRoaXMuZHJhZ0luZm8uaW5pdFkpKnRoaXMuZHJhZ0luZm8ucGl4UGVyUGl4O3Iuc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiK1swLGldK1wiKVwiO3ZhciBvPXthY3Rpb246XCJkcmFnXCIscGFyYW06e2VsZW1lbnRJZDpuLHg6cGFyc2VJbnQodGhpcy5kcmFnSW5mby54KSx5OnBhcnNlSW50KGkpfX07dGhpcy5jb250cm9sbGVyLnNlbmQoXCJlZGl0XCIse2FjdGlvbjpvLHBhZ2VJbmRleDp0aGlzLmN1cnJlbnRQYWdlfSx0aGlzLnZpZXdJbmRleCx0aGlzLnJlbmRlclRvU1ZHQ2FsbGJhY2spfX19LHtrZXk6XCJhY3RpdmF0ZUhpZ2hsaWdodFwiLHZhbHVlOmZ1bmN0aW9uKGUpey0xPT09dGhpcy5oaWdobGlnaHRlZENhY2hlLmluZGV4T2YoZSkmJnRoaXMuaGlnaGxpZ2h0ZWRDYWNoZS5wdXNoKGUpLHRoaXMucmVhcHBseUhpZ2hsaWdodHMoKX19LHtrZXk6XCJyZWFwcGx5SGlnaGxpZ2h0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmhpZ2hsaWdodGVkQ2FjaGUubGVuZ3RoO2UrKyl7dmFyIHQ9dGhpcy5oaWdobGlnaHRlZENhY2hlW2VdO3RoaXMuaGlnaGxpZ2h0V2l0aENvbG9yKHRoaXMudWkuc3ZnV3JhcHBlci5xdWVyeVNlbGVjdG9yKFwiI1wiK3QpLFwiI2YwMFwiKX19fSx7a2V5OlwicmVtb3ZlSGlnaGxpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oaWdobGlnaHRlZENhY2hlLmluZGV4T2YoZSk7LTEhPT10JiYodGhpcy5oaWdobGlnaHRXaXRoQ29sb3IodGhpcy51aS5zdmdXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIjXCIrZSksXCJcIiksdGhpcy5oaWdobGlnaHRlZENhY2hlLnNwbGljZSh0LDEpKX19LHtrZXk6XCJyZXNldEhpZ2hsaWdodHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcig7dGhpcy5oaWdobGlnaHRlZENhY2hlWzBdOyl0aGlzLnJlbW92ZUhpZ2hsaWdodCh0aGlzLmhpZ2hsaWdodGVkQ2FjaGVbMF0pfX0se2tleTpcImhpZ2hsaWdodFdpdGhDb2xvclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoZSl7ZS5zdHlsZS5maWxsPXQsZS5zdHlsZS5zdHJva2U9dDtmb3IodmFyIG49MDtuPGUuY2hpbGRyZW4ubGVuZ3RoO24rKyl0aGlzLmhpZ2hsaWdodFdpdGhDb2xvcihlLmNoaWxkcmVuW25dLHQpfX19LHtrZXk6XCJvYmplY3RDbGlja0xpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQuY2xvc2VzdChcIi5tZWFzdXJlXCIpO3QmJnRoaXMuZXZlbnRzLnB1Ymxpc2goXCJPYmplY3RDbGlja2VkXCIsW2UudGFyZ2V0LHRdKSxlLnN0b3BQcm9wYWdhdGlvbigpfX0se2tleTpcIm1vdXNlRG93bkxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYodC5jbG9zZXN0KFwiLm5vdGVcIikpe3ZhciBuPXQuY2xvc2VzdChcIi5ub3RlXCIpLmF0dHJpYnV0ZXMuaWQudmFsdWU7dGhpcy5jb250cm9sbGVyLmFwcC51cGRhdGVDdXJyZW50KG4sdGhpcy5jb250cm9sbGVyKSx0aGlzLnJlc2V0SGlnaGxpZ2h0cygpLHRoaXMuYWN0aXZhdGVIaWdobGlnaHQobik7dmFyIHI9dC5jbG9zZXN0KFwic3ZnXCIpLGk9ci5wYXJlbnROb2RlLmNsb3Nlc3QoXCJzdmdcIiksbz1yLmdldEF0dHJpYnV0ZShcInZpZXdCb3hcIikuc3BsaXQoXCIgXCIpLGE9cGFyc2VJbnQob1szXSkvcGFyc2VJbnQoaS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikpO3RoaXMuZHJhZ0luZm8ueD1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcInhcIikpLHRoaXMuZHJhZ0luZm8uc3ZnWT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcInlcIikpLHRoaXMuZHJhZ0luZm8uaW5pdFk9ZS5wYWdlWSx0aGlzLmRyYWdJbmZvLnBpeFBlclBpeD1hLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLmJvdW5kTW91c2VNb3ZlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuYm91bmRNb3VzZVVwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5ib3VuZE1vdXNlTW92ZSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5ib3VuZE1vdXNlVXApfWVsc2UgY29uc29sZS5sb2coXCIubm90ZSBub3QgZm91bmRcIil9fSx7a2V5OlwibW91c2VNb3ZlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5tb3VzZU1vdmVUaW1lcil7dmFyIHQ9dGhpcyxuPWU7dGhpcy5tb3VzZU1vdmVUaW1lcj0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5tb3VzZU1vdmVUaW1lcj0hMTtmb3IodmFyIHI9KG4ucGFnZVktdC5kcmFnSW5mby5pbml0WSkqdC5kcmFnSW5mby5waXhQZXJQaXgsaT0wO2k8dC5oaWdobGlnaHRlZENhY2hlLmxlbmd0aDtpKyspdC51aS5zdmdPdmVybGF5LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrdC5oaWdobGlnaHRlZENhY2hlW2ldKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCBcIityK1wiKVwiKTt0LmRyYWdnaW5nQWN0aXZlPSEwLHQuY29tbWl0Q2hhbmdlcyhlLnBhZ2VZKX0sNTApfWUucHJldmVudERlZmF1bHQoKX19LHtrZXk6XCJtb3VzZVVwTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihlKXtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5ib3VuZE1vdXNlTW92ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLmJvdW5kTW91c2VVcCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuYm91bmRNb3VzZU1vdmUpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuYm91bmRNb3VzZVVwKSwhMD09PXRoaXMuZHJhZ2dpbmdBY3RpdmUmJih0aGlzLmRyYWdnaW5nQWN0aXZlPSExLHRoaXMucmVzZXRIaWdobGlnaHRzKCksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJzZXRPcHRpb25zXCIse29wdGlvbnM6dGhpcy5jb250cm9sbGVyLnNldHRpbmdzfSx0aGlzLnZpZXdJbmRleCksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJyZWRvTGF5b3V0XCIse29wdGlvbnM6dGhpcy5jb250cm9sbGVyLnNldHRpbmdzfSx0aGlzLnZpZXdJbmRleCx0aGlzLnJlZG9MYXlvdXRDYWxsYmFjayksdGhpcy5jb250cm9sbGVyLnNlbmQoXCJnZXRNRUlcIix7b3B0aW9uczp0aGlzLmNvbnRyb2xsZXIuc2V0dGluZ3N9LHRoaXMudmlld0luZGV4LHRoaXMuZ2V0TUVJQ2FsbGJhY2spKX19XSksdH0oKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCk7dC5STkdMb2FkZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnJuZ25zPVwiaHR0cDovL3JlbGF4bmcub3JnL25zL3N0cnVjdHVyZS8xLjBcIix0aGlzLnRhZ3M9e319cmV0dXJuIHIoZSxbe2tleTpcInNldFJlbGF4TkdTY2hlbWFcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5jb2xsZWN0RGVmaW5pdGlvbnMoZSkscj17fTtPYmplY3Qua2V5cyhuKS5tYXAoZnVuY3Rpb24oZSl7bltlXS5tYXAoZnVuY3Rpb24oZSl7dC5maW5kRWxlbWVudHMobixlLHIpfSl9KSxyW1wiIXRvcFwiXT10aGlzLmZpbmRBbGxUb3BMZXZlbEVsZW1lbnRzKG4sW10sZSksdGhpcy50YWdzPXRoaXMuc29ydE9iamVjdChyKX19LHtrZXk6XCJjb2xsZWN0RGVmaW5pdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT17fSxvPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyh0aGlzLnJuZ25zLFwiZGVmaW5lXCIpO2Zvcih0PTA7dDxvLmxlbmd0aDt0Kz0xKShpW249KHI9by5pdGVtKHQpKS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXT1pW25dfHxbXSkucHVzaChyKTtyZXR1cm4gaX19LHtrZXk6XCJmb2xsb3dSZWZlcmVuY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1uLmdldEF0dHJpYnV0ZShcIm5hbWVcIikudHJpbSgpOy0xPT09dC5pbmRleE9mKGkpJiYodC5wdXNoKGkpLGVbaV0ubWFwKHIpLHQucG9wKCkpfX0se2tleTpcInJlY3Vyc2VSbmdcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaTtpZih0aGlzLmlzUm5nKG4sXCJyZWZcIikpdGhpcy5mb2xsb3dSZWZlcmVuY2UoZSx0LG4sZnVuY3Rpb24oZSl7cihlKX0pO2Vsc2UgZm9yKGk9bi5maXJzdEVsZW1lbnRDaGlsZDtpOylyKGkpLGk9aS5uZXh0RWxlbWVudFNpYmxpbmd9fSx7a2V5OlwiZ2V0QXR0cmlidXRlVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk7aWYodGhpcy5pc1JuZyhuLFwidmFsdWVcIikpaT1uLnRleHRDb250ZW50LnRyaW0oKSwtMT09PXIuaW5kZXhPZihpKSYmci5wdXNoKGkpO2Vsc2V7dmFyIG89dGhpczt0aGlzLnJlY3Vyc2VSbmcoZSx0LG4sZnVuY3Rpb24obil7by5nZXRBdHRyaWJ1dGVWYWx1ZXMoZSx0LG4scil9KX19fSx7a2V5OlwiZ2V0TmFtZXNSZWN1cnNlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZih0aGlzLmlzUm5nKGUsXCJuYW1lXCIpKXQucHVzaChlLnRleHRDb250ZW50KTtlbHNlIGlmKHRoaXMuaXNSbmcoZSxcImNob2ljZVwiKSlmb3Iobj1lLmZpcnN0RWxlbWVudENoaWxkO247KXRoaXMuZ2V0TmFtZXNSZWN1cnNlKG4sdCksbj1uLm5leHRFbGVtZW50U2libGluZ319LHtrZXk6XCJnZXROYW1lc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUuaGFzQXR0cmlidXRlKFwibmFtZVwiKSlyZXR1cm5bZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXTtmb3IodmFyIHQ9W10sbj1lLmZpcnN0RWxlbWVudENoaWxkO247KXRoaXMuZ2V0TmFtZXNSZWN1cnNlKG4sdCksbj1uLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gdH19LHtrZXk6XCJkZWZpbmVFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1bXTtpZih0aGlzLmlzUm5nKG4sXCJlbGVtZW50XCIpKShpPXRoaXMuZ2V0TmFtZXMobikpLm1hcChmdW5jdGlvbihlKXstMT09PXIuY2hpbGRyZW4uaW5kZXhPZihlKSYmci5jaGlsZHJlbi5wdXNoKGUpfSk7ZWxzZSBpZih0aGlzLmlzUm5nKG4sXCJhdHRyaWJ1dGVcIikpdGhpcy5nZXRBdHRyaWJ1dGVWYWx1ZXMoZSx0LG4sbyksaT10aGlzLmdldE5hbWVzKG4pLDA9PT1vLmxlbmd0aCYmKG89bnVsbCksaS5tYXAoZnVuY3Rpb24oZSl7ci5hdHRyc1tlXT9yLmF0dHJzW2VdPXIuYXR0cnNbZV0uY29uY2F0KG8pOnIuYXR0cnNbZV09b30pO2Vsc2UgaWYodGhpcy5pc1JuZyhuLFwidGV4dFwiKSlyLnRleHQ9ITA7ZWxzZXt2YXIgYT10aGlzO3RoaXMucmVjdXJzZVJuZyhlLHQsbixmdW5jdGlvbihuKXthLmRlZmluZUVsZW1lbnQoZSx0LG4scil9KX19fSx7a2V5Olwic29ydE9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49T2JqZWN0LmtleXMoZSk7cmV0dXJuIG4uc29ydCgpLG4ubWFwKGZ1bmN0aW9uKG4pe3Rbbl09ZVtuXX0pLHR9fSx7a2V5Olwic29ydEF0dHJpYnV0ZVZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXt2YXIgbj1lW3RdO24mJm4uc29ydCgpfSl9fSx7a2V5OlwiZmluZEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYodGhpcy5pc1JuZyh0LFwiZWxlbWVudFwiKSl7Zm9yKGk9e2F0dHJzOnt9LGNoaWxkcmVuOltdfSxyPXQuZmlyc3RFbGVtZW50Q2hpbGQ7cjspdGhpcy5kZWZpbmVFbGVtZW50KGUsW10scixpKSxyPXIubmV4dEVsZW1lbnRTaWJsaW5nO2kuY2hpbGRyZW4uc29ydCgpLGkuYXR0cnM9dGhpcy5zb3J0T2JqZWN0KGkuYXR0cnMpLHRoaXMuc29ydEF0dHJpYnV0ZVZhbHVlcyhpLmF0dHJzKSx0aGlzLmdldE5hbWVzKHQpLm1hcChmdW5jdGlvbihlKXtuW2VdPWl9KX1lbHNlIGZvcihyPXQuZmlyc3RFbGVtZW50Q2hpbGQ7cjspdGhpcy5maW5kRWxlbWVudHMoZSxyLG4pLHI9ci5uZXh0RWxlbWVudFNpYmxpbmd9fSx7a2V5OlwiZmluZFRvcExldmVsRWxlbWVudHNcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixyKXtpZihcImVsZW1lbnRcIj09PW4ubG9jYWxOYW1lKW4uaGFzQXR0cmlidXRlKFwibmFtZVwiKSYmci5wdXNoKG4uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSk7ZWxzZXt2YXIgaT10aGlzO3RoaXMucmVjdXJzZVJuZyhlLHQsbixmdW5jdGlvbihuKXtpLmZpbmRUb3BMZXZlbEVsZW1lbnRzKGUsdCxuLHIpfSl9fX0se2tleTpcImZpbmRBbGxUb3BMZXZlbEVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1bXSxhPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyh0aGlzLnJuZ25zLFwic3RhcnRcIik7Zm9yKGk9MDtpPGEubGVuZ3RoO2krPTEpcj1hLml0ZW0oaSksdGhpcy5maW5kVG9wTGV2ZWxFbGVtZW50cyhlLHQscixvKTtyZXR1cm4gb319LHtrZXk6XCJpc1JuZ1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubmFtZXNwYWNlVVJJPT09dGhpcy5ybmducyYmZS5sb2NhbE5hbWU9PT10fX1dKSxlfSgpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIG4oOCkoJyFmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBvKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgbj10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG4uZXhwb3J0cyxuLG4uZXhwb3J0cyxvKSxuLmw9ITAsbi5leHBvcnRzfW8ubT1lLG8uYz10LG8uZD1mdW5jdGlvbihlLHQscil7by5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sby5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG8udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9byhlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG8ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG4gaW4gZSlvLmQocixuLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbikpO3JldHVybiByfSxvLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG8uZCh0LFwiYVwiLHQpLHR9LG8ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sby5wPVwiXCIsbyhvLnM9MCl9KFtmdW5jdGlvbihlLHQpe3ZhciBvLHI7ZnVuY3Rpb24gbihlLHQsbyl7cG9zdE1lc3NhZ2UoW2UsdCxvXSl9c2VsZi5Nb2R1bGU9e2xvY2F0ZUZpbGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUubG9nKGUpLGBodHRwczovL3d3dy52ZXJvdmlvLm9yZy9qYXZhc2NyaXB0L3ZhbGlkYXRvci8ke2V9YH0sb25SdW50aW1lSW5pdGlhbGl6ZWQ6ZnVuY3Rpb24oKXtvbkxvYWQoKX19LHNlbGYuaW1wb3J0U2NyaXB0cyhcImh0dHBzOi8vd3d3LnZlcm92aW8ub3JnL2phdmFzY3JpcHQvdmFsaWRhdG9yL3htbC12YWxpZGF0b3IuanNcIiksc2VsZi5vbkxvYWQ9ZnVuY3Rpb24oKXtNb2R1bGUuY3dyYXAoXCJzZXRfc2NoZW1hXCIsXCJib29sXCIsW1wic3RyaW5nXCJdKTtNb2R1bGUuY3dyYXAoXCJ2YWxpZGF0ZVwiLFwic3RyaW5nXCIsW1wic3RyaW5nXCJdKSxvPU1vZHVsZS5jd3JhcChcInNldF9yZWxheE5HX3NjaGVtYVwiLFwiYm9vbFwiLFtcInN0cmluZ1wiXSkscj1Nb2R1bGUuY3dyYXAoXCJ2YWxpZGF0ZV9OR1wiLFwic3RyaW5nXCIsW1wic3RyaW5nXCJdKSxzZWxmLmluaXRpYWxpemVkPSEwLGNvbnNvbGUubG9nKFwiWE1MIFZhbGlkYXRvciAoV0FTTSkgbG9hZGVkXCIpLG4oXCJsb2FkZWRcIiwhMSx7fSl9LHNlbGYuaW5pdGlhbGl6ZWQ9ITEsc2VsZi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YVswXSxhPWUuZGF0YVsxXSxpPWUuZGF0YVsyXTtpZihpbml0aWFsaXplZClzd2l0Y2godCl7Y2FzZVwic2V0UmVsYXhOR1NjaGVtYVwiOm8oaS5zY2hlbWEpLGNvbnNvbGUubG9nKFwiU2NoZW1hIGxvYWRlZFwiKTticmVhaztjYXNlXCJ2YWxpZGF0ZU5HXCI6bih0K1wiLW9rXCIsYSx7dmFsaWRhdGlvbjpyKGkueG1sKSx0ZXh0OmkueG1sfSk7YnJlYWs7ZGVmYXVsdDpuKFwiZXJyb3JcIixhLHtlcnJvcjpcIkRpZCBub3QgcmVjb2duaXplIGlucHV0IFwiK2UuZGF0YX0pfWVsc2UgbihcImVycm9yXCIsYSx7ZXJyb3I6XCJUaGUgdmFsaWRhdG9yIGhhcyBub3QgZmluaXNoZWQgbG9hZGluZyB5ZXQhXCJ9KX0sITEpfV0pOycsbi5wK1widmVyb3Zpby13b3JrZXIuanNcIil9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5YTUxFZGl0b3I9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCksaT1uKDEwKSxvPW4oMSk7bigxOSksbigyMiksbigyNCksbigyNiksbigyOCksbigzMCksbigzMSksbigxMiksbigzMiksbigxMSksbigzMyksbigzNCksbigzNSksbigzNiksbigzNyk7dmFyIGE9bigwKTt0LlhNTEVkaXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2lmKGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSwhKHQmJnQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkpdGhyb3dcIkFsbCBYTUxFZGl0b3Igb2JqZWN0cyBtdXN0IGJlIGluaXRpYWxpemVkIHdpdGggJ2RpdicgcGFyYW1ldGVyIHRoYXQgaXMgYSBIVE1MRGl2RWxlbWVudCBlbGVtZW50LlwiO2lmKHRoaXMuZWxlbWVudD10LCEobiYmbiBpbnN0YW5jZW9mIGkuVmFsaWRhdG9yKSl0aHJvd1wiQWxsIFhNTEVkaXRvciBvYmplY3RzIG11c3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhICd2YWxpZGF0b3InIHBhcmFtZXRlciB0aGF0IGlzIGFuIGluc3RhbmNlIG9mIHRoZSBWYWxpdG9yIGNsYXNzLlwiO3RoaXMudmFsaWRhdG9yPW4sdGhpcy5vcHRpb25zPXIsdGhpcy52aWV3SW5kZXg9dGhpcy52YWxpZGF0b3IucmVnaXN0ZXIodGhpcyksdGhpcy51aT17fSx0aGlzLnVpLnhtbHZhbGlkPSgwLG8uZWx0KShcImRpdlwiLHtjbGFzczpcInZydi11aS14bWx2YWxpZFwifSksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudWkueG1sdmFsaWQpLHRoaXMudWkueG1sZWRpdG9yPSgwLG8uZWx0KShcInRleHRhcmVhXCIse2NsYXNzOlwiXCIsc3R5bGU6XCJcIn0pLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnVpLnhtbGVkaXRvciksdGhpcy51cGRhdGVMaW50aW5nPW51bGwsdGhpcy5jdXJyZW50SWQ9XCJcIix0aGlzLmxvYWRlZD0hMTt2YXIgYz10aGlzO3RoaXMuQ01lZGl0b3I9YS5mcm9tVGV4dEFyZWEodGhpcy51aS54bWxlZGl0b3Ise2xpbmVOdW1iZXJzOiEwLHJlYWRPbmx5OiExLGF1dG9DbG9zZVRhZ3M6ITAsaW5kZW50VW5pdDo0LG1vZGU6XCJ4bWxcIixmb2xkR3V0dGVyOiEwLHN0eWxlQWN0aXZlTGluZTohMCxoaW50T3B0aW9uczp7c2NoZW1hSW5mbzp0aGlzLnZhbGlkYXRvci50YWdzfSxleHRyYUtleXM6e1wiJzwnXCI6cyxcIicvJ1wiOmwsXCInICdcIjp1LFwiJz0nXCI6dX0sZ3V0dGVyczpbXCJDb2RlTWlycm9yLWxpbnQtbWFya2Vyc1wiLFwiQ29kZU1pcnJvci1mb2xkZ3V0dGVyXCJdLGxpbnQ6e2NhbGxlcjpjLGdldEFubm90YXRpb25zOnRoaXMudmFsaWRhdGUsYXN5bmM6ITB9fSksdGhpcy5DTWVkaXRvci5vbihcImN1cnNvckFjdGl2aXR5XCIsZnVuY3Rpb24oZSl7Yy5vbkN1cnNvckFjdGl2aXR5KGUpfSksdGhpcy5kZWFjdGl2YXRlKCl9cmV0dXJuIHIoZSxbe2tleTpcInVwZGF0ZURpbWVuc2lvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuQ01lZGl0b3Iuc2V0U2l6ZSh0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGgsdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCl9fSx7a2V5OlwiYWN0aXZhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn19LHtrZXk6XCJkZWFjdGl2YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19LHtrZXk6XCJ1cGRhdGVWaWV3XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwib25SZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlRGltZW5zaW9ucygpfX0se2tleTpcInZhbGlkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2lmKG4mJm4uY2FsbGVyJiZlKXt2YXIgcj1uLmNhbGxlcjtyLnVpLnhtbHZhbGlkJiYoci51aS54bWx2YWxpZC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxyLnVwZGF0ZUxpbnRpbmc9dCxyLnZhbGlkYXRvci5zZW5kKFwidmFsaWRhdGVOR1wiLHt4bWw6ZX0sci52aWV3SW5kZXgsci52YWxpZGF0ZUNhbGxiYWNrKX19fSx7a2V5Olwic2V0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMubG9hZGVkPSExLHRoaXMuQ01lZGl0b3Iuc2V0VmFsdWUoZSl9fSx7a2V5Olwic2V0Q3VycmVudFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuQ01lZGl0b3IuZ2V0U2VhcmNoQ3Vyc29yKCd4bWw6aWQ9XCInK2UrJ1wiJyk7dC5maW5kTmV4dCgpLHQuYXRPY2N1cnJlbmNlJiYodGhpcy5DTWVkaXRvci5zY3JvbGxJbnRvVmlldyh7bGluZTp0LnBvcy5mcm9tLmxpbmUsY2hhcjowfSw2MCksdGhpcy5DTWVkaXRvci5zZXRDdXJzb3IodC5mcm9tKCkpKX19LHtrZXk6XCJvbkN1cnNvckFjdGl2aXR5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDdXJzb3IoKSxuPWUuZ2V0TGluZSh0LmxpbmUpLm1hdGNoKC8uKnhtbDppZD1cXFwiKFteXCJdKilcXFwiLiovKTtuJiYodGhpcy5jdXJyZW50SWQhPT1uWzFdJiZ0aGlzLnZhbGlkYXRvci5hcHAudXBkYXRlQ3VycmVudChuWzFdLHRoaXMpLHRoaXMuY3VycmVudElkPW5bMV0pfX0se2tleTpcInZhbGlkYXRlQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9W10saT0wO3RyeXt0PWUudGV4dC5zcGxpdChcIlxcblwiKSxuPUpTT04ucGFyc2UoZS52YWxpZGF0aW9uKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcImNvdWxkIG5vdCBwYXJzZSBqc29uOlwiLGUpfWZvcig7aTxuLmxlbmd0aDspe3ZhciBvPU1hdGgubWF4KG5baV0ubGluZS0xLDApO3IucHVzaCh7ZnJvbTpuZXcgYS5Qb3MobywwKSx0bzpuZXcgYS5Qb3Mobyx0W29dLmxlbmd0aCksc2V2ZXJpdHk6XCJlcnJvclwiLG1lc3NhZ2U6bltpXS5tZXNzYWdlfSksaSs9MX10aGlzLnVwZGF0ZUxpbnRpbmcodGhpcy5DTWVkaXRvcixyKSwwPT1yLmxlbmd0aCYmKHRoaXMubG9hZGVkJiZ0aGlzLnZhbGlkYXRvci5hcHAudXBkYXRlRGF0YShlLnRleHQsdGhpcyksdGhpcy51aS54bWx2YWxpZC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIiksdGhpcy5sb2FkZWQ9ITB9fV0pLGV9KCk7ZnVuY3Rpb24gcyhlLHQpe2UuZ2V0Q3Vyc29yKCk7cmV0dXJuIHQmJiF0KCl8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnN0YXRlLmNvbXBsZXRpb25BY3RpdmV8fGEuc2hvd0hpbnQoZSxhLmhpbnQueG1sLHtzY2hlbWFJbmZvOmEuc2NoZW1hSW5mbyxjb21wbGV0ZVNpbmdsZTohMX0pfSwxMDApLGEuUGFzc31mdW5jdGlvbiBsKGUpe3JldHVybiBzKGUsZnVuY3Rpb24oKXt2YXIgdD1lLmdldEN1cnNvcigpO3JldHVyblwiPFwiPT1lLmdldFJhbmdlKGEuUG9zKHQubGluZSx0LmNoLTEpLHQpfSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gcyhlLGZ1bmN0aW9uKCl7dmFyIHQ9ZS5nZXRUb2tlbkF0KGUuZ2V0Q3Vyc29yKCkpO3JldHVybiEhKFwic3RyaW5nXCIhPXQudHlwZXx8L1snXCJdLy50ZXN0KHQuc3RyaW5nLmNoYXJBdCh0LnN0cmluZy5sZW5ndGgtMSkpJiYxIT10LnN0cmluZy5sZW5ndGgpJiZhLmlubmVyTW9kZShlLmdldE1vZGUoKSx0LnN0YXRlKS5zdGF0ZS50YWdOYW1lfSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMCk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbZS5pLHIsXCJcIl1dKTt2YXIgaT17aG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMykocixpKTtyLmxvY2FscyYmKGUuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxuKXsoZS5leHBvcnRzPW4oMikoITEpKS5wdXNoKFtlLmksXCIvKiBCQVNJQ1MgKi9cXG4uQ29kZU1pcnJvciB7XFxuICAvKiBTZXQgaGVpZ2h0LCB3aWR0aCwgYm9yZGVycywgYW5kIGdsb2JhbCBmb250IHByb3BlcnRpZXMgaGVyZSAqL1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGhlaWdodDogMzAwcHg7XFxuICBjb2xvcjogYmxhY2s7XFxuICBkaXJlY3Rpb246IGx0cjsgfVxcblxcbi8qIFBBRERJTkcgKi9cXG4uQ29kZU1pcnJvci1saW5lcyB7XFxuICBwYWRkaW5nOiA0cHggMDtcXG4gIC8qIFZlcnRpY2FsIHBhZGRpbmcgYXJvdW5kIGNvbnRlbnQgKi8gfVxcblxcbi5Db2RlTWlycm9yIHByZSB7XFxuICBwYWRkaW5nOiAwIDRweDtcXG4gIC8qIEhvcml6b250YWwgcGFkZGluZyBvZiBjb250ZW50ICovIH1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLCAuQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgLyogVGhlIGxpdHRsZSBzcXVhcmUgYmV0d2VlbiBIIGFuZCBWIHNjcm9sbGJhcnMgKi8gfVxcblxcbi8qIEdVVFRFUiAqL1xcbi5Db2RlTWlycm9yLWd1dHRlcnMge1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwOyB9XFxuXFxuLkNvZGVNaXJyb3ItbGluZW51bWJlciB7XFxuICBwYWRkaW5nOiAwIDNweCAwIDVweDtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgY29sb3I6ICM5OTk7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwOyB9XFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVybWFya2VyIHtcXG4gIGNvbG9yOiBibGFjazsgfVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUge1xcbiAgY29sb3I6ICM5OTk7IH1cXG5cXG4vKiBDVVJTT1IgKi9cXG4uQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBibGFjaztcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG4gIHdpZHRoOiAwOyB9XFxuXFxuLyogU2hvd24gd2hlbiBtb3ZpbmcgaW4gYmktZGlyZWN0aW9uYWwgdGV4dCAqL1xcbi5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLXNlY29uZGFyeWN1cnNvciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHNpbHZlcjsgfVxcblxcbi5jbS1mYXQtY3Vyc29yIC5Db2RlTWlycm9yLWN1cnNvciB7XFxuICB3aWR0aDogYXV0bztcXG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZDogIzdlNzsgfVxcblxcbi5jbS1mYXQtY3Vyc29yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgei1pbmRleDogMTsgfVxcblxcbi5jbS1mYXQtY3Vyc29yLW1hcmsge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMCwgMjU1LCAyMCwgMC41KTtcXG4gIC13ZWJraXQtYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG4gIGFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7IH1cXG5cXG4uY20tYW5pbWF0ZS1mYXQtY3Vyc29yIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgYm9yZGVyOiAwO1xcbiAgLXdlYmtpdC1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3ZTc7IH1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUgeyB9XFxuICA1MCUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxcbiAgMTAwJSB7IH0gfVxcblxcbkBrZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUgeyB9XFxuICA1MCUge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxcbiAgMTAwJSB7IH0gfVxcblxcbi8qIENhbiBzdHlsZSBjdXJzb3IgZGlmZmVyZW50IGluIG92ZXJ3cml0ZSAobm9uLWluc2VydCkgbW9kZSAqL1xcbi5jbS10YWIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0OyB9XFxuXFxuLkNvZGVNaXJyb3ItcnVsZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIHRvcDogLTUwcHg7XFxuICBib3R0b206IC0yMHB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxcblxcbi5Db2RlTWlycm9yLXJ1bGVyIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2NjYztcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTsgfVxcblxcbi8qIERFRkFVTFQgVEhFTUUgKi9cXG4uY20tcy1kZWZhdWx0IC5jbS1oZWFkZXIge1xcbiAgY29sb3I6IGJsdWU7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1xdW90ZSB7XFxuICBjb2xvcjogIzA5MDsgfVxcblxcbi5jbS1uZWdhdGl2ZSB7XFxuICBjb2xvcjogI2Q0NDsgfVxcblxcbi5jbS1wb3NpdGl2ZSB7XFxuICBjb2xvcjogIzI5MjsgfVxcblxcbi5jbS1oZWFkZXIsIC5jbS1zdHJvbmcge1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7IH1cXG5cXG4uY20tZW0ge1xcbiAgZm9udC1zdHlsZTogaXRhbGljOyB9XFxuXFxuLmNtLWxpbmsge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IH1cXG5cXG4uY20tc3RyaWtldGhyb3VnaCB7XFxuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDsgfVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWtleXdvcmQge1xcbiAgY29sb3I6ICM3MDg7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1hdG9tIHtcXG4gIGNvbG9yOiAjMjE5OyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tbnVtYmVyIHtcXG4gIGNvbG9yOiAjMTY0OyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tZGVmIHtcXG4gIGNvbG9yOiAjMDBmOyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMiB7XFxuICBjb2xvcjogIzA1YTsgfVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLXZhcmlhYmxlLTMsIC5jbS1zLWRlZmF1bHQgLmNtLXR5cGUge1xcbiAgY29sb3I6ICMwODU7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1jb21tZW50IHtcXG4gIGNvbG9yOiAjYTUwOyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tc3RyaW5nIHtcXG4gIGNvbG9yOiAjYTExOyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tc3RyaW5nLTIge1xcbiAgY29sb3I6ICNmNTA7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1tZXRhIHtcXG4gIGNvbG9yOiAjNTU1OyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tcXVhbGlmaWVyIHtcXG4gIGNvbG9yOiAjNTU1OyB9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tYnVpbHRpbiB7XFxuICBjb2xvcjogIzMwYTsgfVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWJyYWNrZXQge1xcbiAgY29sb3I6ICM5OTc7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS10YWcge1xcbiAgY29sb3I6ICMxNzA7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1hdHRyaWJ1dGUge1xcbiAgY29sb3I6ICMwMGM7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1ociB7XFxuICBjb2xvcjogIzk5OTsgfVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWxpbmsge1xcbiAgY29sb3I6ICMwMGM7IH1cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1lcnJvciB7XFxuICBjb2xvcjogI2YwMDsgfVxcblxcbi5jbS1pbnZhbGlkY2hhciB7XFxuICBjb2xvcjogI2YwMDsgfVxcblxcbi5Db2RlTWlycm9yLWNvbXBvc2luZyB7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQ7IH1cXG5cXG4vKiBEZWZhdWx0IHN0eWxlcyBmb3IgY29tbW9uIGFkZG9ucyAqL1xcbmRpdi5Db2RlTWlycm9yIHNwYW4uQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQge1xcbiAgY29sb3I6ICMwYjA7IH1cXG5cXG5kaXYuQ29kZU1pcnJvciBzcGFuLkNvZGVNaXJyb3Itbm9ubWF0Y2hpbmdicmFja2V0IHtcXG4gIGNvbG9yOiAjYTIyOyB9XFxuXFxuLkNvZGVNaXJyb3ItbWF0Y2hpbmd0YWcge1xcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE1MCwgMCwgMC4zKTsgfVxcblxcbi5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7XFxuICBiYWNrZ3JvdW5kOiAjZThmMmZmOyB9XFxuXFxuLyogU1RPUCAqL1xcbi8qIFRoZSByZXN0IG9mIHRoaXMgZmlsZSBjb250YWlucyBzdHlsZXMgcmVsYXRlZCB0byB0aGUgbWVjaGFuaWNzIG9mXFxuICAgdGhlIGVkaXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCB0b3VjaCB0aGVtLiAqL1xcbi5Db2RlTWlycm9yIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTsgfVxcblxcbi5Db2RlTWlycm9yLXNjcm9sbCB7XFxuICBvdmVyZmxvdzogc2Nyb2xsICFpbXBvcnRhbnQ7XFxuICAvKiBUaGluZ3Mgd2lsbCBicmVhayBpZiB0aGlzIGlzIG92ZXJyaWRkZW4gKi9cXG4gIC8qIDMwcHggaXMgdGhlIG1hZ2ljIG1hcmdpbiB1c2VkIHRvIGhpZGUgdGhlIGVsZW1lbnQncyByZWFsIHNjcm9sbGJhcnMgKi9cXG4gIC8qIFNlZSBvdmVyZmxvdzogaGlkZGVuIGluIC5Db2RlTWlycm9yICovXFxuICBtYXJnaW4tYm90dG9tOiAtMzBweDtcXG4gIG1hcmdpbi1yaWdodDogLTMwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICAvKiBQcmV2ZW50IGRyYWdnaW5nIGZyb20gaGlnaGxpZ2h0aW5nIHRoZSBlbGVtZW50ICovXFxuICBwb3NpdGlvbjogcmVsYXRpdmU7IH1cXG5cXG4uQ29kZU1pcnJvci1zaXplciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3JkZXItcmlnaHQ6IDMwcHggc29saWQgdHJhbnNwYXJlbnQ7IH1cXG5cXG4vKiBUaGUgZmFrZSwgdmlzaWJsZSBzY3JvbGxiYXJzLiBVc2VkIHRvIGZvcmNlIHJlZHJhdyBkdXJpbmcgc2Nyb2xsaW5nXFxuICAgYmVmb3JlIGFjdHVhbCBzY3JvbGxpbmcgaGFwcGVucywgdGh1cyBwcmV2ZW50aW5nIHNoYWtpbmcgYW5kXFxuICAgZmxpY2tlcmluZyBhcnRpZmFjdHMuICovXFxuLkNvZGVNaXJyb3ItdnNjcm9sbGJhciwgLkNvZGVNaXJyb3ItaHNjcm9sbGJhciwgLkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciwgLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA2O1xcbiAgZGlzcGxheTogbm9uZTsgfVxcblxcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIge1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7IH1cXG5cXG4uQ29kZU1pcnJvci1oc2Nyb2xsYmFyIHtcXG4gIGJvdHRvbTogMDtcXG4gIGxlZnQ6IDA7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxuICBvdmVyZmxvdy14OiBzY3JvbGw7IH1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyIHtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwOyB9XFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBsZWZ0OiAwO1xcbiAgYm90dG9tOiAwOyB9XFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVycyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDM7IH1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXIge1xcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuICBtYXJnaW4tYm90dG9tOiAtMzBweDsgfVxcblxcbi5Db2RlTWlycm9yLWd1dHRlci13cmFwcGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDQ7XFxuICBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7XFxuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDsgfVxcblxcbi5Db2RlTWlycm9yLWd1dHRlci1iYWNrZ3JvdW5kIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIHotaW5kZXg6IDQ7IH1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXItZWx0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIHotaW5kZXg6IDQ7IH1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciA6Oi1tb3otc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVyLXdyYXBwZXIgOjpzZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciA6Oi1tb3otc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuXFxuLkNvZGVNaXJyb3ItbGluZXMge1xcbiAgY3Vyc29yOiB0ZXh0O1xcbiAgbWluLWhlaWdodDogMXB4O1xcbiAgLyogcHJldmVudHMgY29sbGFwc2luZyBiZWZvcmUgZmlyc3QgZHJhdyAqLyB9XFxuXFxuLkNvZGVNaXJyb3IgcHJlIHtcXG4gIC8qIFJlc2V0IHNvbWUgc3R5bGVzIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIHBhZ2UgbWlnaHQgaGF2ZSBzZXQgKi9cXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3JkZXItd2lkdGg6IDA7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgbWFyZ2luOiAwO1xcbiAgd2hpdGUtc3BhY2U6IHByZTtcXG4gIHdvcmQtd3JhcDogbm9ybWFsO1xcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIHotaW5kZXg6IDI7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogdmlzaWJsZTtcXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtd2Via2l0LWZvbnQtdmFyaWFudC1saWdhdHVyZXM6IGNvbnRleHR1YWw7XFxuICAtbW96LWZvbnQtdmFyaWFudC1saWdhdHVyZXM6IGNvbnRleHR1YWw7XFxuICBmb250LXZhcmlhbnQtbGlnYXR1cmVzOiBjb250ZXh0dWFsOyB9XFxuXFxuLkNvZGVNaXJyb3Itd3JhcCBwcmUge1xcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xcbiAgd29yZC1icmVhazogbm9ybWFsOyB9XFxuXFxuLkNvZGVNaXJyb3ItbGluZWJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgdG9wOiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgei1pbmRleDogMDsgfVxcblxcbi5Db2RlTWlycm9yLWxpbmV3aWRnZXQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMjtcXG4gIHBhZGRpbmc6IDAuMXB4O1xcbiAgLyogRm9yY2Ugd2lkZ2V0IG1hcmdpbnMgdG8gc3RheSBpbnNpZGUgb2YgdGhlIGNvbnRhaW5lciAqLyB9XFxuXFxuLkNvZGVNaXJyb3ItcnRsIHByZSB7XFxuICBkaXJlY3Rpb246IHJ0bDsgfVxcblxcbi5Db2RlTWlycm9yLWNvZGUge1xcbiAgb3V0bGluZTogbm9uZTsgfVxcblxcbi8qIEZvcmNlIGNvbnRlbnQtYm94IHNpemluZyBmb3IgdGhlIGVsZW1lbnRzIHdoZXJlIHdlIGV4cGVjdCBpdCAqL1xcbi5Db2RlTWlycm9yLXNjcm9sbCxcXG4uQ29kZU1pcnJvci1zaXplcixcXG4uQ29kZU1pcnJvci1ndXR0ZXIsXFxuLkNvZGVNaXJyb3ItZ3V0dGVycyxcXG4uQ29kZU1pcnJvci1saW5lbnVtYmVyIHtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94OyB9XFxuXFxuLkNvZGVNaXJyb3ItbWVhc3VyZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47IH1cXG5cXG4uQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7IH1cXG5cXG4uQ29kZU1pcnJvci1tZWFzdXJlIHByZSB7XFxuICBwb3NpdGlvbjogc3RhdGljOyB9XFxuXFxuZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAzOyB9XFxuXFxuZGl2LkNvZGVNaXJyb3ItZHJhZ2N1cnNvcnMge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTsgfVxcblxcbi5Db2RlTWlycm9yLWZvY3VzZWQgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlOyB9XFxuXFxuLkNvZGVNaXJyb3Itc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZDogI2Q5ZDlkOTsgfVxcblxcbi5Db2RlTWlycm9yLWZvY3VzZWQgLkNvZGVNaXJyb3Itc2VsZWN0ZWQge1xcbiAgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcblxcbi5Db2RlTWlycm9yLWNyb3NzaGFpciB7XFxuICBjdXJzb3I6IGNyb3NzaGFpcjsgfVxcblxcbi5Db2RlTWlycm9yLWxpbmU6Oi1tb3otc2VsZWN0aW9uLCAuQ29kZU1pcnJvci1saW5lID4gc3Bhbjo6LW1vei1zZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuID4gc3Bhbjo6LW1vei1zZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcblxcbi5Db2RlTWlycm9yLWxpbmU6OnNlbGVjdGlvbiwgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW46OnNlbGVjdGlvbiwgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW4gPiBzcGFuOjpzZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcblxcbi5Db2RlTWlycm9yLWxpbmU6Oi1tb3otc2VsZWN0aW9uLCAuQ29kZU1pcnJvci1saW5lID4gc3Bhbjo6LW1vei1zZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuID4gc3Bhbjo6LW1vei1zZWxlY3Rpb24ge1xcbiAgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcblxcbi5jbS1zZWFyY2hpbmcge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDAsIDAuNCk7IH1cXG5cXG4vKiBVc2VkIHRvIGZvcmNlIGEgYm9yZGVyIG1vZGVsIGZvciBhIG5vZGUgKi9cXG4uY20tZm9yY2UtYm9yZGVyIHtcXG4gIHBhZGRpbmctcmlnaHQ6IC4xcHg7IH1cXG5cXG5AbWVkaWEgcHJpbnQge1xcbiAgLyogSGlkZSB0aGUgY3Vyc29yIHdoZW4gcHJpbnRpbmcgKi9cXG4gIC5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47IH0gfVxcblxcbi8qIFNlZSBpc3N1ZSAjMjkwMSAqL1xcbi5jbS10YWItd3JhcC1oYWNrOmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnOyB9XFxuXFxuLyogSGVscCB1c2VycyB1c2UgbWFya3NlbGVjdGlvbiB0byBzYWZlbHkgc3R5bGUgdGV4dCBiYWNrZ3JvdW5kICovXFxuc3Bhbi5Db2RlTWlycm9yLXNlbGVjdGVkdGV4dCB7XFxuICBiYWNrZ3JvdW5kOiBub25lOyB9XFxuXCIsXCJcIl0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBlO3ZhciBuPXQucHJvdG9jb2wrXCIvL1wiK3QuaG9zdCxyPW4rdC5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiBlLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLGZ1bmN0aW9uKGUsdCl7dmFyIGksbz10LnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbihlLHQpe3JldHVybiB0fSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KG8pP2U6KGk9MD09PW8uaW5kZXhPZihcIi8vXCIpP286MD09PW8uaW5kZXhPZihcIi9cIik/bitvOnIrby5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShpKStcIilcIil9KX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIzKTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W1tlLmkscixcIlwiXV0pO3ZhciBpPXtobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigzKShyLGkpO3IubG9jYWxzJiYoZS5leHBvcnRzPXIubG9jYWxzKX0sZnVuY3Rpb24oZSx0LG4peyhlLmV4cG9ydHM9bigyKSghMSkpLnB1c2goW2UuaSwnLkNvZGVNaXJyb3ItZm9sZG1hcmtlciB7XFxuICBjb2xvcjogYmx1ZTtcXG4gIHRleHQtc2hhZG93OiAjYjlmIDFweCAxcHggMnB4LCAjYjlmIC0xcHggLTFweCAycHgsICNiOWYgMXB4IC0xcHggMnB4LCAjYjlmIC0xcHggMXB4IDJweDtcXG4gIGZvbnQtZmFtaWx5OiBhcmlhbDtcXG4gIGxpbmUtaGVpZ2h0OiAuMztcXG4gIGN1cnNvcjogcG9pbnRlcjsgfVxcblxcbi5Db2RlTWlycm9yLWZvbGRndXR0ZXIge1xcbiAgd2lkdGg6IC43ZW07IH1cXG5cXG4uQ29kZU1pcnJvci1mb2xkZ3V0dGVyLW9wZW4sXFxuLkNvZGVNaXJyb3ItZm9sZGd1dHRlci1mb2xkZWQge1xcbiAgY3Vyc29yOiBwb2ludGVyOyB9XFxuXFxuLkNvZGVNaXJyb3ItZm9sZGd1dHRlci1vcGVuOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXFxcXDI1QkVcIjsgfVxcblxcbi5Db2RlTWlycm9yLWZvbGRndXR0ZXItZm9sZGVkOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXFxcXDI1QjhcIjsgfVxcbicsXCJcIl0pfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbZS5pLHIsXCJcIl1dKTt2YXIgaT17aG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMykocixpKTtyLmxvY2FscyYmKGUuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxuKXsoZS5leHBvcnRzPW4oMikoITEpKS5wdXNoKFtlLmksJy8qIFRoZSBsaW50IG1hcmtlciBndXR0ZXIgKi9cXG4uQ29kZU1pcnJvci1saW50LW1hcmtlcnMge1xcbiAgd2lkdGg6IDE2cHg7IH1cXG5cXG4uQ29kZU1pcnJvci1saW50LXRvb2x0aXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4IDRweCA0cHggNHB4O1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGZvbnQtc2l6ZTogMTBwdDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwYWRkaW5nOiAycHggNXB4O1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgd2hpdGUtc3BhY2U6IHByZTtcXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG4gIHotaW5kZXg6IDEwMDtcXG4gIG1heC13aWR0aDogNjAwcHg7XFxuICBvcGFjaXR5OiAwO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNHM7XFxuICAtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgLjRzO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IC40cztcXG4gIC1vLXRyYW5zaXRpb246IG9wYWNpdHkgLjRzO1xcbiAgLW1zLXRyYW5zaXRpb246IG9wYWNpdHkgLjRzOyB9XFxuXFxuLkNvZGVNaXJyb3ItbGludC1tYXJrLWVycm9yLCAuQ29kZU1pcnJvci1saW50LW1hcmstd2FybmluZyB7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBsZWZ0IGJvdHRvbTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiByZXBlYXQteDsgfVxcblxcbi5Db2RlTWlycm9yLWxpbnQtbWFyay1lcnJvciB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFRQUFBQURDQVlBQUFDMDlLN0dBQUFBQVhOU1IwSUFyczRjNlFBQUFBWmlTMGRFQVA4QS93RC9vTDJua3dBQUFBbHdTRmx6QUFBTEV3QUFDeE1CQUpxY0dBQUFBQWQwU1UxRkI5c0pEdzRjT0NXMS9LSUFBQUFaZEVWWWRFTnZiVzFsYm5RQVEzSmxZWFJsWkNCM2FYUm9JRWRKVFZCWGdRNFhBQUFBSEVsRVFWUUkxMk5nZ0lML0RBei9HZEE1L3hrWS9xUEtNREF3QUFETFp3ZjVydm0rTFFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7IH1cXG5cXG4uQ29kZU1pcnJvci1saW50LW1hcmstd2FybmluZyB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFRQUFBQURDQVlBQUFDMDlLN0dBQUFBQVhOU1IwSUFyczRjNlFBQUFBWmlTMGRFQVA4QS93RC9vTDJua3dBQUFBbHdTRmx6QUFBTEV3QUFDeE1CQUpxY0dBQUFBQWQwU1UxRkI5c0pGaFFYRWJoVGc3WUFBQUFaZEVWWWRFTnZiVzFsYm5RQVEzSmxZWFJsWkNCM2FYUm9JRWRKVFZCWGdRNFhBQUFBTWtsRVFWUUkxMk5rZ0lJdkozUVhNakF3ZEROK09hRWJ5c0RBNE1QQXdORE53TUN3aU9ITENkMXpYMDdvNmtCVkdRRUFLQkFOdG9ic2tOTUFBQUFBU1VWT1JLNUNZSUk9XCIpOyB9XFxuXFxuLkNvZGVNaXJyb3ItbGludC1tYXJrZXItZXJyb3IsIC5Db2RlTWlycm9yLWxpbnQtbWFya2VyLXdhcm5pbmcge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICB3aWR0aDogMTZweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7IH1cXG5cXG4uQ29kZU1pcnJvci1saW50LW1lc3NhZ2UtZXJyb3IsIC5Db2RlTWlycm9yLWxpbnQtbWVzc2FnZS13YXJuaW5nIHtcXG4gIHBhZGRpbmctbGVmdDogMThweDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IHRvcCBsZWZ0O1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgfVxcblxcbi5Db2RlTWlycm9yLWxpbnQtbWFya2VyLWVycm9yLCAuQ29kZU1pcnJvci1saW50LW1lc3NhZ2UtZXJyb3Ige1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQUhsQk1WRVc3QUFDN0FBQ3hBQUM3QUFDN0FBQUFBQUM0QUFDNUFBRC8vLys3QUFBVWRjbHBBQUFBQm5SU1RsTVhuT1JTaXdDSzBaS1NBQUFBVFVsRVFWUjQybVdQT1E3QVFBZ0R1UUx4L3o4Y3NZUm1QUklGSXdSR25vc1JycGFtdmtLaTBGVElpTUFTUjNoaEtXK2hBTjYvdElXaHU5UERXaVRHTkVrVHRJT3VjQTVPeXI5Y2tQZ0FXbTBHUEJvZzZ2NEFBQUFBU1VWT1JLNUNZSUk9XCIpOyB9XFxuXFxuLkNvZGVNaXJyb3ItbGludC1tYXJrZXItd2FybmluZywgLkNvZGVNaXJyb3ItbGludC1tZXNzYWdlLXdhcm5pbmcge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQU5sQk1WRVgvdXdEdnJ3RC91d0QvdXdEL3V3RC91d0QvdXdEL3V3RC91d0Q2dHdEL3V3QUFBQUR1cndEMnRRRDd1QUQrdWdBQUFBRC91d0RobWVUUkFBQUFESFJTVGxNSjhtTjFFWWNibWlpeGdBQ203V2J1QUFBQVZrbEVRVlI0Mm4zUFVRcUFJQkJGVVUxTExjM3UvamRiT0pvVzFQMDhEQTlHYmE4K1lXSjZnTkpvTllJQnpBQTJjaEJ0aDVrTG1HOVlVb0cwTkhBVXdGWHdPOUx1QlFMMWdpQ1FiOGdDOU9ybzJ2cDVybmNDSVk4TDh1RXg1WmtBQUFBQVNVVk9SSzVDWUlJPVwiKTsgfVxcblxcbi5Db2RlTWlycm9yLWxpbnQtbWFya2VyLW11bHRpcGxlIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWNBQUFBSENBTUFBQUR6aktmaEFBQUFDVkJNVkVVQUFBQUFBQUMvdjc5MTRreUhBQUFBQVhSU1RsTUFRT2JZWmdBQUFDTkpSRUZVZU5vMWlvRUpBQUFJd216L0g5MGlGRlNHSmdGTWUzZ2FMWjBvZCs5L0FRWjBBRG9zYllyYUFBQUFBRWxGVGtTdVFtQ0NcIik7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgYm90dG9tO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7IH1cXG4nLFwiXCJdKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW2UuaSxyLFwiXCJdXSk7dmFyIGk9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDMpKHIsaSk7ci5sb2NhbHMmJihlLmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbihlLHQsbil7KGUuZXhwb3J0cz1uKDIpKCExKSkucHVzaChbZS5pLFwiLkNvZGVNaXJyb3ItaGludHMge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIGJveC1zaGFkb3c6IDJweCAzcHggNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHNpbHZlcjtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgZm9udC1zaXplOiA5MCU7XFxuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xcbiAgbWF4LWhlaWdodDogMjBlbTtcXG4gIG92ZXJmbG93LXk6IGF1dG87IH1cXG5cXG4uQ29kZU1pcnJvci1oaW50IHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDAgNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgd2hpdGUtc3BhY2U6IHByZTtcXG4gIGNvbG9yOiBibGFjaztcXG4gIGN1cnNvcjogcG9pbnRlcjsgfVxcblxcbmxpLkNvZGVNaXJyb3ItaGludC1hY3RpdmUge1xcbiAgYmFja2dyb3VuZDogIzA4ZjtcXG4gIGNvbG9yOiB3aGl0ZTsgfVxcblwiLFwiXCJdKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW2UuaSxyLFwiXCJdXSk7dmFyIGk9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDMpKHIsaSk7ci5sb2NhbHMmJihlLmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbihlLHQsbil7KGUuZXhwb3J0cz1uKDIpKCExKSkucHVzaChbZS5pLFwiLyogQmFzZWQgb24gU3VibGltZSBUZXh0J3MgTW9ub2thaSB0aGVtZSAqL1xcbi5jbS1zLW1vbm9rYWkuQ29kZU1pcnJvciB7XFxuICBiYWNrZ3JvdW5kOiAjMjcyODIyO1xcbiAgY29sb3I6ICNmOGY4ZjI7IH1cXG5cXG4uY20tcy1tb25va2FpIGRpdi5Db2RlTWlycm9yLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQ6ICM0OTQ4M0U7IH1cXG5cXG4uY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWxpbmU6Oi1tb3otc2VsZWN0aW9uLCAuY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjotbW96LXNlbGVjdGlvbiwgLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1saW5lID4gc3BhbiA+IHNwYW46Oi1tb3otc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoNzMsIDcyLCA2MiwgMC45OSk7IH1cXG5cXG4uY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWxpbmU6OnNlbGVjdGlvbiwgLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1saW5lID4gc3Bhbjo6c2VsZWN0aW9uLCAuY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuID4gc3Bhbjo6c2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoNzMsIDcyLCA2MiwgMC45OSk7IH1cXG5cXG4uY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWxpbmU6Oi1tb3otc2VsZWN0aW9uLCAuY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjotbW96LXNlbGVjdGlvbiwgLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1saW5lID4gc3BhbiA+IHNwYW46Oi1tb3otc2VsZWN0aW9uIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoNzMsIDcyLCA2MiwgMC45OSk7IH1cXG5cXG4uY20tcy1tb25va2FpIC5Db2RlTWlycm9yLWd1dHRlcnMge1xcbiAgYmFja2dyb3VuZDogIzI3MjgyMjtcXG4gIGJvcmRlci1yaWdodDogMHB4OyB9XFxuXFxuLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIge1xcbiAgY29sb3I6IHdoaXRlOyB9XFxuXFxuLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlIHtcXG4gIGNvbG9yOiAjZDBkMGQwOyB9XFxuXFxuLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1saW5lbnVtYmVyIHtcXG4gIGNvbG9yOiAjZDBkMGQwOyB9XFxuXFxuLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZjhmOGYwOyB9XFxuXFxuLmNtLXMtbW9ub2thaSBzcGFuLmNtLWNvbW1lbnQge1xcbiAgY29sb3I6ICM3NTcxNWU7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tYXRvbSB7XFxuICBjb2xvcjogI2FlODFmZjsgfVxcblxcbi5jbS1zLW1vbm9rYWkgc3Bhbi5jbS1udW1iZXIge1xcbiAgY29sb3I6ICNhZTgxZmY7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tY29tbWVudC5jbS1hdHRyaWJ1dGUge1xcbiAgY29sb3I6ICM5N2I3NTc7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tY29tbWVudC5jbS1kZWYge1xcbiAgY29sb3I6ICNiYzkyNjI7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tY29tbWVudC5jbS10YWcge1xcbiAgY29sb3I6ICNiYzYyODM7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tY29tbWVudC5jbS10eXBlIHtcXG4gIGNvbG9yOiAjNTk5OGE2OyB9XFxuXFxuLmNtLXMtbW9ub2thaSBzcGFuLmNtLXByb3BlcnR5LCAuY20tcy1tb25va2FpIHNwYW4uY20tYXR0cmlidXRlIHtcXG4gIGNvbG9yOiAjYTZlMjJlOyB9XFxuXFxuLmNtLXMtbW9ub2thaSBzcGFuLmNtLWtleXdvcmQge1xcbiAgY29sb3I6ICNmOTI2NzI7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tYnVpbHRpbiB7XFxuICBjb2xvcjogIzY2ZDllZjsgfVxcblxcbi5jbS1zLW1vbm9rYWkgc3Bhbi5jbS1zdHJpbmcge1xcbiAgY29sb3I6ICNlNmRiNzQ7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tdmFyaWFibGUge1xcbiAgY29sb3I6ICNmOGY4ZjI7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tdmFyaWFibGUtMiB7XFxuICBjb2xvcjogIzllZmZmZjsgfVxcblxcbi5jbS1zLW1vbm9rYWkgc3Bhbi5jbS12YXJpYWJsZS0zLCAuY20tcy1tb25va2FpIHNwYW4uY20tdHlwZSB7XFxuICBjb2xvcjogIzY2ZDllZjsgfVxcblxcbi5jbS1zLW1vbm9rYWkgc3Bhbi5jbS1kZWYge1xcbiAgY29sb3I6ICNmZDk3MWY7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tYnJhY2tldCB7XFxuICBjb2xvcjogI2Y4ZjhmMjsgfVxcblxcbi5jbS1zLW1vbm9rYWkgc3Bhbi5jbS10YWcge1xcbiAgY29sb3I6ICNmOTI2NzI7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20taGVhZGVyIHtcXG4gIGNvbG9yOiAjYWU4MWZmOyB9XFxuXFxuLmNtLXMtbW9ub2thaSBzcGFuLmNtLWxpbmsge1xcbiAgY29sb3I6ICNhZTgxZmY7IH1cXG5cXG4uY20tcy1tb25va2FpIHNwYW4uY20tZXJyb3Ige1xcbiAgYmFja2dyb3VuZDogI2Y5MjY3MjtcXG4gIGNvbG9yOiAjZjhmOGYwOyB9XFxuXFxuLmNtLXMtbW9ub2thaSAuQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQge1xcbiAgYmFja2dyb3VuZDogIzM3MzgzMTsgfVxcblxcbi5jbS1zLW1vbm9rYWkgLkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0IHtcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7IH1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9e2F1dG9TZWxmQ2xvc2Vyczp7YXJlYTohMCxiYXNlOiEwLGJyOiEwLGNvbDohMCxjb21tYW5kOiEwLGVtYmVkOiEwLGZyYW1lOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITAsbWVudWl0ZW06ITB9LGltcGxpY2l0bHlDbG9zZWQ6e2RkOiEwLGxpOiEwLG9wdGdyb3VwOiEwLG9wdGlvbjohMCxwOiEwLHJwOiEwLHJ0OiEwLHRib2R5OiEwLHRkOiEwLHRmb290OiEwLHRoOiEwLHRyOiEwfSxjb250ZXh0R3JhYmJlcnM6e2RkOntkZDohMCxkdDohMH0sZHQ6e2RkOiEwLGR0OiEwfSxsaTp7bGk6ITB9LG9wdGlvbjp7b3B0aW9uOiEwLG9wdGdyb3VwOiEwfSxvcHRncm91cDp7b3B0Z3JvdXA6ITB9LHA6e2FkZHJlc3M6ITAsYXJ0aWNsZTohMCxhc2lkZTohMCxibG9ja3F1b3RlOiEwLGRpcjohMCxkaXY6ITAsZGw6ITAsZmllbGRzZXQ6ITAsZm9vdGVyOiEwLGZvcm06ITAsaDE6ITAsaDI6ITAsaDM6ITAsaDQ6ITAsaDU6ITAsaDY6ITAsaGVhZGVyOiEwLGhncm91cDohMCxocjohMCxtZW51OiEwLG5hdjohMCxvbDohMCxwOiEwLHByZTohMCxzZWN0aW9uOiEwLHRhYmxlOiEwLHVsOiEwfSxycDp7cnA6ITAscnQ6ITB9LHJ0OntycDohMCxydDohMH0sdGJvZHk6e3Rib2R5OiEwLHRmb290OiEwfSx0ZDp7dGQ6ITAsdGg6ITB9LHRmb290Ont0Ym9keTohMH0sdGg6e3RkOiEwLHRoOiEwfSx0aGVhZDp7dGJvZHk6ITAsdGZvb3Q6ITB9LHRyOnt0cjohMH19LGRvTm90SW5kZW50OntwcmU6ITB9LGFsbG93VW5xdW90ZWQ6ITAsYWxsb3dNaXNzaW5nOiEwLGNhc2VGb2xkOiEwfSxuPXthdXRvU2VsZkNsb3NlcnM6e30saW1wbGljaXRseUNsb3NlZDp7fSxjb250ZXh0R3JhYmJlcnM6e30sZG9Ob3RJbmRlbnQ6e30sYWxsb3dVbnF1b3RlZDohMSxhbGxvd01pc3Npbmc6ITEsYWxsb3dNaXNzaW5nVGFnTmFtZTohMSxjYXNlRm9sZDohMX07ZS5kZWZpbmVNb2RlKFwieG1sXCIsZnVuY3Rpb24ocixpKXt2YXIgbyxhLHM9ci5pbmRlbnRVbml0LGw9e30sdT1pLmh0bWxNb2RlP3Q6bjtmb3IodmFyIGMgaW4gdSlsW2NdPXVbY107Zm9yKHZhciBjIGluIGkpbFtjXT1pW2NdO2Z1bmN0aW9uIGgoZSx0KXtmdW5jdGlvbiBuKG4pe3JldHVybiB0LnRva2VuaXplPW4sbihlLHQpfXZhciByPWUubmV4dCgpO3JldHVyblwiPFwiPT1yP2UuZWF0KFwiIVwiKT9lLmVhdChcIltcIik/ZS5tYXRjaChcIkNEQVRBW1wiKT9uKGYoXCJhdG9tXCIsXCJdXT5cIikpOm51bGw6ZS5tYXRjaChcIi0tXCIpP24oZihcImNvbW1lbnRcIixcIi0tXFx4M2VcIikpOmUubWF0Y2goXCJET0NUWVBFXCIsITAsITApPyhlLmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKSxuKGZ1bmN0aW9uIGUodCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7Zm9yKHZhciBpO251bGwhPShpPW4ubmV4dCgpKTspe2lmKFwiPFwiPT1pKXJldHVybiByLnRva2VuaXplPWUodCsxKSxyLnRva2VuaXplKG4scik7aWYoXCI+XCI9PWkpe2lmKDE9PXQpe3IudG9rZW5pemU9aDticmVha31yZXR1cm4gci50b2tlbml6ZT1lKHQtMSksci50b2tlbml6ZShuLHIpfX1yZXR1cm5cIm1ldGFcIn19KDEpKSk6bnVsbDplLmVhdChcIj9cIik/KGUuZWF0V2hpbGUoL1tcXHdcXC5fXFwtXS8pLHQudG9rZW5pemU9ZihcIm1ldGFcIixcIj8+XCIpLFwibWV0YVwiKToobz1lLmVhdChcIi9cIik/XCJjbG9zZVRhZ1wiOlwib3BlblRhZ1wiLHQudG9rZW5pemU9ZCxcInRhZyBicmFja2V0XCIpOlwiJlwiPT1yPyhlLmVhdChcIiNcIik/ZS5lYXQoXCJ4XCIpP2UuZWF0V2hpbGUoL1thLWZBLUZcXGRdLykmJmUuZWF0KFwiO1wiKTplLmVhdFdoaWxlKC9bXFxkXS8pJiZlLmVhdChcIjtcIik6ZS5lYXRXaGlsZSgvW1xcd1xcLlxcLTpdLykmJmUuZWF0KFwiO1wiKSk/XCJhdG9tXCI6XCJlcnJvclwiOihlLmVhdFdoaWxlKC9bXiY8XS8pLG51bGwpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1lLm5leHQoKTtpZihcIj5cIj09bnx8XCIvXCI9PW4mJmUuZWF0KFwiPlwiKSlyZXR1cm4gdC50b2tlbml6ZT1oLG89XCI+XCI9PW4/XCJlbmRUYWdcIjpcInNlbGZjbG9zZVRhZ1wiLFwidGFnIGJyYWNrZXRcIjtpZihcIj1cIj09bilyZXR1cm4gbz1cImVxdWFsc1wiLG51bGw7aWYoXCI8XCI9PW4pe3QudG9rZW5pemU9aCx0LnN0YXRlPXYsdC50YWdOYW1lPXQudGFnU3RhcnQ9bnVsbDt2YXIgcj10LnRva2VuaXplKGUsdCk7cmV0dXJuIHI/citcIiB0YWcgZXJyb3JcIjpcInRhZyBlcnJvclwifXJldHVybi9bXFwnXFxcIl0vLnRlc3Qobik/KHQudG9rZW5pemU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtmb3IoOyF0LmVvbCgpOylpZih0Lm5leHQoKT09ZSl7bi50b2tlbml6ZT1kO2JyZWFrfXJldHVyblwic3RyaW5nXCJ9O3JldHVybiB0LmlzSW5BdHRyaWJ1dGU9ITAsdH0obiksdC5zdHJpbmdTdGFydENvbD1lLmNvbHVtbigpLHQudG9rZW5pemUoZSx0KSk6KGUubWF0Y2goL15bXlxcc1xcdTAwYTA9PD5cXFwiXFwnXSpbXlxcc1xcdTAwYTA9PD5cXFwiXFwnXFwvXS8pLFwid29yZFwiKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7Zm9yKDshbi5lb2woKTspe2lmKG4ubWF0Y2godCkpe3IudG9rZW5pemU9aDticmVha31uLm5leHQoKX1yZXR1cm4gZX19ZnVuY3Rpb24gcChlKXtlLmNvbnRleHQmJihlLmNvbnRleHQ9ZS5jb250ZXh0LnByZXYpfWZ1bmN0aW9uIGcoZSx0KXtmb3IodmFyIG47Oyl7aWYoIWUuY29udGV4dClyZXR1cm47aWYobj1lLmNvbnRleHQudGFnTmFtZSwhbC5jb250ZXh0R3JhYmJlcnMuaGFzT3duUHJvcGVydHkobil8fCFsLmNvbnRleHRHcmFiYmVyc1tuXS5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm47cChlKX19ZnVuY3Rpb24gdihlLHQsbil7cmV0dXJuXCJvcGVuVGFnXCI9PWU/KG4udGFnU3RhcnQ9dC5jb2x1bW4oKSxtKTpcImNsb3NlVGFnXCI9PWU/Yjp2fWZ1bmN0aW9uIG0oZSx0LG4pe3JldHVyblwid29yZFwiPT1lPyhuLnRhZ05hbWU9dC5jdXJyZW50KCksYT1cInRhZ1wiLHcpOmwuYWxsb3dNaXNzaW5nVGFnTmFtZSYmXCJlbmRUYWdcIj09ZT8oYT1cInRhZyBicmFja2V0XCIsdyhlLDAsbikpOihhPVwiZXJyb3JcIixtKX1mdW5jdGlvbiBiKGUsdCxuKXtpZihcIndvcmRcIj09ZSl7dmFyIHI9dC5jdXJyZW50KCk7cmV0dXJuIG4uY29udGV4dCYmbi5jb250ZXh0LnRhZ05hbWUhPXImJmwuaW1wbGljaXRseUNsb3NlZC5oYXNPd25Qcm9wZXJ0eShuLmNvbnRleHQudGFnTmFtZSkmJnAobiksbi5jb250ZXh0JiZuLmNvbnRleHQudGFnTmFtZT09cnx8ITE9PT1sLm1hdGNoQ2xvc2luZz8oYT1cInRhZ1wiLHkpOihhPVwidGFnIGVycm9yXCIsQSl9cmV0dXJuIGwuYWxsb3dNaXNzaW5nVGFnTmFtZSYmXCJlbmRUYWdcIj09ZT8oYT1cInRhZyBicmFja2V0XCIseShlLDAsbikpOihhPVwiZXJyb3JcIixBKX1mdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm5cImVuZFRhZ1wiIT1lPyhhPVwiZXJyb3JcIix5KToocChuKSx2KX1mdW5jdGlvbiBBKGUsdCxuKXtyZXR1cm4gYT1cImVycm9yXCIseShlLDAsbil9ZnVuY3Rpb24gdyhlLHQsbil7aWYoXCJ3b3JkXCI9PWUpcmV0dXJuIGE9XCJhdHRyaWJ1dGVcIixDO2lmKFwiZW5kVGFnXCI9PWV8fFwic2VsZmNsb3NlVGFnXCI9PWUpe3ZhciByPW4udGFnTmFtZSxpPW4udGFnU3RhcnQ7cmV0dXJuIG4udGFnTmFtZT1uLnRhZ1N0YXJ0PW51bGwsXCJzZWxmY2xvc2VUYWdcIj09ZXx8bC5hdXRvU2VsZkNsb3NlcnMuaGFzT3duUHJvcGVydHkocik/ZyhuLHIpOihnKG4sciksbi5jb250ZXh0PW5ldyBmdW5jdGlvbihlLHQsbil7dGhpcy5wcmV2PWUuY29udGV4dCx0aGlzLnRhZ05hbWU9dCx0aGlzLmluZGVudD1lLmluZGVudGVkLHRoaXMuc3RhcnRPZkxpbmU9biwobC5kb05vdEluZGVudC5oYXNPd25Qcm9wZXJ0eSh0KXx8ZS5jb250ZXh0JiZlLmNvbnRleHQubm9JbmRlbnQpJiYodGhpcy5ub0luZGVudD0hMCl9KG4scixpPT1uLmluZGVudGVkKSksdn1yZXR1cm4gYT1cImVycm9yXCIsd31mdW5jdGlvbiBDKGUsdCxuKXtyZXR1cm5cImVxdWFsc1wiPT1lP3g6KGwuYWxsb3dNaXNzaW5nfHwoYT1cImVycm9yXCIpLHcoZSwwLG4pKX1mdW5jdGlvbiB4KGUsdCxuKXtyZXR1cm5cInN0cmluZ1wiPT1lP2s6XCJ3b3JkXCI9PWUmJmwuYWxsb3dVbnF1b3RlZD8oYT1cInN0cmluZ1wiLHcpOihhPVwiZXJyb3JcIix3KGUsMCxuKSl9ZnVuY3Rpb24gayhlLHQsbil7cmV0dXJuXCJzdHJpbmdcIj09ZT9rOncoZSwwLG4pfXJldHVybiBoLmlzSW5UZXh0PSEwLHtzdGFydFN0YXRlOmZ1bmN0aW9uKGUpe3ZhciB0PXt0b2tlbml6ZTpoLHN0YXRlOnYsaW5kZW50ZWQ6ZXx8MCx0YWdOYW1lOm51bGwsdGFnU3RhcnQ6bnVsbCxjb250ZXh0Om51bGx9O3JldHVybiBudWxsIT1lJiYodC5iYXNlSW5kZW50PWUpLHR9LHRva2VuOmZ1bmN0aW9uKGUsdCl7aWYoIXQudGFnTmFtZSYmZS5zb2woKSYmKHQuaW5kZW50ZWQ9ZS5pbmRlbnRhdGlvbigpKSxlLmVhdFNwYWNlKCkpcmV0dXJuIG51bGw7bz1udWxsO3ZhciBuPXQudG9rZW5pemUoZSx0KTtyZXR1cm4obnx8bykmJlwiY29tbWVudFwiIT1uJiYoYT1udWxsLHQuc3RhdGU9dC5zdGF0ZShvfHxuLGUsdCksYSYmKG49XCJlcnJvclwiPT1hP24rXCIgZXJyb3JcIjphKSksbn0saW5kZW50OmZ1bmN0aW9uKHQsbixyKXt2YXIgaT10LmNvbnRleHQ7aWYodC50b2tlbml6ZS5pc0luQXR0cmlidXRlKXJldHVybiB0LnRhZ1N0YXJ0PT10LmluZGVudGVkP3Quc3RyaW5nU3RhcnRDb2wrMTp0LmluZGVudGVkK3M7aWYoaSYmaS5ub0luZGVudClyZXR1cm4gZS5QYXNzO2lmKHQudG9rZW5pemUhPWQmJnQudG9rZW5pemUhPWgpcmV0dXJuIHI/ci5tYXRjaCgvXihcXHMqKS8pWzBdLmxlbmd0aDowO2lmKHQudGFnTmFtZSlyZXR1cm4hMSE9PWwubXVsdGlsaW5lVGFnSW5kZW50UGFzdFRhZz90LnRhZ1N0YXJ0K3QudGFnTmFtZS5sZW5ndGgrMjp0LnRhZ1N0YXJ0K3MqKGwubXVsdGlsaW5lVGFnSW5kZW50RmFjdG9yfHwxKTtpZihsLmFsaWduQ0RBVEEmJi88IVxcW0NEQVRBXFxbLy50ZXN0KG4pKXJldHVybiAwO3ZhciBvPW4mJi9ePChcXC8pPyhbXFx3XzpcXC4tXSopLy5leGVjKG4pO2lmKG8mJm9bMV0pZm9yKDtpOyl7aWYoaS50YWdOYW1lPT1vWzJdKXtpPWkucHJldjticmVha31pZighbC5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KGkudGFnTmFtZSkpYnJlYWs7aT1pLnByZXZ9ZWxzZSBpZihvKWZvcig7aTspe3ZhciBhPWwuY29udGV4dEdyYWJiZXJzW2kudGFnTmFtZV07aWYoIWF8fCFhLmhhc093blByb3BlcnR5KG9bMl0pKWJyZWFrO2k9aS5wcmV2fWZvcig7aSYmaS5wcmV2JiYhaS5zdGFydE9mTGluZTspaT1pLnByZXY7cmV0dXJuIGk/aS5pbmRlbnQrczp0LmJhc2VJbmRlbnR8fDB9LGVsZWN0cmljSW5wdXQ6LzxcXC9bXFxzXFx3Ol0rPiQvLGJsb2NrQ29tbWVudFN0YXJ0OlwiXFx4M2MhLS1cIixibG9ja0NvbW1lbnRFbmQ6XCItLVxceDNlXCIsY29uZmlndXJhdGlvbjpsLmh0bWxNb2RlP1wiaHRtbFwiOlwieG1sXCIsaGVscGVyVHlwZTpsLmh0bWxNb2RlP1wiaHRtbFwiOlwieG1sXCIsc2tpcEF0dHJpYnV0ZTpmdW5jdGlvbihlKXtlLnN0YXRlPT14JiYoZS5zdGF0ZT13KX19fSksZS5kZWZpbmVNSU1FKFwidGV4dC94bWxcIixcInhtbFwiKSxlLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94bWxcIixcInhtbFwiKSxlLm1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShcInRleHQvaHRtbFwiKXx8ZS5kZWZpbmVNSU1FKFwidGV4dC9odG1sXCIse25hbWU6XCJ4bWxcIixodG1sTW9kZTohMH0pfShuKDApKX0sZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihlKXtlLmRlZmluZU9wdGlvbihcImF1dG9DbG9zZVRhZ3NcIiwhMSxmdW5jdGlvbihhLHMsbCl7aWYobCE9ZS5Jbml0JiZsJiZhLnJlbW92ZUtleU1hcChcImF1dG9DbG9zZVRhZ3NcIikscyl7dmFyIHU9e25hbWU6XCJhdXRvQ2xvc2VUYWdzXCJ9OyhcIm9iamVjdFwiIT10eXBlb2Ygc3x8cy53aGVuQ2xvc2luZykmJih1W1wiJy8nXCJdPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRPcHRpb24oXCJkaXNhYmxlSW5wdXRcIik/ZS5QYXNzOnIodCwhMCl9KHQpfSksKFwib2JqZWN0XCIhPXR5cGVvZiBzfHxzLndoZW5PcGVuaW5nKSYmKHVbXCInPidcIl09ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKHIuZ2V0T3B0aW9uKFwiZGlzYWJsZUlucHV0XCIpKXJldHVybiBlLlBhc3M7Zm9yKHZhciBhPXIubGlzdFNlbGVjdGlvbnMoKSxzPVtdLGw9ci5nZXRPcHRpb24oXCJhdXRvQ2xvc2VUYWdzXCIpLHU9MDt1PGEubGVuZ3RoO3UrKyl7aWYoIWFbdV0uZW1wdHkoKSlyZXR1cm4gZS5QYXNzO3ZhciBjPWFbdV0uaGVhZCxoPXIuZ2V0VG9rZW5BdChjKSxkPWUuaW5uZXJNb2RlKHIuZ2V0TW9kZSgpLGguc3RhdGUpLGY9ZC5zdGF0ZTtpZihcInhtbFwiIT1kLm1vZGUubmFtZXx8IWYudGFnTmFtZSlyZXR1cm4gZS5QYXNzO3ZhciBwPVwiaHRtbFwiPT1kLm1vZGUuY29uZmlndXJhdGlvbixnPVwib2JqZWN0XCI9PXR5cGVvZiBsJiZsLmRvbnRDbG9zZVRhZ3N8fHAmJnQsdj1cIm9iamVjdFwiPT10eXBlb2YgbCYmbC5pbmRlbnRUYWdzfHxwJiZuLG09Zi50YWdOYW1lO2guZW5kPmMuY2gmJihtPW0uc2xpY2UoMCxtLmxlbmd0aC1oLmVuZCtjLmNoKSk7dmFyIGI9bS50b0xvd2VyQ2FzZSgpO2lmKCFtfHxcInN0cmluZ1wiPT1oLnR5cGUmJihoLmVuZCE9Yy5jaHx8IS9bXFxcIlxcJ10vLnRlc3QoaC5zdHJpbmcuY2hhckF0KGguc3RyaW5nLmxlbmd0aC0xKSl8fDE9PWguc3RyaW5nLmxlbmd0aCl8fFwidGFnXCI9PWgudHlwZSYmXCJjbG9zZVRhZ1wiPT1mLnR5cGV8fGguc3RyaW5nLmluZGV4T2YoXCIvXCIpPT1oLnN0cmluZy5sZW5ndGgtMXx8ZyYmaShnLGIpPi0xfHxvKHIsbSxjLGYsITApKXJldHVybiBlLlBhc3M7dmFyIHk9diYmaSh2LGIpPi0xO3NbdV09e2luZGVudDp5LHRleHQ6XCI+XCIrKHk/XCJcXG5cXG5cIjpcIlwiKStcIjwvXCIrbStcIj5cIixuZXdQb3M6eT9lLlBvcyhjLmxpbmUrMSwwKTplLlBvcyhjLmxpbmUsYy5jaCsxKX19Zm9yKHZhciBBPVwib2JqZWN0XCI9PXR5cGVvZiBsJiZsLmRvbnRJbmRlbnRPbkF1dG9DbG9zZSx1PWEubGVuZ3RoLTE7dT49MDt1LS0pe3ZhciB3PXNbdV07ci5yZXBsYWNlUmFuZ2Uody50ZXh0LGFbdV0uaGVhZCxhW3VdLmFuY2hvcixcIitpbnNlcnRcIik7dmFyIEM9ci5saXN0U2VsZWN0aW9ucygpLnNsaWNlKDApO0NbdV09e2hlYWQ6dy5uZXdQb3MsYW5jaG9yOncubmV3UG9zfSxyLnNldFNlbGVjdGlvbnMoQyksIUEmJncuaW5kZW50JiYoci5pbmRlbnRMaW5lKHcubmV3UG9zLmxpbmUsbnVsbCwhMCksci5pbmRlbnRMaW5lKHcubmV3UG9zLmxpbmUrMSxudWxsLCEwKSl9fShyKX0pLGEuYWRkS2V5TWFwKHUpfX0pO3ZhciB0PVtcImFyZWFcIixcImJhc2VcIixcImJyXCIsXCJjb2xcIixcImNvbW1hbmRcIixcImVtYmVkXCIsXCJoclwiLFwiaW1nXCIsXCJpbnB1dFwiLFwia2V5Z2VuXCIsXCJsaW5rXCIsXCJtZXRhXCIsXCJwYXJhbVwiLFwic291cmNlXCIsXCJ0cmFja1wiLFwid2JyXCJdLG49W1wiYXBwbGV0XCIsXCJibG9ja3F1b3RlXCIsXCJib2R5XCIsXCJidXR0b25cIixcImRpdlwiLFwiZGxcIixcImZpZWxkc2V0XCIsXCJmb3JtXCIsXCJmcmFtZXNldFwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiLFwiaGVhZFwiLFwiaHRtbFwiLFwiaWZyYW1lXCIsXCJsYXllclwiLFwibGVnZW5kXCIsXCJvYmplY3RcIixcIm9sXCIsXCJwXCIsXCJzZWxlY3RcIixcInRhYmxlXCIsXCJ1bFwiXTtmdW5jdGlvbiByKHQsbil7Zm9yKHZhciByPXQubGlzdFNlbGVjdGlvbnMoKSxpPVtdLGE9bj9cIi9cIjpcIjwvXCIscz10LmdldE9wdGlvbihcImF1dG9DbG9zZVRhZ3NcIiksbD1cIm9iamVjdFwiPT10eXBlb2YgcyYmcy5kb250SW5kZW50T25TbGFzaCx1PTA7dTxyLmxlbmd0aDt1Kyspe2lmKCFyW3VdLmVtcHR5KCkpcmV0dXJuIGUuUGFzczt2YXIgYyxoPXJbdV0uaGVhZCxkPXQuZ2V0VG9rZW5BdChoKSxmPWUuaW5uZXJNb2RlKHQuZ2V0TW9kZSgpLGQuc3RhdGUpLHA9Zi5zdGF0ZTtpZihuJiYoXCJzdHJpbmdcIj09ZC50eXBlfHxcIjxcIiE9ZC5zdHJpbmcuY2hhckF0KDApfHxkLnN0YXJ0IT1oLmNoLTEpKXJldHVybiBlLlBhc3M7aWYoXCJ4bWxcIiE9Zi5tb2RlLm5hbWUpaWYoXCJodG1sbWl4ZWRcIj09dC5nZXRNb2RlKCkubmFtZSYmXCJqYXZhc2NyaXB0XCI9PWYubW9kZS5uYW1lKWM9YStcInNjcmlwdFwiO2Vsc2V7aWYoXCJodG1sbWl4ZWRcIiE9dC5nZXRNb2RlKCkubmFtZXx8XCJjc3NcIiE9Zi5tb2RlLm5hbWUpcmV0dXJuIGUuUGFzcztjPWErXCJzdHlsZVwifWVsc2V7aWYoIXAuY29udGV4dHx8IXAuY29udGV4dC50YWdOYW1lfHxvKHQscC5jb250ZXh0LnRhZ05hbWUsaCxwKSlyZXR1cm4gZS5QYXNzO2M9YStwLmNvbnRleHQudGFnTmFtZX1cIj5cIiE9dC5nZXRMaW5lKGgubGluZSkuY2hhckF0KGQuZW5kKSYmKGMrPVwiPlwiKSxpW3VdPWN9aWYodC5yZXBsYWNlU2VsZWN0aW9ucyhpKSxyPXQubGlzdFNlbGVjdGlvbnMoKSwhbClmb3IodmFyIHU9MDt1PHIubGVuZ3RoO3UrKykodT09ci5sZW5ndGgtMXx8clt1XS5oZWFkLmxpbmU8clt1KzFdLmhlYWQubGluZSkmJnQuaW5kZW50TGluZShyW3VdLmhlYWQubGluZSl9ZnVuY3Rpb24gaShlLHQpe2lmKGUuaW5kZXhPZilyZXR1cm4gZS5pbmRleE9mKHQpO2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyOysrbilpZihlW25dPT10KXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIG8odCxuLHIsaSxvKXtpZighZS5zY2FuRm9yQ2xvc2luZ1RhZylyZXR1cm4hMTt2YXIgYT1NYXRoLm1pbih0Lmxhc3RMaW5lKCkrMSxyLmxpbmUrNTAwKSxzPWUuc2NhbkZvckNsb3NpbmdUYWcodCxyLG51bGwsYSk7aWYoIXN8fHMudGFnIT1uKXJldHVybiExO2Zvcih2YXIgbD1pLmNvbnRleHQsdT1vPzE6MDtsJiZsLnRhZ05hbWU9PW47bD1sLnByZXYpKyt1O3I9cy50bztmb3IodmFyIGM9MTtjPHU7YysrKXt2YXIgaD1lLnNjYW5Gb3JDbG9zaW5nVGFnKHQscixudWxsLGEpO2lmKCFofHxoLnRhZyE9bilyZXR1cm4hMTtyPWgudG99cmV0dXJuITB9ZS5jb21tYW5kcy5jbG9zZVRhZz1mdW5jdGlvbihlKXtyZXR1cm4gcihlKX19KG4oMCksbigxMSkpfSxmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2UuZGVmaW5lT3B0aW9uKFwiZm9sZEd1dHRlclwiLCExLGZ1bmN0aW9uKHQsbixyKXtyJiZyIT1lLkluaXQmJih0LmNsZWFyR3V0dGVyKHQuc3RhdGUuZm9sZEd1dHRlci5vcHRpb25zLmd1dHRlciksdC5zdGF0ZS5mb2xkR3V0dGVyPW51bGwsdC5vZmYoXCJndXR0ZXJDbGlja1wiLGEpLHQub2ZmKFwiY2hhbmdlXCIscyksdC5vZmYoXCJ2aWV3cG9ydENoYW5nZVwiLGwpLHQub2ZmKFwiZm9sZFwiLHUpLHQub2ZmKFwidW5mb2xkXCIsdSksdC5vZmYoXCJzd2FwRG9jXCIscykpLG4mJih0LnN0YXRlLmZvbGRHdXR0ZXI9bmV3IGZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucz1lLHRoaXMuZnJvbT10aGlzLnRvPTB9KGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZSYmKGU9e30pLG51bGw9PWUuZ3V0dGVyJiYoZS5ndXR0ZXI9XCJDb2RlTWlycm9yLWZvbGRndXR0ZXJcIiksbnVsbD09ZS5pbmRpY2F0b3JPcGVuJiYoZS5pbmRpY2F0b3JPcGVuPVwiQ29kZU1pcnJvci1mb2xkZ3V0dGVyLW9wZW5cIiksbnVsbD09ZS5pbmRpY2F0b3JGb2xkZWQmJihlLmluZGljYXRvckZvbGRlZD1cIkNvZGVNaXJyb3ItZm9sZGd1dHRlci1mb2xkZWRcIiksZX0obikpLG8odCksdC5vbihcImd1dHRlckNsaWNrXCIsYSksdC5vbihcImNoYW5nZVwiLHMpLHQub24oXCJ2aWV3cG9ydENoYW5nZVwiLGwpLHQub24oXCJmb2xkXCIsdSksdC5vbihcInVuZm9sZFwiLHUpLHQub24oXCJzd2FwRG9jXCIscykpfSk7dmFyIHQ9ZS5Qb3M7ZnVuY3Rpb24gbihlLG4pe2Zvcih2YXIgcj1lLmZpbmRNYXJrcyh0KG4sMCksdChuKzEsMCkpLGk9MDtpPHIubGVuZ3RoOysraSlpZihyW2ldLl9faXNGb2xkJiZyW2ldLmZpbmQoKS5mcm9tLmxpbmU9PW4pcmV0dXJuIHJbaV19ZnVuY3Rpb24gcihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gdC5jbGFzc05hbWU9ZStcIiBDb2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGVcIix0fXJldHVybiBlLmNsb25lTm9kZSghMCl9ZnVuY3Rpb24gaShlLGksbyl7dmFyIGE9ZS5zdGF0ZS5mb2xkR3V0dGVyLm9wdGlvbnMscz1pLGw9ZS5mb2xkT3B0aW9uKGEsXCJtaW5Gb2xkU2l6ZVwiKSx1PWUuZm9sZE9wdGlvbihhLFwicmFuZ2VGaW5kZXJcIik7ZS5lYWNoTGluZShpLG8sZnVuY3Rpb24oaSl7dmFyIG89bnVsbDtpZihuKGUscykpbz1yKGEuaW5kaWNhdG9yRm9sZGVkKTtlbHNle3ZhciBjPXQocywwKSxoPXUmJnUoZSxjKTtoJiZoLnRvLmxpbmUtaC5mcm9tLmxpbmU+PWwmJihvPXIoYS5pbmRpY2F0b3JPcGVuKSl9ZS5zZXRHdXR0ZXJNYXJrZXIoaSxhLmd1dHRlcixvKSwrK3N9KX1mdW5jdGlvbiBvKGUpe3ZhciB0PWUuZ2V0Vmlld3BvcnQoKSxuPWUuc3RhdGUuZm9sZEd1dHRlcjtuJiYoZS5vcGVyYXRpb24oZnVuY3Rpb24oKXtpKGUsdC5mcm9tLHQudG8pfSksbi5mcm9tPXQuZnJvbSxuLnRvPXQudG8pfWZ1bmN0aW9uIGEoZSxyLGkpe3ZhciBvPWUuc3RhdGUuZm9sZEd1dHRlcjtpZihvKXt2YXIgYT1vLm9wdGlvbnM7aWYoaT09YS5ndXR0ZXIpe3ZhciBzPW4oZSxyKTtzP3MuY2xlYXIoKTplLmZvbGRDb2RlKHQociwwKSxhLnJhbmdlRmluZGVyKX19fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5zdGF0ZS5mb2xkR3V0dGVyO2lmKHQpe3ZhciBuPXQub3B0aW9uczt0LmZyb209dC50bz0wLGNsZWFyVGltZW91dCh0LmNoYW5nZVVwZGF0ZSksdC5jaGFuZ2VVcGRhdGU9c2V0VGltZW91dChmdW5jdGlvbigpe28oZSl9LG4uZm9sZE9uQ2hhbmdlVGltZVNwYW58fDYwMCl9fWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZS5zdGF0ZS5mb2xkR3V0dGVyO2lmKHQpe3ZhciBuPXQub3B0aW9ucztjbGVhclRpbWVvdXQodC5jaGFuZ2VVcGRhdGUpLHQuY2hhbmdlVXBkYXRlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgbj1lLmdldFZpZXdwb3J0KCk7dC5mcm9tPT10LnRvfHxuLmZyb20tdC50bz4yMHx8dC5mcm9tLW4udG8+MjA/byhlKTplLm9wZXJhdGlvbihmdW5jdGlvbigpe24uZnJvbTx0LmZyb20mJihpKGUsbi5mcm9tLHQuZnJvbSksdC5mcm9tPW4uZnJvbSksbi50bz50LnRvJiYoaShlLHQudG8sbi50byksdC50bz1uLnRvKX0pfSxuLnVwZGF0ZVZpZXdwb3J0VGltZVNwYW58fDQwMCl9fWZ1bmN0aW9uIHUoZSx0KXt2YXIgbj1lLnN0YXRlLmZvbGRHdXR0ZXI7aWYobil7dmFyIHI9dC5saW5lO3I+PW4uZnJvbSYmcjxuLnRvJiZpKGUscixyKzEpfX19KG4oMCksbigxMikpfSxmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0PVwiQ29kZU1pcnJvci1oaW50XCIsbj1cIkNvZGVNaXJyb3ItaGludC1hY3RpdmVcIjtmdW5jdGlvbiByKGUsdCl7dGhpcy5jbT1lLHRoaXMub3B0aW9ucz10LHRoaXMud2lkZ2V0PW51bGwsdGhpcy5kZWJvdW5jZT0wLHRoaXMudGljaz0wLHRoaXMuc3RhcnRQb3M9dGhpcy5jbS5nZXRDdXJzb3IoXCJzdGFydFwiKSx0aGlzLnN0YXJ0TGVuPXRoaXMuY20uZ2V0TGluZSh0aGlzLnN0YXJ0UG9zLmxpbmUpLmxlbmd0aC10aGlzLmNtLmdldFNlbGVjdGlvbigpLmxlbmd0aDt2YXIgbj10aGlzO2Uub24oXCJjdXJzb3JBY3Rpdml0eVwiLHRoaXMuYWN0aXZpdHlGdW5jPWZ1bmN0aW9uKCl7bi5jdXJzb3JBY3Rpdml0eSgpfSl9ZS5zaG93SGludD1mdW5jdGlvbihlLHQsbil7aWYoIXQpcmV0dXJuIGUuc2hvd0hpbnQobik7biYmbi5hc3luYyYmKHQuYXN5bmM9ITApO3ZhciByPXtoaW50OnR9O2lmKG4pZm9yKHZhciBpIGluIG4pcltpXT1uW2ldO3JldHVybiBlLnNob3dIaW50KHIpfSxlLmRlZmluZUV4dGVuc2lvbihcInNob3dIaW50XCIsZnVuY3Rpb24odCl7dD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5vcHRpb25zLmhpbnRPcHRpb25zLGk9e307Zm9yKHZhciBvIGluIGMpaVtvXT1jW29dO2lmKHIpZm9yKHZhciBvIGluIHIpdm9pZCAwIT09cltvXSYmKGlbb109cltvXSk7aWYobilmb3IodmFyIG8gaW4gbil2b2lkIDAhPT1uW29dJiYoaVtvXT1uW29dKTtyZXR1cm4gaS5oaW50LnJlc29sdmUmJihpLmhpbnQ9aS5oaW50LnJlc29sdmUoZSx0KSksaX0odGhpcyx0aGlzLmdldEN1cnNvcihcInN0YXJ0XCIpLHQpO3ZhciBuPXRoaXMubGlzdFNlbGVjdGlvbnMoKTtpZighKG4ubGVuZ3RoPjEpKXtpZih0aGlzLnNvbWV0aGluZ1NlbGVjdGVkKCkpe2lmKCF0LmhpbnQuc3VwcG9ydHNTZWxlY3Rpb24pcmV0dXJuO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKG5baV0uaGVhZC5saW5lIT1uW2ldLmFuY2hvci5saW5lKXJldHVybn10aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUmJnRoaXMuc3RhdGUuY29tcGxldGlvbkFjdGl2ZS5jbG9zZSgpO3ZhciBvPXRoaXMuc3RhdGUuY29tcGxldGlvbkFjdGl2ZT1uZXcgcih0aGlzLHQpO28ub3B0aW9ucy5oaW50JiYoZS5zaWduYWwodGhpcyxcInN0YXJ0Q29tcGxldGlvblwiLHRoaXMpLG8udXBkYXRlKCEwKSl9fSk7dmFyIGk9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSwxZTMvNjApfSxvPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8Y2xlYXJUaW1lb3V0O2Z1bmN0aW9uIGEoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplLnRleHR9ZnVuY3Rpb24gcyhlLHQpe2Zvcig7dCYmdCE9ZTspe2lmKFwiTElcIj09PXQubm9kZU5hbWUudG9VcHBlckNhc2UoKSYmdC5wYXJlbnROb2RlPT1lKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfX1mdW5jdGlvbiBsKHIsaSl7dGhpcy5jb21wbGV0aW9uPXIsdGhpcy5kYXRhPWksdGhpcy5waWNrZWQ9ITE7dmFyIG89dGhpcyxsPXIuY20sdT1sLmdldElucHV0RmllbGQoKS5vd25lckRvY3VtZW50LGM9dS5kZWZhdWx0Vmlld3x8dS5wYXJlbnRXaW5kb3csaD10aGlzLmhpbnRzPXUuY3JlYXRlRWxlbWVudChcInVsXCIpLGQ9ci5jbS5vcHRpb25zLnRoZW1lO2guY2xhc3NOYW1lPVwiQ29kZU1pcnJvci1oaW50cyBcIitkLHRoaXMuc2VsZWN0ZWRIaW50PWkuc2VsZWN0ZWRIaW50fHwwO2Zvcih2YXIgZj1pLmxpc3QscD0wO3A8Zi5sZW5ndGg7KytwKXt2YXIgZz1oLmFwcGVuZENoaWxkKHUuY3JlYXRlRWxlbWVudChcImxpXCIpKSx2PWZbcF0sbT10KyhwIT10aGlzLnNlbGVjdGVkSGludD9cIlwiOlwiIFwiK24pO251bGwhPXYuY2xhc3NOYW1lJiYobT12LmNsYXNzTmFtZStcIiBcIittKSxnLmNsYXNzTmFtZT1tLHYucmVuZGVyP3YucmVuZGVyKGcsaSx2KTpnLmFwcGVuZENoaWxkKHUuY3JlYXRlVGV4dE5vZGUodi5kaXNwbGF5VGV4dHx8YSh2KSkpLGcuaGludElkPXB9dmFyIGI9bC5jdXJzb3JDb29yZHMoci5vcHRpb25zLmFsaWduV2l0aFdvcmQ/aS5mcm9tOm51bGwpLHk9Yi5sZWZ0LEE9Yi5ib3R0b20sdz0hMDtoLnN0eWxlLmxlZnQ9eStcInB4XCIsaC5zdHlsZS50b3A9QStcInB4XCI7dmFyIEM9Yy5pbm5lcldpZHRofHxNYXRoLm1heCh1LmJvZHkub2Zmc2V0V2lkdGgsdS5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgpLHg9Yy5pbm5lckhlaWdodHx8TWF0aC5tYXgodS5ib2R5Lm9mZnNldEhlaWdodCx1LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpOyhyLm9wdGlvbnMuY29udGFpbmVyfHx1LmJvZHkpLmFwcGVuZENoaWxkKGgpO3ZhciBrPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksST1rLmJvdHRvbS14LE09aC5zY3JvbGxIZWlnaHQ+aC5jbGllbnRIZWlnaHQrMSxTPWwuZ2V0U2Nyb2xsSW5mbygpO2lmKEk+MCl7dmFyIEw9ay5ib3R0b20tay50b3AsVD1iLnRvcC0oYi5ib3R0b20tay50b3ApO2lmKFQtTD4wKWguc3R5bGUudG9wPShBPWIudG9wLUwpK1wicHhcIix3PSExO2Vsc2UgaWYoTD54KXtoLnN0eWxlLmhlaWdodD14LTUrXCJweFwiLGguc3R5bGUudG9wPShBPWIuYm90dG9tLWsudG9wKStcInB4XCI7dmFyIE89bC5nZXRDdXJzb3IoKTtpLmZyb20uY2ghPU8uY2gmJihiPWwuY3Vyc29yQ29vcmRzKE8pLGguc3R5bGUubGVmdD0oeT1iLmxlZnQpK1wicHhcIixrPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfX12YXIgTixFPWsucmlnaHQtQztpZihFPjAmJihrLnJpZ2h0LWsubGVmdD5DJiYoaC5zdHlsZS53aWR0aD1DLTUrXCJweFwiLEUtPWsucmlnaHQtay5sZWZ0LUMpLGguc3R5bGUubGVmdD0oeT1iLmxlZnQtRSkrXCJweFwiKSxNKWZvcih2YXIgUD1oLmZpcnN0Q2hpbGQ7UDtQPVAubmV4dFNpYmxpbmcpUC5zdHlsZS5wYWRkaW5nUmlnaHQ9bC5kaXNwbGF5Lm5hdGl2ZUJhcldpZHRoK1wicHhcIjtyZXR1cm4gbC5hZGRLZXlNYXAodGhpcy5rZXlNYXA9ZnVuY3Rpb24oZSx0KXt2YXIgbj17VXA6ZnVuY3Rpb24oKXt0Lm1vdmVGb2N1cygtMSl9LERvd246ZnVuY3Rpb24oKXt0Lm1vdmVGb2N1cygxKX0sUGFnZVVwOmZ1bmN0aW9uKCl7dC5tb3ZlRm9jdXMoMS10Lm1lbnVTaXplKCksITApfSxQYWdlRG93bjpmdW5jdGlvbigpe3QubW92ZUZvY3VzKHQubWVudVNpemUoKS0xLCEwKX0sSG9tZTpmdW5jdGlvbigpe3Quc2V0Rm9jdXMoMCl9LEVuZDpmdW5jdGlvbigpe3Quc2V0Rm9jdXModC5sZW5ndGgtMSl9LEVudGVyOnQucGljayxUYWI6dC5waWNrLEVzYzp0LmNsb3NlfSxyPWUub3B0aW9ucy5jdXN0b21LZXlzLGk9cj97fTpuO2Z1bmN0aW9uIG8oZSxyKXt2YXIgbztvPVwic3RyaW5nXCIhPXR5cGVvZiByP2Z1bmN0aW9uKGUpe3JldHVybiByKGUsdCl9Om4uaGFzT3duUHJvcGVydHkocik/bltyXTpyLGlbZV09b31pZihyKWZvcih2YXIgYSBpbiByKXIuaGFzT3duUHJvcGVydHkoYSkmJm8oYSxyW2FdKTt2YXIgcz1lLm9wdGlvbnMuZXh0cmFLZXlzO2lmKHMpZm9yKHZhciBhIGluIHMpcy5oYXNPd25Qcm9wZXJ0eShhKSYmbyhhLHNbYV0pO3JldHVybiBpfShyLHttb3ZlRm9jdXM6ZnVuY3Rpb24oZSx0KXtvLmNoYW5nZUFjdGl2ZShvLnNlbGVjdGVkSGludCtlLHQpfSxzZXRGb2N1czpmdW5jdGlvbihlKXtvLmNoYW5nZUFjdGl2ZShlKX0sbWVudVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gby5zY3JlZW5BbW91bnQoKX0sbGVuZ3RoOmYubGVuZ3RoLGNsb3NlOmZ1bmN0aW9uKCl7ci5jbG9zZSgpfSxwaWNrOmZ1bmN0aW9uKCl7by5waWNrKCl9LGRhdGE6aX0pKSxyLm9wdGlvbnMuY2xvc2VPblVuZm9jdXMmJihsLm9uKFwiYmx1clwiLHRoaXMub25CbHVyPWZ1bmN0aW9uKCl7Tj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5jbG9zZSgpfSwxMDApfSksbC5vbihcImZvY3VzXCIsdGhpcy5vbkZvY3VzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KE4pfSkpLGwub24oXCJzY3JvbGxcIix0aGlzLm9uU2Nyb2xsPWZ1bmN0aW9uKCl7dmFyIGU9bC5nZXRTY3JvbGxJbmZvKCksdD1sLmdldFdyYXBwZXJFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1BK1MudG9wLWUudG9wLGk9bi0oYy5wYWdlWU9mZnNldHx8KHUuZG9jdW1lbnRFbGVtZW50fHx1LmJvZHkpLnNjcm9sbFRvcCk7aWYod3x8KGkrPWgub2Zmc2V0SGVpZ2h0KSxpPD10LnRvcHx8aT49dC5ib3R0b20pcmV0dXJuIHIuY2xvc2UoKTtoLnN0eWxlLnRvcD1uK1wicHhcIixoLnN0eWxlLmxlZnQ9eStTLmxlZnQtZS5sZWZ0K1wicHhcIn0pLGUub24oaCxcImRibGNsaWNrXCIsZnVuY3Rpb24oZSl7dmFyIHQ9cyhoLGUudGFyZ2V0fHxlLnNyY0VsZW1lbnQpO3QmJm51bGwhPXQuaGludElkJiYoby5jaGFuZ2VBY3RpdmUodC5oaW50SWQpLG8ucGljaygpKX0pLGUub24oaCxcImNsaWNrXCIsZnVuY3Rpb24oZSl7dmFyIHQ9cyhoLGUudGFyZ2V0fHxlLnNyY0VsZW1lbnQpO3QmJm51bGwhPXQuaGludElkJiYoby5jaGFuZ2VBY3RpdmUodC5oaW50SWQpLHIub3B0aW9ucy5jb21wbGV0ZU9uU2luZ2xlQ2xpY2smJm8ucGljaygpKX0pLGUub24oaCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2wuZm9jdXMoKX0sMjApfSksZS5zaWduYWwoaSxcInNlbGVjdFwiLGZbdGhpcy5zZWxlY3RlZEhpbnRdLGguY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludF0pLCEwfWZ1bmN0aW9uIHUoZSx0LG4scil7aWYoZS5hc3luYyllKHQscixuKTtlbHNle3ZhciBpPWUodCxuKTtpJiZpLnRoZW4/aS50aGVuKHIpOnIoaSl9fXIucHJvdG90eXBlPXtjbG9zZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlKCkmJih0aGlzLmNtLnN0YXRlLmNvbXBsZXRpb25BY3RpdmU9bnVsbCx0aGlzLnRpY2s9bnVsbCx0aGlzLmNtLm9mZihcImN1cnNvckFjdGl2aXR5XCIsdGhpcy5hY3Rpdml0eUZ1bmMpLHRoaXMud2lkZ2V0JiZ0aGlzLmRhdGEmJmUuc2lnbmFsKHRoaXMuZGF0YSxcImNsb3NlXCIpLHRoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5jbG9zZSgpLGUuc2lnbmFsKHRoaXMuY20sXCJlbmRDb21wbGV0aW9uXCIsdGhpcy5jbSkpfSxhY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbS5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlPT10aGlzfSxwaWNrOmZ1bmN0aW9uKHQsbil7dmFyIHI9dC5saXN0W25dO3IuaGludD9yLmhpbnQodGhpcy5jbSx0LHIpOnRoaXMuY20ucmVwbGFjZVJhbmdlKGEociksci5mcm9tfHx0LmZyb20sci50b3x8dC50byxcImNvbXBsZXRlXCIpLGUuc2lnbmFsKHQsXCJwaWNrXCIsciksdGhpcy5jbG9zZSgpfSxjdXJzb3JBY3Rpdml0eTpmdW5jdGlvbigpe3RoaXMuZGVib3VuY2UmJihvKHRoaXMuZGVib3VuY2UpLHRoaXMuZGVib3VuY2U9MCk7dmFyIGU9dGhpcy5jbS5nZXRDdXJzb3IoKSx0PXRoaXMuY20uZ2V0TGluZShlLmxpbmUpO2lmKGUubGluZSE9dGhpcy5zdGFydFBvcy5saW5lfHx0Lmxlbmd0aC1lLmNoIT10aGlzLnN0YXJ0TGVuLXRoaXMuc3RhcnRQb3MuY2h8fGUuY2g8dGhpcy5zdGFydFBvcy5jaHx8dGhpcy5jbS5zb21ldGhpbmdTZWxlY3RlZCgpfHwhZS5jaHx8dGhpcy5vcHRpb25zLmNsb3NlQ2hhcmFjdGVycy50ZXN0KHQuY2hhckF0KGUuY2gtMSkpKXRoaXMuY2xvc2UoKTtlbHNle3ZhciBuPXRoaXM7dGhpcy5kZWJvdW5jZT1pKGZ1bmN0aW9uKCl7bi51cGRhdGUoKX0pLHRoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5kaXNhYmxlKCl9fSx1cGRhdGU6ZnVuY3Rpb24oZSl7aWYobnVsbCE9dGhpcy50aWNrKXt2YXIgdD10aGlzLG49Kyt0aGlzLnRpY2s7dSh0aGlzLm9wdGlvbnMuaGludCx0aGlzLmNtLHRoaXMub3B0aW9ucyxmdW5jdGlvbihyKXt0LnRpY2s9PW4mJnQuZmluaXNoVXBkYXRlKHIsZSl9KX19LGZpbmlzaFVwZGF0ZTpmdW5jdGlvbih0LG4pe3RoaXMuZGF0YSYmZS5zaWduYWwodGhpcy5kYXRhLFwidXBkYXRlXCIpO3ZhciByPXRoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5waWNrZWR8fG4mJnRoaXMub3B0aW9ucy5jb21wbGV0ZVNpbmdsZTt0aGlzLndpZGdldCYmdGhpcy53aWRnZXQuY2xvc2UoKSx0aGlzLmRhdGE9dCx0JiZ0Lmxpc3QubGVuZ3RoJiYociYmMT09dC5saXN0Lmxlbmd0aD90aGlzLnBpY2sodCwwKToodGhpcy53aWRnZXQ9bmV3IGwodGhpcyx0KSxlLnNpZ25hbCh0LFwic2hvd25cIikpKX19LGwucHJvdG90eXBlPXtjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuY29tcGxldGlvbi53aWRnZXQ9PXRoaXMpe3RoaXMuY29tcGxldGlvbi53aWRnZXQ9bnVsbCx0aGlzLmhpbnRzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oaW50cyksdGhpcy5jb21wbGV0aW9uLmNtLnJlbW92ZUtleU1hcCh0aGlzLmtleU1hcCk7dmFyIGU9dGhpcy5jb21wbGV0aW9uLmNtO3RoaXMuY29tcGxldGlvbi5vcHRpb25zLmNsb3NlT25VbmZvY3VzJiYoZS5vZmYoXCJibHVyXCIsdGhpcy5vbkJsdXIpLGUub2ZmKFwiZm9jdXNcIix0aGlzLm9uRm9jdXMpKSxlLm9mZihcInNjcm9sbFwiLHRoaXMub25TY3JvbGwpfX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuY29tcGxldGlvbi5jbS5yZW1vdmVLZXlNYXAodGhpcy5rZXlNYXApO3ZhciBlPXRoaXM7dGhpcy5rZXlNYXA9e0VudGVyOmZ1bmN0aW9uKCl7ZS5waWNrZWQ9ITB9fSx0aGlzLmNvbXBsZXRpb24uY20uYWRkS2V5TWFwKHRoaXMua2V5TWFwKX0scGljazpmdW5jdGlvbigpe3RoaXMuY29tcGxldGlvbi5waWNrKHRoaXMuZGF0YSx0aGlzLnNlbGVjdGVkSGludCl9LGNoYW5nZUFjdGl2ZTpmdW5jdGlvbih0LHIpe2lmKHQ+PXRoaXMuZGF0YS5saXN0Lmxlbmd0aD90PXI/dGhpcy5kYXRhLmxpc3QubGVuZ3RoLTE6MDp0PDAmJih0PXI/MDp0aGlzLmRhdGEubGlzdC5sZW5ndGgtMSksdGhpcy5zZWxlY3RlZEhpbnQhPXQpe3ZhciBpPXRoaXMuaGludHMuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludF07aSYmKGkuY2xhc3NOYW1lPWkuY2xhc3NOYW1lLnJlcGxhY2UoXCIgXCIrbixcIlwiKSksKGk9dGhpcy5oaW50cy5jaGlsZE5vZGVzW3RoaXMuc2VsZWN0ZWRIaW50PXRdKS5jbGFzc05hbWUrPVwiIFwiK24saS5vZmZzZXRUb3A8dGhpcy5oaW50cy5zY3JvbGxUb3A/dGhpcy5oaW50cy5zY3JvbGxUb3A9aS5vZmZzZXRUb3AtMzppLm9mZnNldFRvcCtpLm9mZnNldEhlaWdodD50aGlzLmhpbnRzLnNjcm9sbFRvcCt0aGlzLmhpbnRzLmNsaWVudEhlaWdodCYmKHRoaXMuaGludHMuc2Nyb2xsVG9wPWkub2Zmc2V0VG9wK2kub2Zmc2V0SGVpZ2h0LXRoaXMuaGludHMuY2xpZW50SGVpZ2h0KzMpLGUuc2lnbmFsKHRoaXMuZGF0YSxcInNlbGVjdFwiLHRoaXMuZGF0YS5saXN0W3RoaXMuc2VsZWN0ZWRIaW50XSxpKX19LHNjcmVlbkFtb3VudDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMuaGludHMuY2xpZW50SGVpZ2h0L3RoaXMuaGludHMuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQpfHwxfX0sZS5yZWdpc3RlckhlbHBlcihcImhpbnRcIixcImF1dG9cIix7cmVzb2x2ZTpmdW5jdGlvbih0LG4pe3ZhciByLGk9dC5nZXRIZWxwZXJzKG4sXCJoaW50XCIpO2lmKGkubGVuZ3RoKXt2YXIgbz1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSx0KXtpZighZS5zb21ldGhpbmdTZWxlY3RlZCgpKXJldHVybiB0O2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXS5zdXBwb3J0c1NlbGVjdGlvbiYmbi5wdXNoKHRbcl0pO3JldHVybiBufShlLGkpOyFmdW5jdGlvbiBpKG8pe2lmKG89PXIubGVuZ3RoKXJldHVybiB0KG51bGwpO3UocltvXSxlLG4sZnVuY3Rpb24oZSl7ZSYmZS5saXN0Lmxlbmd0aD4wP3QoZSk6aShvKzEpfSl9KDApfTtyZXR1cm4gby5hc3luYz0hMCxvLnN1cHBvcnRzU2VsZWN0aW9uPSEwLG99cmV0dXJuKHI9dC5nZXRIZWxwZXIodC5nZXRDdXJzb3IoKSxcImhpbnRXb3Jkc1wiKSk/ZnVuY3Rpb24odCl7cmV0dXJuIGUuaGludC5mcm9tTGlzdCh0LHt3b3JkczpyfSl9OmUuaGludC5hbnl3b3JkP2Z1bmN0aW9uKHQsbil7cmV0dXJuIGUuaGludC5hbnl3b3JkKHQsbil9OmZ1bmN0aW9uKCl7fX19KSxlLnJlZ2lzdGVySGVscGVyKFwiaGludFwiLFwiZnJvbUxpc3RcIixmdW5jdGlvbih0LG4pe3ZhciByLGk9dC5nZXRDdXJzb3IoKSxvPXQuZ2V0VG9rZW5BdChpKSxhPWUuUG9zKGkubGluZSxvLnN0YXJ0KSxzPWk7by5zdGFydDxpLmNoJiYvXFx3Ly50ZXN0KG8uc3RyaW5nLmNoYXJBdChpLmNoLW8uc3RhcnQtMSkpP3I9by5zdHJpbmcuc3Vic3RyKDAsaS5jaC1vLnN0YXJ0KToocj1cIlwiLGE9aSk7Zm9yKHZhciBsPVtdLHU9MDt1PG4ud29yZHMubGVuZ3RoO3UrKyl7dmFyIGM9bi53b3Jkc1t1XTtjLnNsaWNlKDAsci5sZW5ndGgpPT1yJiZsLnB1c2goYyl9aWYobC5sZW5ndGgpcmV0dXJue2xpc3Q6bCxmcm9tOmEsdG86c319KSxlLmNvbW1hbmRzLmF1dG9jb21wbGV0ZT1lLnNob3dIaW50O3ZhciBjPXtoaW50OmUuaGludC5hdXRvLGNvbXBsZXRlU2luZ2xlOiEwLGFsaWduV2l0aFdvcmQ6ITAsY2xvc2VDaGFyYWN0ZXJzOi9bXFxzKClcXFtcXF17fTs6PixdLyxjbG9zZU9uVW5mb2N1czohMCxjb21wbGV0ZU9uU2luZ2xlQ2xpY2s6ITAsY29udGFpbmVyOm51bGwsY3VzdG9tS2V5czpudWxsLGV4dHJhS2V5czpudWxsfTtlLmRlZmluZU9wdGlvbihcImhpbnRPcHRpb25zXCIsbnVsbCl9KG4oMCkpfSxmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0PWUuUG9zO2UucmVnaXN0ZXJIZWxwZXIoXCJoaW50XCIsXCJ4bWxcIixmdW5jdGlvbihuLHIpe3ZhciBpPXImJnIuc2NoZW1hSW5mbyxvPXImJnIucXVvdGVDaGFyfHwnXCInO2lmKGkpe3ZhciBhPW4uZ2V0Q3Vyc29yKCkscz1uLmdldFRva2VuQXQoYSk7cy5lbmQ+YS5jaCYmKHMuZW5kPWEuY2gscy5zdHJpbmc9cy5zdHJpbmcuc2xpY2UoMCxhLmNoLXMuc3RhcnQpKTt2YXIgbD1lLmlubmVyTW9kZShuLmdldE1vZGUoKSxzLnN0YXRlKTtpZihcInhtbFwiPT1sLm1vZGUubmFtZSl7dmFyIHUsYyxoPVtdLGQ9ITEsZj0vXFxidGFnXFxiLy50ZXN0KHMudHlwZSkmJiEvPiQvLnRlc3Qocy5zdHJpbmcpLHA9ZiYmL15cXHcvLnRlc3Qocy5zdHJpbmcpO2lmKHApe3ZhciBnPW4uZ2V0TGluZShhLmxpbmUpLnNsaWNlKE1hdGgubWF4KDAscy5zdGFydC0yKSxzLnN0YXJ0KSx2PS88XFwvJC8udGVzdChnKT9cImNsb3NlXCI6LzwkLy50ZXN0KGcpP1wib3BlblwiOm51bGw7diYmKGM9cy5zdGFydC0oXCJjbG9zZVwiPT12PzI6MSkpfWVsc2UgZiYmXCI8XCI9PXMuc3RyaW5nP3Y9XCJvcGVuXCI6ZiYmXCI8L1wiPT1zLnN0cmluZyYmKHY9XCJjbG9zZVwiKTtpZighZiYmIWwuc3RhdGUudGFnTmFtZXx8dil7cCYmKHU9cy5zdHJpbmcpLGQ9djt2YXIgbT1sLnN0YXRlLmNvbnRleHQsYj1tJiZpW20udGFnTmFtZV0seT1tP2ImJmIuY2hpbGRyZW46aVtcIiF0b3BcIl07aWYoeSYmXCJjbG9zZVwiIT12KWZvcih2YXIgQT0wO0E8eS5sZW5ndGg7KytBKXUmJjAhPXlbQV0ubGFzdEluZGV4T2YodSwwKXx8aC5wdXNoKFwiPFwiK3lbQV0pO2Vsc2UgaWYoXCJjbG9zZVwiIT12KWZvcih2YXIgdyBpbiBpKSFpLmhhc093blByb3BlcnR5KHcpfHxcIiF0b3BcIj09d3x8XCIhYXR0cnNcIj09d3x8dSYmMCE9dy5sYXN0SW5kZXhPZih1LDApfHxoLnB1c2goXCI8XCIrdyk7bSYmKCF1fHxcImNsb3NlXCI9PXYmJjA9PW0udGFnTmFtZS5sYXN0SW5kZXhPZih1LDApKSYmaC5wdXNoKFwiPC9cIittLnRhZ05hbWUrXCI+XCIpfWVsc2V7dmFyIGI9aVtsLnN0YXRlLnRhZ05hbWVdLEM9YiYmYi5hdHRycyx4PWlbXCIhYXR0cnNcIl07aWYoIUMmJiF4KXJldHVybjtpZihDKXtpZih4KXt2YXIgaz17fTtmb3IodmFyIEkgaW4geCl4Lmhhc093blByb3BlcnR5KEkpJiYoa1tJXT14W0ldKTtmb3IodmFyIEkgaW4gQylDLmhhc093blByb3BlcnR5KEkpJiYoa1tJXT1DW0ldKTtDPWt9fWVsc2UgQz14O2lmKFwic3RyaW5nXCI9PXMudHlwZXx8XCI9XCI9PXMuc3RyaW5nKXt2YXIgTSxnPW4uZ2V0UmFuZ2UodChhLmxpbmUsTWF0aC5tYXgoMCxhLmNoLTYwKSksdChhLmxpbmUsXCJzdHJpbmdcIj09cy50eXBlP3Muc3RhcnQ6cy5lbmQpKSxTPWcubWF0Y2goLyhbXlxcc1xcdTAwYTA9PD5cXFwiXFwnXSspPSQvKTtpZighU3x8IUMuaGFzT3duUHJvcGVydHkoU1sxXSl8fCEoTT1DW1NbMV1dKSlyZXR1cm47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgTSYmKE09TS5jYWxsKHRoaXMsbikpLFwic3RyaW5nXCI9PXMudHlwZSl7dT1zLnN0cmluZzt2YXIgTD0wOy9bJ1wiXS8udGVzdChzLnN0cmluZy5jaGFyQXQoMCkpJiYobz1zLnN0cmluZy5jaGFyQXQoMCksdT1zLnN0cmluZy5zbGljZSgxKSxMKyspO3ZhciBUPXMuc3RyaW5nLmxlbmd0aDsvWydcIl0vLnRlc3Qocy5zdHJpbmcuY2hhckF0KFQtMSkpJiYobz1zLnN0cmluZy5jaGFyQXQoVC0xKSx1PXMuc3RyaW5nLnN1YnN0cihMLFQtMikpLGQ9ITB9Zm9yKHZhciBBPTA7QTxNLmxlbmd0aDsrK0EpdSYmMCE9TVtBXS5sYXN0SW5kZXhPZih1LDApfHxoLnB1c2gobytNW0FdK28pfWVsc2UgZm9yKHZhciBPIGluXCJhdHRyaWJ1dGVcIj09cy50eXBlJiYodT1zLnN0cmluZyxkPSEwKSxDKSFDLmhhc093blByb3BlcnR5KE8pfHx1JiYwIT1PLmxhc3RJbmRleE9mKHUsMCl8fGgucHVzaChPKX1yZXR1cm57bGlzdDpoLGZyb206ZD90KGEubGluZSxudWxsPT1jP3Muc3RhcnQ6Yyk6YSx0bzpkP3QoYS5saW5lLHMuZW5kKTphfX19fSl9KG4oMCkpfSxmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0PVwiQ29kZU1pcnJvci1saW50LW1hcmtlcnNcIjtmdW5jdGlvbiBuKGUpe2UucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIHIodCxyLGkpe3ZhciBvPWZ1bmN0aW9uKHQsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmdW5jdGlvbiBpKHQpe2lmKCFyLnBhcmVudE5vZGUpcmV0dXJuIGUub2ZmKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsaSk7ci5zdHlsZS50b3A9TWF0aC5tYXgoMCx0LmNsaWVudFktci5vZmZzZXRIZWlnaHQtNSkrXCJweFwiLHIuc3R5bGUubGVmdD10LmNsaWVudFgrNStcInB4XCJ9cmV0dXJuIHIuY2xhc3NOYW1lPVwiQ29kZU1pcnJvci1saW50LXRvb2x0aXBcIixyLmFwcGVuZENoaWxkKG4uY2xvbmVOb2RlKCEwKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyKSxlLm9uKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsaSksaSh0KSxudWxsIT1yLnN0eWxlLm9wYWNpdHkmJihyLnN0eWxlLm9wYWNpdHk9MSkscn0odCxyKTtmdW5jdGlvbiBhKCl7ZS5vZmYoaSxcIm1vdXNlb3V0XCIsYSksbyYmKGZ1bmN0aW9uKGUpe2UucGFyZW50Tm9kZSYmKG51bGw9PWUuc3R5bGUub3BhY2l0eSYmbihlKSxlLnN0eWxlLm9wYWNpdHk9MCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bihlKX0sNjAwKSl9KG8pLG89bnVsbCl9dmFyIHM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihvKWZvcih2YXIgZT1pOztlPWUucGFyZW50Tm9kZSl7aWYoZSYmMTE9PWUubm9kZVR5cGUmJihlPWUuaG9zdCksZT09ZG9jdW1lbnQuYm9keSlyZXR1cm47aWYoIWUpe2EoKTticmVha319aWYoIW8pcmV0dXJuIGNsZWFySW50ZXJ2YWwocyl9LDQwMCk7ZS5vbihpLFwibW91c2VvdXRcIixhKX1mdW5jdGlvbiBpKGUsdCxuKXt0aGlzLm1hcmtlZD1bXSx0aGlzLm9wdGlvbnM9dCx0aGlzLnRpbWVvdXQ9bnVsbCx0aGlzLmhhc0d1dHRlcj1uLHRoaXMub25Nb3VzZU92ZXI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKGUsdCl7dmFyIG49dC50YXJnZXR8fHQuc3JjRWxlbWVudDtpZigvXFxiQ29kZU1pcnJvci1saW50LW1hcmstLy50ZXN0KG4uY2xhc3NOYW1lKSl7Zm9yKHZhciBpPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz0oaS5sZWZ0K2kucmlnaHQpLzIsYT0oaS50b3AraS5ib3R0b20pLzIscz1lLmZpbmRNYXJrc0F0KGUuY29vcmRzQ2hhcih7bGVmdDpvLHRvcDphfSxcImNsaWVudFwiKSksdT1bXSxjPTA7YzxzLmxlbmd0aDsrK2Mpe3ZhciBoPXNbY10uX19hbm5vdGF0aW9uO2gmJnUucHVzaChoKX11Lmxlbmd0aCYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC50YXJnZXR8fHQuc3JjRWxlbWVudCxpPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBhPWVbb107aS5hcHBlbmRDaGlsZChsKGEpKX1yKHQsaSxuKX0odSx0KX19KGUsdCl9LHRoaXMud2FpdGluZ0Zvcj0wfWZ1bmN0aW9uIG8oZSl7dmFyIG49ZS5zdGF0ZS5saW50O24uaGFzR3V0dGVyJiZlLmNsZWFyR3V0dGVyKHQpO2Zvcih2YXIgcj0wO3I8bi5tYXJrZWQubGVuZ3RoOysrciluLm1hcmtlZFtyXS5jbGVhcigpO24ubWFya2VkLmxlbmd0aD0wfWZ1bmN0aW9uIGEodCxuLGksbyl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxzPWE7cmV0dXJuIGEuY2xhc3NOYW1lPVwiQ29kZU1pcnJvci1saW50LW1hcmtlci1cIituLGkmJigocz1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpKS5jbGFzc05hbWU9XCJDb2RlTWlycm9yLWxpbnQtbWFya2VyLW11bHRpcGxlXCIpLDAhPW8mJmUub24ocyxcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKGUpe3IoZSx0LHMpfSksYX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuXCJlcnJvclwiPT1lP2U6dH1mdW5jdGlvbiBsKGUpe3ZhciB0PWUuc2V2ZXJpdHk7dHx8KHQ9XCJlcnJvclwiKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBuLmNsYXNzTmFtZT1cIkNvZGVNaXJyb3ItbGludC1tZXNzYWdlLVwiK3Qsdm9pZCAwIT09ZS5tZXNzYWdlSFRNTD9uLmlubmVySFRNTD1lLm1lc3NhZ2VIVE1MOm4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZS5tZXNzYWdlKSksbn1mdW5jdGlvbiB1KHQpe3ZhciBuPXQuc3RhdGUubGludCxyPW4ub3B0aW9ucyxpPXIub3B0aW9uc3x8cixvPXIuZ2V0QW5ub3RhdGlvbnN8fHQuZ2V0SGVscGVyKGUuUG9zKDAsMCksXCJsaW50XCIpO2lmKG8paWYoci5hc3luY3x8by5hc3luYykhZnVuY3Rpb24odCxuLHIpe3ZhciBpPXQuc3RhdGUubGludCxvPSsraS53YWl0aW5nRm9yO2Z1bmN0aW9uIGEoKXtvPS0xLHQub2ZmKFwiY2hhbmdlXCIsYSl9dC5vbihcImNoYW5nZVwiLGEpLG4odC5nZXRWYWx1ZSgpLGZ1bmN0aW9uKG4scil7dC5vZmYoXCJjaGFuZ2VcIixhKSxpLndhaXRpbmdGb3I9PW8mJihyJiZuIGluc3RhbmNlb2YgZSYmKG49ciksdC5vcGVyYXRpb24oZnVuY3Rpb24oKXtjKHQsbil9KSl9LHIsdCl9KHQsbyxpKTtlbHNle3ZhciBhPW8odC5nZXRWYWx1ZSgpLGksdCk7aWYoIWEpcmV0dXJuO2EudGhlbj9hLnRoZW4oZnVuY3Rpb24oZSl7dC5vcGVyYXRpb24oZnVuY3Rpb24oKXtjKHQsZSl9KX0pOnQub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Yyh0LGEpfSl9fWZ1bmN0aW9uIGMoZSxuKXtvKGUpO2Zvcih2YXIgcj1lLnN0YXRlLmxpbnQsaT1yLm9wdGlvbnMsdT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcj1lW25dLGk9ci5mcm9tLmxpbmU7KHRbaV18fCh0W2ldPVtdKSkucHVzaChyKX1yZXR1cm4gdH0obiksYz0wO2M8dS5sZW5ndGg7KytjKXt2YXIgaD11W2NdO2lmKGgpe2Zvcih2YXIgZD1udWxsLGY9ci5oYXNHdXR0ZXImJmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxwPTA7cDxoLmxlbmd0aDsrK3Ape3ZhciBnPWhbcF0sdj1nLnNldmVyaXR5O3Z8fCh2PVwiZXJyb3JcIiksZD1zKGQsdiksaS5mb3JtYXRBbm5vdGF0aW9uJiYoZz1pLmZvcm1hdEFubm90YXRpb24oZykpLHIuaGFzR3V0dGVyJiZmLmFwcGVuZENoaWxkKGwoZykpLGcudG8mJnIubWFya2VkLnB1c2goZS5tYXJrVGV4dChnLmZyb20sZy50byx7Y2xhc3NOYW1lOlwiQ29kZU1pcnJvci1saW50LW1hcmstXCIrdixfX2Fubm90YXRpb246Z30pKX1yLmhhc0d1dHRlciYmZS5zZXRHdXR0ZXJNYXJrZXIoYyx0LGEoZixkLGgubGVuZ3RoPjEsci5vcHRpb25zLnRvb2x0aXBzKSl9fWkub25VcGRhdGVMaW50aW5nJiZpLm9uVXBkYXRlTGludGluZyhuLHUsZSl9ZnVuY3Rpb24gaChlKXt2YXIgdD1lLnN0YXRlLmxpbnQ7dCYmKGNsZWFyVGltZW91dCh0LnRpbWVvdXQpLHQudGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dShlKX0sdC5vcHRpb25zLmRlbGF5fHw1MDApKX1lLmRlZmluZU9wdGlvbihcImxpbnRcIiwhMSxmdW5jdGlvbihuLHIsYSl7aWYoYSYmYSE9ZS5Jbml0JiYobyhuKSwhMSE9PW4uc3RhdGUubGludC5vcHRpb25zLmxpbnRPbkNoYW5nZSYmbi5vZmYoXCJjaGFuZ2VcIixoKSxlLm9mZihuLmdldFdyYXBwZXJFbGVtZW50KCksXCJtb3VzZW92ZXJcIixuLnN0YXRlLmxpbnQub25Nb3VzZU92ZXIpLGNsZWFyVGltZW91dChuLnN0YXRlLmxpbnQudGltZW91dCksZGVsZXRlIG4uc3RhdGUubGludCkscil7Zm9yKHZhciBzPW4uZ2V0T3B0aW9uKFwiZ3V0dGVyc1wiKSxsPSExLGM9MDtjPHMubGVuZ3RoOysrYylzW2NdPT10JiYobD0hMCk7dmFyIGQ9bi5zdGF0ZS5saW50PW5ldyBpKG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3tnZXRBbm5vdGF0aW9uczp0fToodCYmITAhPT10fHwodD17fSksdCl9KDAsciksbCk7ITEhPT1kLm9wdGlvbnMubGludE9uQ2hhbmdlJiZuLm9uKFwiY2hhbmdlXCIsaCksMCE9ZC5vcHRpb25zLnRvb2x0aXBzJiZcImd1dHRlclwiIT1kLm9wdGlvbnMudG9vbHRpcHMmJmUub24obi5nZXRXcmFwcGVyRWxlbWVudCgpLFwibW91c2VvdmVyXCIsZC5vbk1vdXNlT3ZlciksdShuKX19KSxlLmRlZmluZUV4dGVuc2lvbihcInBlcmZvcm1MaW50XCIsZnVuY3Rpb24oKXt0aGlzLnN0YXRlLmxpbnQmJnUodGhpcyl9KX0obigwKSl9LGZ1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQsbixyPWUuUG9zO2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mbGFncztyZXR1cm4gbnVsbCE9dD90OihlLmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKGUuZ2xvYmFsP1wiZ1wiOlwiXCIpKyhlLm11bHRpbGluZT9cIm1cIjpcIlwiKX0oZSkscj1uLGk9MDtpPHQubGVuZ3RoO2krKyktMT09ci5pbmRleE9mKHQuY2hhckF0KGkpKSYmKHIrPXQuY2hhckF0KGkpKTtyZXR1cm4gbj09cj9lOm5ldyBSZWdFeHAoZS5zb3VyY2Uscil9ZnVuY3Rpb24gbyhlLHQsbil7dD1pKHQsXCJnXCIpO2Zvcih2YXIgbz1uLmxpbmUsYT1uLmNoLHM9ZS5sYXN0TGluZSgpO288PXM7bysrLGE9MCl7dC5sYXN0SW5kZXg9YTt2YXIgbD1lLmdldExpbmUobyksdT10LmV4ZWMobCk7aWYodSlyZXR1cm57ZnJvbTpyKG8sdS5pbmRleCksdG86cihvLHUuaW5kZXgrdVswXS5sZW5ndGgpLG1hdGNoOnV9fX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuLHI9MDs7KXt0Lmxhc3RJbmRleD1yO3ZhciBpPXQuZXhlYyhlKTtpZighaSlyZXR1cm4gbjtpZigocj0obj1pKS5pbmRleCsoblswXS5sZW5ndGh8fDEpKT09ZS5sZW5ndGgpcmV0dXJuIG59fWZ1bmN0aW9uIHMoZSx0LG4scil7aWYoZS5sZW5ndGg9PXQubGVuZ3RoKXJldHVybiBuO2Zvcih2YXIgaT0wLG89bitNYXRoLm1heCgwLGUubGVuZ3RoLXQubGVuZ3RoKTs7KXtpZihpPT1vKXJldHVybiBpO3ZhciBhPWkrbz4+MSxzPXIoZS5zbGljZSgwLGEpKS5sZW5ndGg7aWYocz09bilyZXR1cm4gYTtzPm4/bz1hOmk9YSsxfX1mdW5jdGlvbiBsKGUsbCx1LGMpe3ZhciBoO3RoaXMuYXRPY2N1cnJlbmNlPSExLHRoaXMuZG9jPWUsdT11P2UuY2xpcFBvcyh1KTpyKDAsMCksdGhpcy5wb3M9e2Zyb206dSx0bzp1fSxcIm9iamVjdFwiPT10eXBlb2YgYz9oPWMuY2FzZUZvbGQ6KGg9YyxjPW51bGwpLFwic3RyaW5nXCI9PXR5cGVvZiBsPyhudWxsPT1oJiYoaD0hMSksdGhpcy5tYXRjaGVzPWZ1bmN0aW9uKGksbyl7cmV0dXJuKGk/ZnVuY3Rpb24oZSxpLG8sYSl7aWYoIWkubGVuZ3RoKXJldHVybiBudWxsO3ZhciBsPWE/dDpuLHU9bChpKS5zcGxpdCgvXFxyfFxcblxccj8vKTtlOmZvcih2YXIgYz1vLmxpbmUsaD1vLmNoLGQ9ZS5maXJzdExpbmUoKS0xK3UubGVuZ3RoO2M+PWQ7Yy0tLGg9LTEpe3ZhciBmPWUuZ2V0TGluZShjKTtoPi0xJiYoZj1mLnNsaWNlKDAsaCkpO3ZhciBwPWwoZik7aWYoMT09dS5sZW5ndGgpe3ZhciBnPXAubGFzdEluZGV4T2YodVswXSk7aWYoLTE9PWcpY29udGludWUgZTtyZXR1cm57ZnJvbTpyKGMscyhmLHAsZyxsKSksdG86cihjLHMoZixwLGcrdVswXS5sZW5ndGgsbCkpfX12YXIgdj11W3UubGVuZ3RoLTFdO2lmKHAuc2xpY2UoMCx2Lmxlbmd0aCk9PXYpe2Zvcih2YXIgbT0xLG89Yy11Lmxlbmd0aCsxO208dS5sZW5ndGgtMTttKyspaWYobChlLmdldExpbmUobyttKSkhPXVbbV0pY29udGludWUgZTt2YXIgYj1lLmdldExpbmUoYysxLXUubGVuZ3RoKSx5PWwoYik7aWYoeS5zbGljZSh5Lmxlbmd0aC11WzBdLmxlbmd0aCk9PXVbMF0pcmV0dXJue2Zyb206cihjKzEtdS5sZW5ndGgscyhiLHksYi5sZW5ndGgtdVswXS5sZW5ndGgsbCkpLHRvOnIoYyxzKGYscCx2Lmxlbmd0aCxsKSl9fX19OmZ1bmN0aW9uKGUsaSxvLGEpe2lmKCFpLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbD1hP3Q6bix1PWwoaSkuc3BsaXQoL1xccnxcXG5cXHI/Lyk7ZTpmb3IodmFyIGM9by5saW5lLGg9by5jaCxkPWUubGFzdExpbmUoKSsxLXUubGVuZ3RoO2M8PWQ7YysrLGg9MCl7dmFyIGY9ZS5nZXRMaW5lKGMpLnNsaWNlKGgpLHA9bChmKTtpZigxPT11Lmxlbmd0aCl7dmFyIGc9cC5pbmRleE9mKHVbMF0pO2lmKC0xPT1nKWNvbnRpbnVlIGU7dmFyIG89cyhmLHAsZyxsKStoO3JldHVybntmcm9tOnIoYyxzKGYscCxnLGwpK2gpLHRvOnIoYyxzKGYscCxnK3VbMF0ubGVuZ3RoLGwpK2gpfX12YXIgdj1wLmxlbmd0aC11WzBdLmxlbmd0aDtpZihwLnNsaWNlKHYpPT11WzBdKXtmb3IodmFyIG09MTttPHUubGVuZ3RoLTE7bSsrKWlmKGwoZS5nZXRMaW5lKGMrbSkpIT11W21dKWNvbnRpbnVlIGU7dmFyIGI9ZS5nZXRMaW5lKGMrdS5sZW5ndGgtMSkseT1sKGIpLEE9dVt1Lmxlbmd0aC0xXTtpZih5LnNsaWNlKDAsQS5sZW5ndGgpPT1BKXJldHVybntmcm9tOnIoYyxzKGYscCx2LGwpK2gpLHRvOnIoYyt1Lmxlbmd0aC0xLHMoYix5LEEubGVuZ3RoLGwpKX19fX0pKGUsbCxvLGgpfSk6KGw9aShsLFwiZ21cIiksYyYmITE9PT1jLm11bHRpbGluZT90aGlzLm1hdGNoZXM9ZnVuY3Rpb24odCxuKXtyZXR1cm4odD9mdW5jdGlvbihlLHQsbil7dD1pKHQsXCJnXCIpO2Zvcih2YXIgbz1uLmxpbmUscz1uLmNoLGw9ZS5maXJzdExpbmUoKTtvPj1sO28tLSxzPS0xKXt2YXIgdT1lLmdldExpbmUobyk7cz4tMSYmKHU9dS5zbGljZSgwLHMpKTt2YXIgYz1hKHUsdCk7aWYoYylyZXR1cm57ZnJvbTpyKG8sYy5pbmRleCksdG86cihvLGMuaW5kZXgrY1swXS5sZW5ndGgpLG1hdGNoOmN9fX06bykoZSxsLG4pfTp0aGlzLm1hdGNoZXM9ZnVuY3Rpb24odCxuKXtyZXR1cm4odD9mdW5jdGlvbihlLHQsbil7dD1pKHQsXCJnbVwiKTtmb3IodmFyIG8scz0xLGw9bi5saW5lLHU9ZS5maXJzdExpbmUoKTtsPj11Oyl7Zm9yKHZhciBjPTA7YzxzO2MrKyl7dmFyIGg9ZS5nZXRMaW5lKGwtLSk7bz1udWxsPT1vP2guc2xpY2UoMCxuLmNoKTpoK1wiXFxuXCIrb31zKj0yO3ZhciBkPWEobyx0KTtpZihkKXt2YXIgZj1vLnNsaWNlKDAsZC5pbmRleCkuc3BsaXQoXCJcXG5cIikscD1kWzBdLnNwbGl0KFwiXFxuXCIpLGc9bCtmLmxlbmd0aCx2PWZbZi5sZW5ndGgtMV0ubGVuZ3RoO3JldHVybntmcm9tOnIoZyx2KSx0bzpyKGcrcC5sZW5ndGgtMSwxPT1wLmxlbmd0aD92K3BbMF0ubGVuZ3RoOnBbcC5sZW5ndGgtMV0ubGVuZ3RoKSxtYXRjaDpkfX19fTpmdW5jdGlvbihlLHQsbil7aWYoIWZ1bmN0aW9uKGUpe3JldHVybi9cXFxcc3xcXFxcbnxcXG58XFxcXFd8XFxcXER8XFxbXFxeLy50ZXN0KGUuc291cmNlKX0odCkpcmV0dXJuIG8oZSx0LG4pO3Q9aSh0LFwiZ21cIik7Zm9yKHZhciBhLHM9MSxsPW4ubGluZSx1PWUubGFzdExpbmUoKTtsPD11Oyl7Zm9yKHZhciBjPTA7YzxzJiYhKGw+dSk7YysrKXt2YXIgaD1lLmdldExpbmUobCsrKTthPW51bGw9PWE/aDphK1wiXFxuXCIraH1zKj0yLHQubGFzdEluZGV4PW4uY2g7dmFyIGQ9dC5leGVjKGEpO2lmKGQpe3ZhciBmPWEuc2xpY2UoMCxkLmluZGV4KS5zcGxpdChcIlxcblwiKSxwPWRbMF0uc3BsaXQoXCJcXG5cIiksZz1uLmxpbmUrZi5sZW5ndGgtMSx2PWZbZi5sZW5ndGgtMV0ubGVuZ3RoO3JldHVybntmcm9tOnIoZyx2KSx0bzpyKGcrcC5sZW5ndGgtMSwxPT1wLmxlbmd0aD92K3BbMF0ubGVuZ3RoOnBbcC5sZW5ndGgtMV0ubGVuZ3RoKSxtYXRjaDpkfX19fSkoZSxsLG4pfSl9U3RyaW5nLnByb3RvdHlwZS5ub3JtYWxpemU/KHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9ybWFsaXplKFwiTkZEXCIpLnRvTG93ZXJDYXNlKCl9LG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9ybWFsaXplKFwiTkZEXCIpfSk6KHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX0sbj1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLGwucHJvdG90eXBlPXtmaW5kTmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbmQoITEpfSxmaW5kUHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maW5kKCEwKX0sZmluZDpmdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy5tYXRjaGVzKHQsdGhpcy5kb2MuY2xpcFBvcyh0P3RoaXMucG9zLmZyb206dGhpcy5wb3MudG8pKTtuJiYwPT1lLmNtcFBvcyhuLmZyb20sbi50byk7KXQ/bi5mcm9tLmNoP24uZnJvbT1yKG4uZnJvbS5saW5lLG4uZnJvbS5jaC0xKTpuPW4uZnJvbS5saW5lPT10aGlzLmRvYy5maXJzdExpbmUoKT9udWxsOnRoaXMubWF0Y2hlcyh0LHRoaXMuZG9jLmNsaXBQb3MocihuLmZyb20ubGluZS0xKSkpOm4udG8uY2g8dGhpcy5kb2MuZ2V0TGluZShuLnRvLmxpbmUpLmxlbmd0aD9uLnRvPXIobi50by5saW5lLG4udG8uY2grMSk6bj1uLnRvLmxpbmU9PXRoaXMuZG9jLmxhc3RMaW5lKCk/bnVsbDp0aGlzLm1hdGNoZXModCxyKG4udG8ubGluZSsxLDApKTtpZihuKXJldHVybiB0aGlzLnBvcz1uLHRoaXMuYXRPY2N1cnJlbmNlPSEwLHRoaXMucG9zLm1hdGNofHwhMDt2YXIgaT1yKHQ/dGhpcy5kb2MuZmlyc3RMaW5lKCk6dGhpcy5kb2MubGFzdExpbmUoKSsxLDApO3JldHVybiB0aGlzLnBvcz17ZnJvbTppLHRvOml9LHRoaXMuYXRPY2N1cnJlbmNlPSExfSxmcm9tOmZ1bmN0aW9uKCl7aWYodGhpcy5hdE9jY3VycmVuY2UpcmV0dXJuIHRoaXMucG9zLmZyb219LHRvOmZ1bmN0aW9uKCl7aWYodGhpcy5hdE9jY3VycmVuY2UpcmV0dXJuIHRoaXMucG9zLnRvfSxyZXBsYWNlOmZ1bmN0aW9uKHQsbil7aWYodGhpcy5hdE9jY3VycmVuY2Upe3ZhciBpPWUuc3BsaXRMaW5lcyh0KTt0aGlzLmRvYy5yZXBsYWNlUmFuZ2UoaSx0aGlzLnBvcy5mcm9tLHRoaXMucG9zLnRvLG4pLHRoaXMucG9zLnRvPXIodGhpcy5wb3MuZnJvbS5saW5lK2kubGVuZ3RoLTEsaVtpLmxlbmd0aC0xXS5sZW5ndGgrKDE9PWkubGVuZ3RoP3RoaXMucG9zLmZyb20uY2g6MCkpfX19LGUuZGVmaW5lRXh0ZW5zaW9uKFwiZ2V0U2VhcmNoQ3Vyc29yXCIsZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgbCh0aGlzLmRvYyxlLHQsbil9KSxlLmRlZmluZURvY0V4dGVuc2lvbihcImdldFNlYXJjaEN1cnNvclwiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IGwodGhpcyxlLHQsbil9KSxlLmRlZmluZUV4dGVuc2lvbihcInNlbGVjdE1hdGNoZXNcIixmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1bXSxpPXRoaXMuZ2V0U2VhcmNoQ3Vyc29yKHQsdGhpcy5nZXRDdXJzb3IoXCJmcm9tXCIpLG4pO2kuZmluZE5leHQoKSYmIShlLmNtcFBvcyhpLnRvKCksdGhpcy5nZXRDdXJzb3IoXCJ0b1wiKSk+MCk7KXIucHVzaCh7YW5jaG9yOmkuZnJvbSgpLGhlYWQ6aS50bygpfSk7ci5sZW5ndGgmJnRoaXMuc2V0U2VsZWN0aW9ucyhyLDApfSl9KG4oMCkpfSxmdW5jdGlvbihlLHQsbil7IWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciB0PVwiQ29kZU1pcnJvci1hY3RpdmVsaW5lXCIsbj1cIkNvZGVNaXJyb3ItYWN0aXZlbGluZS1iYWNrZ3JvdW5kXCIscj1cIkNvZGVNaXJyb3ItYWN0aXZlbGluZS1ndXR0ZXJcIjtmdW5jdGlvbiBpKGUpe2Zvcih2YXIgaT0wO2k8ZS5zdGF0ZS5hY3RpdmVMaW5lcy5sZW5ndGg7aSsrKWUucmVtb3ZlTGluZUNsYXNzKGUuc3RhdGUuYWN0aXZlTGluZXNbaV0sXCJ3cmFwXCIsdCksZS5yZW1vdmVMaW5lQ2xhc3MoZS5zdGF0ZS5hY3RpdmVMaW5lc1tpXSxcImJhY2tncm91bmRcIixuKSxlLnJlbW92ZUxpbmVDbGFzcyhlLnN0YXRlLmFjdGl2ZUxpbmVzW2ldLFwiZ3V0dGVyXCIscil9ZnVuY3Rpb24gbyhlLG8pe2Zvcih2YXIgYT1bXSxzPTA7czxvLmxlbmd0aDtzKyspe3ZhciBsPW9bc10sdT1lLmdldE9wdGlvbihcInN0eWxlQWN0aXZlTGluZVwiKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdSYmdS5ub25FbXB0eT9sLmFuY2hvci5saW5lPT1sLmhlYWQubGluZTpsLmVtcHR5KCkpe3ZhciBjPWUuZ2V0TGluZUhhbmRsZVZpc3VhbFN0YXJ0KGwuaGVhZC5saW5lKTthW2EubGVuZ3RoLTFdIT1jJiZhLnB1c2goYyl9fShmdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoIT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dIT10W25dKXJldHVybiExO3JldHVybiEwfSkoZS5zdGF0ZS5hY3RpdmVMaW5lcyxhKXx8ZS5vcGVyYXRpb24oZnVuY3Rpb24oKXtpKGUpO2Zvcih2YXIgbz0wO288YS5sZW5ndGg7bysrKWUuYWRkTGluZUNsYXNzKGFbb10sXCJ3cmFwXCIsdCksZS5hZGRMaW5lQ2xhc3MoYVtvXSxcImJhY2tncm91bmRcIixuKSxlLmFkZExpbmVDbGFzcyhhW29dLFwiZ3V0dGVyXCIscik7ZS5zdGF0ZS5hY3RpdmVMaW5lcz1hfSl9ZnVuY3Rpb24gYShlLHQpe28oZSx0LnJhbmdlcyl9ZS5kZWZpbmVPcHRpb24oXCJzdHlsZUFjdGl2ZUxpbmVcIiwhMSxmdW5jdGlvbih0LG4scil7dmFyIHM9ciE9ZS5Jbml0JiZyO24hPXMmJihzJiYodC5vZmYoXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIixhKSxpKHQpLGRlbGV0ZSB0LnN0YXRlLmFjdGl2ZUxpbmVzKSxuJiYodC5zdGF0ZS5hY3RpdmVMaW5lcz1bXSxvKHQsdC5saXN0U2VsZWN0aW9ucygpKSx0Lm9uKFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsYSkpKX0pfShuKDApKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzkpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW2UuaSxyLFwiXCJdXSk7dmFyIGk9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDMpKHIsaSk7ci5sb2NhbHMmJihlLmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big0MCk7KGUuZXhwb3J0cz1uKDIpKCExKSkucHVzaChbZS5pLFwiLnZydi11aS13cmFwcGVyIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBtYXJnaW46IDA7IH1cXG4gIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXZpZXdzIHtcXG4gICAgbWluLWhlaWdodDogMTAwcHg7XFxuICAgIG1pbi13aWR0aDogMjAwcHg7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDsgfVxcbiAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS12aWV3cyAudnJ2LXVpLWxvYWRpbmcge1xcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIHdpZHRoOiAxMDAlOyB9XFxuICAgICAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdmlld3MgLnZydi11aS1sb2FkaW5nIC52cnYtdWktbG9hZGluZy10ZXh0IHtcXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgIGhlaWdodDogMTAwcHg7IH1cXG4gICAgICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXZpZXdzIC52cnYtdWktbG9hZGluZyAudnJ2LXVpLWxvYWRpbmctdGV4dDphZnRlciB7XFxuICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICBjbGVhcjogYm90aDtcXG4gICAgICAgICAgY29udGVudDogdXJsKFwiK3Iobig0MSkpK1wiKTsgfVxcbiAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS12aWV3cyAudnJ2LXVpLXZpZXcgLnZydi11aS1kb2Mtd3JhcHBlciB7XFxuICAgICAgYmFja2dyb3VuZDogd2hpdGVzbW9rZTtcXG4gICAgICBtYXJnaW46IDA7IH1cXG4gICAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS12aWV3cyAudnJ2LXVpLXZpZXcgLnZydi11aS1kb2Mtd3JhcHBlciAudnJ2LXVpLXBhZ2Utd3JhcHBlciB7XFxuICAgICAgICBtYXJnaW46IGF1dG8gYXV0bztcXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOyB9XFxuICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS14bWwge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCBsaWdodGdyYXk7XFxuICAgIGJhY2tncm91bmQ6IGxpZ2h0Z3JheTsgfVxcbiAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS14bWwgLnZydi11aS14bWx2YWxpZCB7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB6LWluZGV4OiA1O1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICBtaW4taGVpZ2h0OiAxNXB4O1xcbiAgICAgIG1pbi13aWR0aDogMTVweDtcXG4gICAgICBiYWNrZ3JvdW5kOiBncmVlbjsgfVxcbiAgLnZydi11aS13cmFwcGVyIHN2ZyB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBtYXJnaW46IDAgYXV0bzsgfVxcbiAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgYmFja2dyb3VuZDogbGlnaHRncmF5O1xcbiAgICBtaW4taGVpZ2h0OiAzNnB4OyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zZXBhcmF0b3Ige1xcbiAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICAgIG1pbi13aWR0aDogMXB4O1xcbiAgICAgIGhlaWdodDogMzZweDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmFiYWJhOyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4sIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4taWNvbi1sZWZ0LCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudSAudnJ2LXVpLWJ0bi12aWV3LXNlbGVjdG9yOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1wcmV2aW91czpiZWZvcmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1kb2N1bWVudCwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCAudnJ2LXVpLWJ0bi12aWV3LXJlc3BvbnNpdmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1lZGl0b3IsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4taWNvbiwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1uZXh0OmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi16b29tLW91dDpiZWZvcmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4tem9vbS1pbjpiZWZvcmUge1xcbiAgICAgIGZsb2F0OiBsZWZ0O1xcbiAgICAgIHBhZGRpbmc6IDlweCAxMHB4IDBweCAxMHB4O1xcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gICAgICBoZWlnaHQ6IDI3cHg7XFxuICAgICAgZm9udC1zaXplOiAxNnB4OyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG46aG92ZXIsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4taWNvbi1sZWZ0OmhvdmVyLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudSAudnJ2LXVpLWJ0bi12aWV3LXNlbGVjdG9yOmhvdmVyOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1wcmV2aW91czpob3ZlcjpiZWZvcmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1kb2N1bWVudDpob3ZlciwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCAudnJ2LXVpLWJ0bi12aWV3LXJlc3BvbnNpdmU6aG92ZXIsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1lZGl0b3I6aG92ZXIsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4taWNvbjpob3ZlciwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1uZXh0OmhvdmVyOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi16b29tLW91dDpob3ZlcjpiZWZvcmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4tem9vbS1pbjpob3ZlcjpiZWZvcmUge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNiYWJhYmE7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyOyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG46YWN0aXZlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLWljb24tbGVmdDphY3RpdmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51IC52cnYtdWktYnRuLXZpZXctc2VsZWN0b3I6YWN0aXZlOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1wcmV2aW91czphY3RpdmU6YmVmb3JlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudS1jb250ZW50IC52cnYtdWktYnRuLXZpZXctZG9jdW1lbnQ6YWN0aXZlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudS1jb250ZW50IC52cnYtdWktYnRuLXZpZXctcmVzcG9uc2l2ZTphY3RpdmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1lZGl0b3I6YWN0aXZlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLWljb246YWN0aXZlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLW5leHQ6YWN0aXZlOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi16b29tLW91dDphY3RpdmU6YmVmb3JlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLXpvb20taW46YWN0aXZlOmJlZm9yZSB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2EwYTBhMDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7IH1cXG4gICAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1kaXNhYmxlZCB7XFxuICAgICAgb3BhY2l0eTogMC4yO1xcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4taWNvbi1sZWZ0LCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudSAudnJ2LXVpLWJ0bi12aWV3LXNlbGVjdG9yOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1wcmV2aW91czpiZWZvcmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1kb2N1bWVudCwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCAudnJ2LXVpLWJ0bi12aWV3LXJlc3BvbnNpdmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1lZGl0b3Ige1xcbiAgICAgIHBhZGRpbmctbGVmdDogMzBweDtcXG4gICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IDhweCBjZW50ZXIgIWltcG9ydGFudDsgfVxcbiAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLWljb24sIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4tbmV4dDpiZWZvcmUsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4tem9vbS1vdXQ6YmVmb3JlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLXpvb20taW46YmVmb3JlIHtcXG4gICAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xcbiAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgOHB4IGNlbnRlciAhaW1wb3J0YW50OyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51IC52cnYtdWktYnRuLXZpZXctc2VsZWN0b3I6YmVmb3JlIHtcXG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCIrcihuKDQyKSkrXCIpIG5vLXJlcGVhdDtcXG4gICAgICBjb250ZW50OiAnVmlldyc7IH1cXG4gICAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1wcmV2aW91czpiZWZvcmUge1xcbiAgICAgIGJhY2tncm91bmQ6IHVybChcIityKG4oNDMpKStcIikgbm8tcmVwZWF0O1xcbiAgICAgIGNvbnRlbnQ6ICdQcmV2aW91cyc7IH1cXG4gICAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1uZXh0OmJlZm9yZSB7XFxuICAgICAgYmFja2dyb3VuZDogdXJsKFwiK3Iobig0NCkpK1wiKSBuby1yZXBlYXQ7XFxuICAgICAgY29udGVudDogJ05leHQnOyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4tem9vbS1vdXQ6YmVmb3JlIHtcXG4gICAgICBiYWNrZ3JvdW5kOiB1cmwoXCIrcihuKDQ1KSkrXCIpIG5vLXJlcGVhdDtcXG4gICAgICBjb250ZW50OiAnWm9vbSBvdXQnOyB9XFxuICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1idG4tem9vbS1pbjpiZWZvcmUge1xcbiAgICAgIGJhY2tncm91bmQ6IHVybChcIityKG4oNDYpKStcIikgbm8tcmVwZWF0O1xcbiAgICAgIGNvbnRlbnQ6ICdab29tIGluJzsgfVxcbiAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudS1jb250ZW50IHtcXG4gICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICBtYXJnaW4tdG9wOiAzNnB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZGVkZWQ7XFxuICAgICAgei1pbmRleDogMTtcXG4gICAgICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxcbiAgICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tY2hlY2tlZDphZnRlciB7XFxuICAgICAgICBjb250ZW50OiB1cmwoXCIrcihuKDQ3KSkrXCIpO1xcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDsgfVxcbiAgICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1kb2N1bWVudCB7XFxuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoXCIrcihuKDQ4KSkrXCIpIG5vLXJlcGVhdDsgfVxcbiAgICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1kb2N1bWVudDpiZWZvcmUge1xcbiAgICAgICAgY29udGVudDogJ0RvY3VtZW50JzsgfVxcbiAgICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1yZXNwb25zaXZlIHtcXG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcIityKG4oNDkpKStcIikgbm8tcmVwZWF0OyB9XFxuICAgICAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCAudnJ2LXVpLWJ0bi12aWV3LXJlc3BvbnNpdmU6YmVmb3JlIHtcXG4gICAgICAgIGNvbnRlbnQ6ICdSZXNwb25zaXZlJzsgfVxcbiAgICAgIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51LWNvbnRlbnQgLnZydi11aS1idG4tdmlldy1lZGl0b3Ige1xcbiAgICAgICAgYmFja2dyb3VuZDogdXJsKFwiK3Iobig1MCkpK1wiKSBuby1yZXBlYXQ7IH1cXG4gICAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudS1jb250ZW50IC52cnYtdWktYnRuLXZpZXctZWRpdG9yOmJlZm9yZSB7XFxuICAgICAgICBjb250ZW50OiAnRWRpdG9yJzsgfVxcbiAgICAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudTpob3ZlciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCB7XFxuICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xcbiAgICAgIGRpc3BsYXk6IGZsZXg7IH1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCkge1xcbiAgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0biwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1pY29uLWxlZnQsIC52cnYtdWktd3JhcHBlciAudnJ2LXVpLXRvb2xiYXIgLnZydi11aS1zdWJtZW51IC52cnYtdWktYnRuLXZpZXctc2VsZWN0b3I6YmVmb3JlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLXByZXZpb3VzOmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCAudnJ2LXVpLWJ0bi12aWV3LWRvY3VtZW50LCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktc3VibWVudS1jb250ZW50IC52cnYtdWktYnRuLXZpZXctcmVzcG9uc2l2ZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLXN1Ym1lbnUtY29udGVudCAudnJ2LXVpLWJ0bi12aWV3LWVkaXRvciwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi1pY29uLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLW5leHQ6YmVmb3JlLCAudnJ2LXVpLXdyYXBwZXIgLnZydi11aS10b29sYmFyIC52cnYtdWktYnRuLXpvb20tb3V0OmJlZm9yZSwgLnZydi11aS13cmFwcGVyIC52cnYtdWktdG9vbGJhciAudnJ2LXVpLWJ0bi16b29tLWluOmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6ICcnOyB9IH1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlP2U6KC9eWydcIl0uKlsnXCJdJC8udGVzdChlKSYmKGU9ZS5zbGljZSgxLC0xKSksL1tcIicoKSBcXHRcXG5dLy50ZXN0KGUpPydcIicrZS5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZyxcIlxcXFxuXCIpKydcIic6ZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQQ0V0TFNCQ2VTQlRZVzBnU0dWeVltVnlkQ0FvUUhOb1pYSmlLU3dnWm05eUlHVjJaWEo1YjI1bExpQk5iM0psSUVBZ2FIUjBjRG92TDJkdmJ5NW5iQzgzUVVwNllrd2dMUzArQ2p4emRtY2dkMmxrZEdnOUlqVTRJaUJvWldsbmFIUTlJalU0SWlCMmFXVjNRbTk0UFNJd0lEQWdOVGdnTlRnaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK0NpQWdJQ0E4WnlCbWFXeHNQU0p1YjI1bElpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlQZ29nSUNBZ0lDQWdJRHhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtESWdNU2tpSUhOMGNtOXJaVDBpSXpRME5DSWdjM1J5YjJ0bExYZHBaSFJvUFNJeExqVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBOFkybHlZMnhsSUdONFBTSTBNaTQyTURFaUlHTjVQU0l4TVM0ME5qSWlJSEk5SWpVaUlHWnBiR3d0YjNCaFkybDBlVDBpTVNJZ1ptbHNiRDBpSXpRME5DSStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThZVzVwYldGMFpTQmhkSFJ5YVdKMWRHVk9ZVzFsUFNKbWFXeHNMVzl3WVdOcGRIa2lDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdKbFoybHVQU0l3Y3lJZ1pIVnlQU0l4TGpOeklnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IyWVd4MVpYTTlJakU3TURzd096QTdNRHN3T3pBN01DSWdZMkZzWTAxdlpHVTlJbXhwYm1WaGNpSUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY21Wd1pXRjBRMjkxYm5ROUltbHVaR1ZtYVc1cGRHVWlJQzgrQ2lBZ0lDQWdJQ0FnSUNBZ0lEd3ZZMmx5WTJ4bFBnb2dJQ0FnSUNBZ0lDQWdJQ0E4WTJseVkyeGxJR040UFNJME9TNHdOak1pSUdONVBTSXlOeTR3TmpNaUlISTlJalVpSUdacGJHd3RiM0JoWTJsMGVUMGlNQ0lnWm1sc2JEMGlJelEwTkNJK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOFlXNXBiV0YwWlNCaGRIUnlhV0oxZEdWT1lXMWxQU0ptYVd4c0xXOXdZV05wZEhraUNpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0psWjJsdVBTSXdjeUlnWkhWeVBTSXhMak56SWdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjJZV3gxWlhNOUlqQTdNVHN3T3pBN01Ec3dPekE3TUNJZ1kyRnNZMDF2WkdVOUlteHBibVZoY2lJS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjbVZ3WldGMFEyOTFiblE5SW1sdVpHVm1hVzVwZEdVaUlDOCtDaUFnSUNBZ0lDQWdJQ0FnSUR3dlkybHlZMnhsUGdvZ0lDQWdJQ0FnSUNBZ0lDQThZMmx5WTJ4bElHTjRQU0kwTWk0Mk1ERWlJR041UFNJME1pNDJOak1pSUhJOUlqVWlJR1pwYkd3dGIzQmhZMmwwZVQwaU1DSWdabWxzYkQwaUl6UTBOQ0krQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4WVc1cGJXRjBaU0JoZEhSeWFXSjFkR1ZPWVcxbFBTSm1hV3hzTFc5d1lXTnBkSGtpQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHSmxaMmx1UFNJd2N5SWdaSFZ5UFNJeExqTnpJZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMllXeDFaWE05SWpBN01Ec3hPekE3TURzd096QTdNQ0lnWTJGc1kwMXZaR1U5SW14cGJtVmhjaUlLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2NtVndaV0YwUTI5MWJuUTlJbWx1WkdWbWFXNXBkR1VpSUM4K0NpQWdJQ0FnSUNBZ0lDQWdJRHd2WTJseVkyeGxQZ29nSUNBZ0lDQWdJQ0FnSUNBOFkybHlZMnhsSUdONFBTSXlOeUlnWTNrOUlqUTVMakV5TlNJZ2NqMGlOU0lnWm1sc2JDMXZjR0ZqYVhSNVBTSXdJaUJtYVd4c1BTSWpORFEwSWo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4aGJtbHRZWFJsSUdGMGRISnBZblYwWlU1aGJXVTlJbVpwYkd3dGIzQmhZMmwwZVNJS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZbVZuYVc0OUlqQnpJaUJrZFhJOUlqRXVNM01pQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIWmhiSFZsY3owaU1Ec3dPekE3TVRzd096QTdNRHN3SWlCallXeGpUVzlrWlQwaWJHbHVaV0Z5SWdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnlaWEJsWVhSRGIzVnVkRDBpYVc1a1pXWnBibWwwWlNJZ0x6NEtJQ0FnSUNBZ0lDQWdJQ0FnUEM5amFYSmpiR1UrQ2lBZ0lDQWdJQ0FnSUNBZ0lEeGphWEpqYkdVZ1kzZzlJakV4TGpNNU9TSWdZM2s5SWpReUxqWTJNeUlnY2owaU5TSWdabWxzYkMxdmNHRmphWFI1UFNJd0lpQm1hV3hzUFNJak5EUTBJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHhoYm1sdFlYUmxJR0YwZEhKcFluVjBaVTVoYldVOUltWnBiR3d0YjNCaFkybDBlU0lLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1ltVm5hVzQ5SWpCeklpQmtkWEk5SWpFdU0zTWlDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhaaGJIVmxjejBpTURzd096QTdNRHN4T3pBN01Ec3dJaUJqWVd4alRXOWtaVDBpYkdsdVpXRnlJZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYQmxZWFJEYjNWdWREMGlhVzVrWldacGJtbDBaU0lnTHo0S0lDQWdJQ0FnSUNBZ0lDQWdQQzlqYVhKamJHVStDaUFnSUNBZ0lDQWdJQ0FnSUR4amFYSmpiR1VnWTNnOUlqUXVPVE00SWlCamVUMGlNamN1TURZeklpQnlQU0kxSWlCbWFXeHNMVzl3WVdOcGRIazlJakFpSUdacGJHdzlJaU0wTkRRaVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BHRnVhVzFoZEdVZ1lYUjBjbWxpZFhSbFRtRnRaVDBpWm1sc2JDMXZjR0ZqYVhSNUlnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JpWldkcGJqMGlNSE1pSUdSMWNqMGlNUzR6Y3lJS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkbUZzZFdWelBTSXdPekE3TURzd096QTdNVHN3T3pBaUlHTmhiR05OYjJSbFBTSnNhVzVsWVhJaUNpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEpsY0dWaGRFTnZkVzUwUFNKcGJtUmxabWx1YVhSbElpQXZQZ29nSUNBZ0lDQWdJQ0FnSUNBOEwyTnBjbU5zWlQ0S0lDQWdJQ0FnSUNBZ0lDQWdQR05wY21Oc1pTQmplRDBpTVRFdU16azVJaUJqZVQwaU1URXVORFl5SWlCeVBTSTFJaUJtYVd4c0xXOXdZV05wZEhrOUlqQWlJR1pwYkd3OUlpTTBORFFpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEdGdWFXMWhkR1VnWVhSMGNtbGlkWFJsVG1GdFpUMGlabWxzYkMxdmNHRmphWFI1SWdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmlaV2RwYmowaU1ITWlJR1IxY2owaU1TNHpjeUlLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2RtRnNkV1Z6UFNJd096QTdNRHN3T3pBN01Ec3hPekFpSUdOaGJHTk5iMlJsUFNKc2FXNWxZWElpQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lISmxjR1ZoZEVOdmRXNTBQU0pwYm1SbFptbHVhWFJsSWlBdlBnb2dJQ0FnSUNBZ0lDQWdJQ0E4TDJOcGNtTnNaVDRLSUNBZ0lDQWdJQ0FnSUNBZ1BHTnBjbU5zWlNCamVEMGlNamNpSUdONVBTSTFJaUJ5UFNJMUlpQm1hV3hzTFc5d1lXTnBkSGs5SWpBaUlHWnBiR3c5SWlNME5EUWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQR0Z1YVcxaGRHVWdZWFIwY21saWRYUmxUbUZ0WlQwaVptbHNiQzF2Y0dGamFYUjVJZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCaVpXZHBiajBpTUhNaUlHUjFjajBpTVM0emN5SUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZG1Gc2RXVnpQU0l3T3pBN01Ec3dPekE3TURzd096RWlJR05oYkdOTmIyUmxQU0pzYVc1bFlYSWlDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhKbGNHVmhkRU52ZFc1MFBTSnBibVJsWm1sdWFYUmxJaUF2UGdvZ0lDQWdJQ0FnSUNBZ0lDQThMMk5wY21Oc1pUNEtJQ0FnSUNBZ0lDQThMMmMrQ2lBZ0lDQThMMmMrQ2p3dmMzWm5QZz09XCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVFBQUFDMStqZnFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFBbUpMUjBRQUFLcU5JeklBQUFBSmNFaFpjd0FBRGRjQUFBM1hBVUlvbTNnQUFBQUhkRWxOUlFmaUN4QU5IU3gxL2VVTEFBQUFTRWxFUVZRb3oyTmdJQUFZR1FvWUxQREluMkJrK0kvZkJDYUdrM2psOGNzU0JSZ1pkQmgwOE1oZllXVDR5TUNIUjhFbkpvcXRvTndYREF3bkdQN2pnWVNEbW1Ca0VYUUJBQ1VQR2tjQVJFNEZBQUFBSlhSRldIUmtZWFJsT21OeVpXRjBaUUF5TURFNExURXhMVEUyVkRFek9qSTVPalEwS3pBeE9qQXc2WTB5U1FBQUFDVjBSVmgwWkdGMFpUcHRiMlJwWm5rQU1qQXhPQzB4TVMweE5sUXhNem95T1RvME5Dc3dNVG93TUpqUWl2VUFBQUFaZEVWWWRGTnZablIzWVhKbEFIZDNkeTVwYm10elkyRndaUzV2Y21lYjdqd2FBQUFBQUVsRlRrU3VRbUNDXCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVFBQUFDMStqZnFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFBbUpMUjBRQUFLcU5JeklBQUFBSmNFaFpjd0FBRGRjQUFBM1hBVUlvbTNnQUFBQUhkRWxOUlFmaUN3OFNJeUZWaVNGUEFBQUFNVWxFUVZRb3oyTmd3QVlLR1BvWjhJQUNodjhNL3hsNjhFdi9aZ2daUXRKTURFUURBbFlNVGlVOURBejRsTUNqR3dDSG9URVVwN3pIa3dBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhPQzB4TVMweE5WUXhPRG96TlRvek15c3dNVG93TUROY01jRUFBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRndE1URXRNVFZVTVRnNk16VTZNek1yTURFNk1EQkNBWWw5QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUIzZDNjdWFXNXJjMk5oY0dVdWIzSm5tKzQ4R2dBQUFBQkpSVTVFcmtKZ2dnPT1cIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBUUFBQUMxK2pmcUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUFtSkxSMFFBQUtxTkl6SUFBQUFKY0VoWmN3QUFEZGNBQUEzWEFVSW9tM2dBQUFBSGRFbE5SUWZpQ3c4U0pBRWhwcGRBQUFBQVMwbEVRVlFvejJObWdJRitCazJHRXd3NFFRL0RmNGIvREFXNEZZUXcvQjdDU3Bnd0ZEQXo0QVhSREgvd1daSEE4QmVmZEFyRFAzelNtZmlsOHhqKzQvZGVCU0hmTXpDMFk1Y0dBRHhlTWQ0Wnp0OHdBQUFBSlhSRldIUmtZWFJsT21OeVpXRjBaUUF5TURFNExURXhMVEUxVkRFNE9qTTJPakF4S3pBeE9qQXd3WHVjQ0FBQUFDVjBSVmgwWkdGMFpUcHRiMlJwWm5rQU1qQXhPQzB4TVMweE5WUXhPRG96Tmpvd01Tc3dNVG93TUxBbUpMUUFBQUFaZEVWWWRGTnZablIzWVhKbEFIZDNkeTVwYm10elkyRndaUzV2Y21lYjdqd2FBQUFBQUVsRlRrU3VRbUNDXCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVFBQUFDMStqZnFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFBbUpMUjBRQUFLcU5JeklBQUFBSmNFaFpjd0FBRGRjQUFBM1hBVUlvbTNnQUFBQUhkRWxOUlFmaUN3OFNJZzduUXkxWEFBQUExRWxFUVZRb3o2M1FyMDVDQVJUSDhROTNFQWpPZ2MwWG9MakpyQVF5a2MzQ0kvQktUSjZBd1NpTVFpRkJjRENEaldTU1FORk41NTk1REtMM1h0eE1udlk5NTN2T2J6dEFvbXRpNjg1SXg2ODZOUmZDem9NUXhpclpjV0l1VE5WUVVMY1VCbG1oSzB3elhMSVcybWxqSXRSeWtVMmgvdzBGVzBVbnpsenVPMWQySHQwNi84S2lGMlVGeis3M3dxdWl4RnQ2Y0NUVWN4RXRvWmRpUjFncS9mQ3hqZERJYm95RnRhYXlJeTBiWVpoL1ZNVkFDTzgraEREMFpLR2FsOXI2Ymx6cmFXQWhyQTZWYkZXdC9rMlo4WmN5Yy9FSkNHOUlnbU9LWjJJQUFBQWxkRVZZZEdSaGRHVTZZM0psWVhSbEFESXdNVGd0TVRFdE1UVlVNVGc2TXpRNk1UUXJNREU2TURCYkhHTU1BQUFBSlhSRldIUmtZWFJsT20xdlpHbG1lUUF5TURFNExURXhMVEUxVkRFNE9qTTBPakUwS3pBeE9qQXdLa0hic0FBQUFCbDBSVmgwVTI5bWRIZGhjbVVBZDNkM0xtbHVhM05qWVhCbExtOXlaNXZ1UEJvQUFBQUFTVVZPUks1Q1lJST1cIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBUUFBQUMxK2pmcUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUFtSkxSMFFBQUtxTkl6SUFBQUFKY0VoWmN3QUFEZGNBQUEzWEFVSW9tM2dBQUFBSGRFbE5SUWZpQ3c4U0h6S2l4Qmx1QUFBQTNVbEVRVlFvejYzUXZVcUNBUlFHNEVmUm9TRkNnNFpvYTNBUmtsWUhXeDJGRnU4Zzc2THJpTHdDVVZ6RXhjVkpCMUVhMnB5YWRIQ29wT2lIVHBQNFdkRFVXZDhIM25NT2tOYlFzL1Nnbys3WEhCc0tZZVZKQ0YyNVpKdzJGUG9LU0NrWkM2MGthQWg5VUhTS3JKbFEyNEtlVUFEWHJrQkZhRzdpbEtXTVEwV1hMcXhOM0ZwNWR1OXNzOEdickpSWEMydVBGdDVscEgxc0t6cENhYWVpS3R4c1FWMFl5K0xFRVE3TWhYTHlqcTR3VTdGblg5VmNhTzgrS3FjbGhFOWZRbWg3TVpMZlJUVk5keVp1bERFU3BqOUpjdkttLzBZRy9FVUd6cjhCUFhOUG1vMEVQODhBQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01UZ3RNVEV0TVRWVU1UZzZNekU2TlRBck1ERTZNREROTUlLaEFBQUFKWFJGV0hSa1lYUmxPbTF2WkdsbWVRQXlNREU0TFRFeExURTFWREU0T2pNeE9qVXdLekF4T2pBd3ZHMDZIUUFBQUJsMFJWaDBVMjltZEhkaGNtVUFkM2QzTG1sdWEzTmpZWEJsTG05eVo1dnVQQm9BQUFBQVNVVk9SSzVDWUlJPVwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFNQ0FZQUFBQldkVnpuQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQ1hCSVdYTUFBQTNYQUFBTjF3RkNLSnQ0QUFBQldXbFVXSFJZVFV3NlkyOXRMbUZrYjJKbExuaHRjQUFBQUFBQVBIZzZlRzF3YldWMFlTQjRiV3h1Y3pwNFBTSmhaRzlpWlRwdWN6cHRaWFJoTHlJZ2VEcDRiWEIwYXowaVdFMVFJRU52Y21VZ05TNDBMakFpUGdvZ0lDQThjbVJtT2xKRVJpQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlQZ29nSUNBZ0lDQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJZ29nSUNBZ0lDQWdJQ0FnSUNCNGJXeHVjenAwYVdabVBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM1JwWm1Zdk1TNHdMeUkrQ2lBZ0lDQWdJQ0FnSUR4MGFXWm1Pazl5YVdWdWRHRjBhVzl1UGpFOEwzUnBabVk2VDNKcFpXNTBZWFJwYjI0K0NpQWdJQ0FnSUR3dmNtUm1Pa1JsYzJOeWFYQjBhVzl1UGdvZ0lDQThMM0prWmpwU1JFWStDand2ZURwNGJYQnRaWFJoUGdwTXdpZFpBQUFBeFVsRVFWUW9GWTJRc1E1QlFSQkZGeEcvb05iN0JaVkVSU0xSS1duOGlrNnI4ejBxaVE5UWkxYUJnbnZldXlOdk41R1k1TDQ3YytmTzdMNU42YjlvaGUyYmhGQXcvYmUxcGZoVzlMTVNjOXZLUnN6Z21Sb1JORThqajNxbEhQTmRHQXRaaExGamxXdGdmZ2tUYTJtbjVDRDBMSFROQ3pGbU1MVldMVHBhM0l2akdqTnJtQmtrNHRUVVYzRVNhRzZGdWZCMHpaVUl6TEdzRWdiNlhnU0dIdWExbUlqL3FpdDk0NmloOHF2QUVNOUlsSzlYcTI1UWpJVFlUSjFkQTZFWmJJdjRhZndBVUdRZlcraTAzOGtBQUFBQVNVVk9SSzVDWUlJPVwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FRQUFBQzEramZxQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQW1KTFIwUUFBS3FOSXpJQUFBQUpjRWhaY3dBQURkY0FBQTNYQVVJb20zZ0FBQUFIZEVsTlJRZmlDdzhUQWl5bVpTSW1BQUFBMVVsRVFWUW96NFhScjB1RFFSZ0E0RWY1d2xnektPSmdXTVJGTWRqRXRtQmFNaGhFdzVZRWsvK0R3V0MwR1AwTEJER0pHSTFiR2N4d3pLSkRaTWlVdFJubTU4Y2RpdStGOTdoN2VOLzdRVjNIeE5nd0dUMjdRRnROMDZVMEZqd3FrWG14NlYwRnpIL252amNESTR0Q3B1WFloaEhZY2doTzNPU0Zac0NhTXp2V294WVBialdFN0dlaGFqOEMvV2txd0t1N0NBeFRVTFljZ2RJMHpmb25pZ3FmUXJRelRrRndEdlpzZy9zVUZOY2JnT2UvUUZmMzl6Tnc1Q0NpcTY3emh3cVd6Rmx4NVNJaU5hZjV0T25KeEVmeTVXMzFMNTZhUEx2NGNMNHRBQUFBSlhSRldIUmtZWFJsT21OeVpXRjBaUUF5TURFNExURXhMVEUxVkRFNU9qQXlPalEwS3pBeE9qQXdXcGFpcXdBQUFDVjBSVmgwWkdGMFpUcHRiMlJwWm5rQU1qQXhPQzB4TVMweE5WUXhPVG93TWpvME5Dc3dNVG93TUN2TEdoY0FBQUFaZEVWWWRGTnZablIzWVhKbEFIZDNkeTVwYm10elkyRndaUzV2Y21lYjdqd2FBQUFBQUVsRlRrU3VRbUNDXCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVFBQUFDMStqZnFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFBbUpMUjBRQUFLcU5JeklBQUFBSmNFaFpjd0FBRGRjQUFBM1hBVUlvbTNnQUFBQUhkRWxOUlFmaUN3OFRBeHNIdzdab0FBQUFmVWxFUVZRb3o2WFF2UTNDUUF6RjhkOUZxWUdTS251a29vMlk0Q1pnZ1l4QmdkamlKZ0VHWUFIWWdBbWc0RU5DR0YyUnZ4dkxmbnJ5TTFOSlNGYVc0ZmJpQ0tQN255cFBYWGszRVcwNG5kbWFnMU1UQ3RZMm9MT0xIU0FqNnhzVnBndGFSYzlYMFAwclBCMkM5MlREcDc4bCtjZjE0R3F3QU9mYUNYVWVLRzBvdk5xZkdNSUFBQUFsZEVWWWRHUmhkR1U2WTNKbFlYUmxBREl3TVRndE1URXRNVFZVTVRrNk1ETTZNamNyTURFNk1EQkMwOXFQQUFBQUpYUkZXSFJrWVhSbE9tMXZaR2xtZVFBeU1ERTRMVEV4TFRFMVZERTVPakF6T2pJM0t6QXhPakF3TTQ1aU13QUFBQmwwUlZoMFUyOW1kSGRoY21VQWQzZDNMbWx1YTNOallYQmxMbTl5WjV2dVBCb0FBQUFBU1VWT1JLNUNZSUk9XCJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVFBQUFDMStqZnFBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFBbUpMUjBRQUFLcU5JeklBQUFBSmNFaFpjd0FBRGRjQUFBM1hBVUlvbTNnQUFBQUhkRWxOUlFmaUN3OFRCQlkyTTF3U0FBQUFlVWxFUVZRb3o1WFFPeEpBTUJoRjRXUE1hTHdxU3J1d05iVlZaREZHaDBpdHRKbGY1WkVJeG0yL1UxM3dMNmRIVXp3b01RWkJXUHhKUklCQ0VBUWQzamlobzZLaHBBWldsMU5HQktFbFFHSEkvYnduc2N2VHdjSkE5TVlqaWMwWjJ1TFU1Zm5DMDI4MkY5WXVZL0ZNZGovMmc4L0ErSmt2M2dCZEVWTWY1Rjg0VVFBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhPQzB4TVMweE5WUXhPVG93TkRveU1pc3dNVG93TVBJMzdsRUFBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRndE1URXRNVFZVTVRrNk1EUTZNaklyTURFNk1EQ0RhbGJ0QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUIzZDNjdWFXNXJjMk5oY0dVdWIzSm5tKzQ4R2dBQUFBQkpSVTVFcmtKZ2dnPT1cIn1dKTsiXX0=
